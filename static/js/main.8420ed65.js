/*! For license information please see main.8420ed65.js.LICENSE.txt */
!function(){var e={229:function(e,t,n){e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"===typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,o=void 0,u=function(e,t){b[i]=e,b[i+1]=t,2===(i+=2)&&(o?o(w):x())};function s(e){o=e}function c(e){u=e}var l="undefined"!==typeof window?window:void 0,f=l||{},h=f.MutationObserver||f.WebKitMutationObserver,d="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process),p="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function v(){return function(){return process.nextTick(w)}}function m(){return"undefined"!==typeof a?function(){a(w)}:k()}function y(){var e=0,t=new h(w),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function g(){var e=new MessageChannel;return e.port1.onmessage=w,function(){return e.port2.postMessage(0)}}function k(){var e=setTimeout;return function(){return e(w,1)}}var b=new Array(1e3);function w(){for(var e=0;e<i;e+=2)(0,b[e])(b[e+1]),b[e]=void 0,b[e+1]=void 0;i=0}function _(){try{var e=Function("return this")().require("vertx");return a=e.runOnLoop||e.runOnContext,m()}catch(t){return k()}}var x=void 0;function I(e,t){var n=this,r=new this.constructor(A);void 0===r[T]&&G(r);var i=n._state;if(i){var a=arguments[i-1];u((function(){return q(i,r,a,n._result)}))}else z(n,r,e,t);return r}function E(e){var t=this;if(e&&"object"===typeof e&&e.constructor===t)return e;var n=new t(A);return F(n,e),n}x=d?v():h?y():p?g():void 0===l?_():k();var T=Math.random().toString(36).substring(2);function A(){}var S=void 0,C=1,N=2;function R(){return new TypeError("You cannot resolve a promise with itself")}function O(){return new TypeError("A promises callback cannot return that same promise.")}function D(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function P(e,t,n){u((function(e){var r=!1,i=D(n,t,(function(n){r||(r=!0,t!==n?F(e,n):j(e,n))}),(function(t){r||(r=!0,B(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,B(e,i))}),e)}function L(e,t){t._state===C?j(e,t._result):t._state===N?B(e,t._result):z(t,void 0,(function(t){return F(e,t)}),(function(t){return B(e,t)}))}function M(e,n,r){n.constructor===e.constructor&&r===I&&n.constructor.resolve===E?L(e,n):void 0===r?j(e,n):t(r)?P(e,n,r):j(e,n)}function F(t,n){if(t===n)B(t,R());else if(e(n)){var r=void 0;try{r=n.then}catch(i){return void B(t,i)}M(t,n,r)}else j(t,n)}function U(e){e._onerror&&e._onerror(e._result),V(e)}function j(e,t){e._state===S&&(e._result=t,e._state=C,0!==e._subscribers.length&&u(V,e))}function B(e,t){e._state===S&&(e._state=N,e._result=t,u(U,e))}function z(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+C]=n,i[a+N]=r,0===a&&e._state&&u(V,e)}function V(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?q(n,r,i,a):i(a);e._subscribers.length=0}}function q(e,n,r,i){var a=t(r),o=void 0,u=void 0,s=!0;if(a){try{o=r(i)}catch(c){s=!1,u=c}if(n===o)return void B(n,O())}else o=i;n._state!==S||(a&&s?F(n,o):!1===s?B(n,u):e===C?j(n,o):e===N&&B(n,o))}function K(e,t){try{t((function(t){F(e,t)}),(function(t){B(e,t)}))}catch(n){B(e,n)}}var H=0;function W(){return H++}function G(e){e[T]=H++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Q(){return new Error("Array Methods must be provided an Array")}var J=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[T]||G(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&j(this.promise,this._result))):B(this.promise,Q())}return e.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===E){var i=void 0,a=void 0,o=!1;try{i=e.then}catch(s){o=!0,a=s}if(i===I&&e._state!==S)this._settledAt(e._state,t,e._result);else if("function"!==typeof i)this._remaining--,this._result[t]=e;else if(n===te){var u=new n(A);o?B(u,a):M(u,e,i),this._willSettleAt(u,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===S&&(this._remaining--,e===N?B(r,n):this._result[t]=n),0===this._remaining&&j(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;z(e,void 0,(function(e){return n._settledAt(C,t,e)}),(function(e){return n._settledAt(N,t,e)}))},e}();function X(e){return new J(this,e).promise}function Y(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function Z(e){var t=new this(A);return B(t,e),t}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function e(t){this[T]=W(),this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!==typeof t&&$(),this instanceof e?K(this,t):ee())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();function ne(){var e=void 0;if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(i){}if("[object Promise]"===r&&!t.cast)return}e.Promise=te}return te.prototype.then=I,te.all=X,te.race=Y,te.resolve=E,te.reject=Z,te._setScheduler=s,te._setAsap=c,te._asap=u,te.polyfill=ne,te.Promise=te,te}()},366:function(e,t,n){"use strict";e.exports=n(519)},519:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(763),a=n(427),o="https://api.giphy.com",u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiKey=t}return r(e,[{key:"setCredentials",value:function(e){this.apiKey=e}},{key:"search",value:function(e,t,n){var r={url:o+"/v1/"+e+"/search",method:"get",type:e,params:i.extend({api_key:this.apiKey},t)};return a(r,"search",n)}},{key:"trending",value:function(e,t,n){var r={url:o+"/v1/"+e+"/trending",method:"get",type:e,params:i.extend({api_key:this.apiKey},t)};return a(r,"trending",n)}},{key:"translate",value:function(e,t,n){var r={url:o+"/v1/"+e+"/translate",method:"get",type:e,params:i.extend({api_key:this.apiKey},t)};return a(r,"translate",n)}},{key:"random",value:function(e,t,n){var r={url:o+"/v1/"+e+"/random",method:"get",type:e,params:i.extend({api_key:this.apiKey},t)};return a(r,"random",n)}},{key:"gifByID",value:function(e,t){var n={url:o+"/v1/gifs/"+e,method:"get",params:{api_key:this.apiKey}};return a(n,"gifByID",t)}},{key:"gifsByIDs",value:function(e,t){e.ids=e.ids.join(",");var n={url:o+"/v1/gifs",method:"get",params:i.extend({api_key:this.apiKey},e)};return a(n,"gifsByIDs",t)}},{key:"categoriesForGifs",value:function(e,t){var n={url:o+"/v1/gifs/categories",method:"get",params:i.extend({api_key:this.apiKey},e)};return a(n,"categoriesForGifs",t)}},{key:"subCategoriesForGifs",value:function(e,t,n){var r={url:o+"/v1/gifs/categories/"+e,method:"get",params:i.extend({api_key:this.apiKey},t)};return a(r,"subCategoriesForGifs",n)}},{key:"gifsByCategories",value:function(e,t,n,r){var u={url:o+"/v1/gifs/categories/"+e+"/"+t,method:"get",params:i.extend({api_key:this.apiKey},n)};return a(u,"gifsByCategories",r)}},{key:"termSuggestions",value:function(e,t){var n={url:o+"/v1/queries/suggest/"+e,method:"get",params:i.extend({api_key:this.apiKey})};return a(n,"termSuggestions",t)}}]),e}();e.exports=function(e){return new u(e)}},427:function(e,t,n){"use strict";var r=n(381);n(229).polyfill(),"undefined"===typeof fetch&&n(101),e.exports=function(e,t,n){return function(n,i){var a=!1,o="?";Object.keys(n.params).forEach((function(e){o=o.concat(e+"="+n.params[e]+"&")}));var u=new Promise((function(u,s){e.type&&"gifs"!==e.type&&"stickers"!==e.type&&s("The type argument was passed in incorrectly. It should be either 'gifs' or 'stickers'"),fetch(n.url+o,{method:n.method}).then((function(e){!0!==a&&e.json().then((function(n){r(e,n,(function(e){u(e),void 0!==i&&i(e,null)}),(function(e){s(e),void 0!==i&&i(null,e)}),t)}))})).catch((function(e){s(e)}))}));return u.cancel=function(){a=!0},u}(e,n)}},381:function(e,t,n){"use strict";var r=n(39);e.exports=function(e,t,n,i,a){if(e.status>=400&&e.status<=502&&i({status:e&&e.status?e.status:"unknown api error",error:e&&t&&t.meta&&t.meta.msg?t.meta.msg:null,statusText:e&&e.statusText?e.statusText:null}),e&&e.status>=200&&e.status<300){var o=function(e,t){var n={};n.data=r(e.data,t),n.meta=e.meta,e.pagination&&(n.pagination=e.pagination,n.pagination.offset||(n.pagination.offset=null));return n}(t,a);n(o)}else i({status:e&&e.status?e.status:"unknown api error",error:e&&e.status?e.status:"unknown api error",statusText:e&&e.statusText?e.statusText:null})}},787:function(e,t,n){"use strict";var r=n(382),i=n(763);e.exports=function e(t){return{name:t.name?t.name:null,name_encoded:t.name_encoded?t.name_encoded:null,gif:t.gif?r(t.gif):null,subcategories:t.subcategories?i.map(t.subcategories,(function(t){return e(t)})):null}}},829:function(e){"use strict";e.exports=function(e,t,n){return{media_id:t||null,rendition_type:n||null,url:e.url?e.url:null,width:e.width?e.width:null,height:e.height?e.height:null,size:e.size?e.size:null,frames:e.frames?e.frames:null,mp4:e.mp4?e.mp4:null,mp4_size:e.mp4_size?e.mp4_size:null,webp:e.webp?e.webp:null,webp_size:e.webp_size?e.webp_size:null}}},40:function(e,t,n){"use strict";var r=n(829);e.exports=function(e,t){return{media_id:t,fixed_height:e.fixed_height?r(e.fixed_height,t,"fixed_height"):null,fixed_height_still:e.fixed_height_still?r(e.fixed_height_still,t,"fixed_height_still"):null,fixed_height_downsampled:e.fixed_height_downsampled?r(e.fixed_height_downsampled,t,"fixed_height_downsampled"):null,fixed_width:e.fixed_width?r(e.fixed_width,t,"fixed_width"):null,fixed_width_still:e.fixed_width_still?r(e.fixed_width_still,t,"fixed_width_still"):null,fixed_width_downsampled:e.fixed_width_downsampled?r(e.fixed_width_downsampled,t,"fixed_width_downsampled"):null,fixed_height_small:e.fixed_height_small?r(e.fixed_height_small,t,"fixed_height_small"):null,fixed_height_small_still:e.fixed_height_small_still?r(e.fixed_height_small_still,t,"fixed_height_small_still"):null,fixed_width_small:e.fixed_width_small?r(e.fixed_width_small,t,"fixed_width_small"):r({},t,"fixed_width_small"),fixed_width_small_still:e.fixed_width_small_still?r(e.fixed_width_small_still,t,"fixed_width_small_still"):null,downsized:e.downsized?r(e.downsized,t,"downsized"):null,downsized_still:e.downsized_still?r(e.downsized_still,t,"downsized_still"):null,downsized_large:e.downsized_large?r(e.downsized_large,t,"downsized_large"):null,downsized_medium:e.downsized_medium?r(e.downsized_medium,t,"downsized_medium"):null,original:e.original?r(e.original,t,"original"):null,original_still:e.original_still?r(e.original_still,t,"original_still"):null,looping:e.looping?r(e.looping,t,"looping"):null,preview:e.preview?r(e.preview,t,"preview"):null,preview_gif:e.preview_gif?r(e.preview_gif,t,"preview_gif"):null,downsized_small:e.downsized_small?r(e.downsized_small,t,"downsized_small"):null}}},382:function(e,t,n){"use strict";var r=n(40),i=n(320);e.exports=function(e){return{type:e.type?e.type:null,id:e.id?e.id:null,slug:e.slug?e.slug:null,url:e.url?e.url:null,bitly_gif_url:e.bitly_gif_url?e.bitly_gif_url:null,bitly_url:e.bitly_url?e.bitly_url:null,embed_url:e.embed_url?e.embed_url:null,source:e.source?e.source:null,rating:e.rating?e.rating:null,content_url:e.content_url?e.content_url:null,tags:e.tags?e.tags:null,featured_tags:e.features_tags?e.features_tags:null,user:e.user?i(e.user):null,images:e.images?r(e.images,e.id):null,source_tld:e.source_tld?e.source_tld:null,source_post_url:e.source_post_url?new Date(e.source_post_url):null,update_datetime:e.update_datetime?new Date(e.update_datetime):null,create_datetime:e.create_datetime?new Date(e.create_datetime):null,import_datetime:e.import_datetime?new Date(e.import_datetime):null,trending_datetime:e.trending_datetime?new Date(e.trending_datetime):null,title:e.title?e.title:null,is_hidden:!!e.is_hidden,is_removed:!!e.is_removed,is_community:!!e.is_community,is_anonymous:!!e.is_anonymous,is_featured:!!e.is_featured,is_realtime:!!e.is_realtime,is_indexable:!!e.is_indexable,is_sticker:!!e.is_sticker}}},645:function(e){"use strict";e.exports=function(e){return{term:e.name?e.name:null}}},320:function(e){"use strict";e.exports=function(e){return{id:e.id?e.is_sticker:null,avatar_url:e.avatar_url?e.avatar_url:null,banner_url:e.banner_url?e.banner_url:null,profile_url:e.profile_url?e.profile_url:null,username:e.username?e.username:null,display_name:e.display_name?e.display_name:null,twitter:e.twitter?e.twitter:null,is_public:e.is_public?e.is_public:null,attribution_display_name:e.attribution_display_name?e.attribution_display_name:null,name:e.name?e.name:null,description:e.description?e.description:null,facebook_url:e.facebook_url?e.facebook_url:null,twitter_url:e.twitter_url?e.twitter_url:null,instagram_url:e.instagram_url?e.instagram_url:null,tumblr_url:e.tumblr_url?e.tumblr_url:null,suppress_chrome:e.suppress_chrome?e.suppress_chrome:null,website_url:e.website_url?e.website_url:null,website_display_url:e.website_display_url?e.website_display_url:null}}},39:function(e,t,n){"use strict";var r=n(763),i=n(382),a=n(787),o=n(645);e.exports=function(e,t){switch(t){case"translate":case"gifByID":return i(e);case"search":case"trending":case"gifsByIDs":case"gifsByCategories":return r.map(e,(function(e){return i(e)}));case"categoriesForGifs":return r.map(e,(function(e){return a(e)}));case"subCategoriesForGifs":return r.map(e,(function(e){return a(e)}));case"termSuggestions":return r.map(e,(function(e){return o(e)}));case"random":return{images:{fixed_height_downsampled:{gif_url:e.fixed_height_downsampled_url,height:e.fixed_height_downsampled_height,width:e.fixed_height_downsampled_width},fixed_height_small:{gif_url:e.fixed_height_small_url,height:e.fixed_height_small_height,width:e.fixed_height_small_width},fixed_width_downsampled:{gif_url:e.fixed_height_small_url,height:e.fixed_height_small_height,width:e.fixed_height_small_width},fixed_width_small:{gif_url:e.fixed_width_small_url,height:e.fixed_width_small_height,width:e.fixed_width_small_width},fixed_width_small_still:{gif_url:e.fixed_width_small_url,height:e.fixed_width_small_height,width:e.fixed_width_small_width},original:{frames:e.image_frames,gif_url:e.image_original_url,height:e.image_height,mp4:e.image_mp4_url,width:e.image_width},id:e.id},user:{username:e.username},url:e.url,type:e.type};default:throw"Unimplemented endpoint "+t}}},101:function(e,t,n){n(288),e.exports=self.fetch.bind(self)},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,m=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",h]],g="[object Arguments]",k="[object Array]",b="[object Boolean]",w="[object Date]",_="[object Error]",x="[object Function]",I="[object GeneratorFunction]",E="[object Map]",T="[object Number]",A="[object Object]",S="[object Promise]",C="[object RegExp]",N="[object Set]",R="[object String]",O="[object Symbol]",D="[object WeakMap]",P="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",F="[object Float64Array]",U="[object Int8Array]",j="[object Int16Array]",B="[object Int32Array]",z="[object Uint8Array]",V="[object Uint8ClampedArray]",q="[object Uint16Array]",K="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,X=RegExp(Q.source),Y=RegExp(J.source),Z=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ke=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="['\u2019]",Oe="["+Ie+"]",De="["+Ne+"]",Pe="["+Ee+"]",Le="\\d+",Me="["+Te+"]",Fe="["+Ae+"]",Ue="[^"+Ie+Ne+Le+Te+Ae+Se+"]",je="\\ud83c[\\udffb-\\udfff]",Be="[^"+Ie+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Se+"]",Ke="\\u200d",He="(?:"+Fe+"|"+Ue+")",We="(?:"+qe+"|"+Ue+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+Pe+"|"+je+")"+"?",Xe="["+Ce+"]?",Ye=Xe+Je+("(?:"+Ke+"(?:"+[Be,ze,Ve].join("|")+")"+Xe+Je+")*"),Ze="(?:"+[Me,ze,Ve].join("|")+")"+Ye,$e="(?:"+[Be+Pe+"?",Pe,ze,Ve,Oe].join("|")+")",et=RegExp(Re,"g"),tt=RegExp(Pe,"g"),nt=RegExp(je+"(?="+je+")|"+$e+Ye,"g"),rt=RegExp([qe+"?"+Fe+"+"+Ge+"(?="+[De,qe,"$"].join("|")+")",We+"+"+Qe+"(?="+[De,qe+He,"$"].join("|")+")",qe+"?"+He+"+"+Ge,qe+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Ze].join("|"),"g"),it=RegExp("["+Ke+Ie+Ee+Ce+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ut=-1,st={};st[M]=st[F]=st[U]=st[j]=st[B]=st[z]=st[V]=st[q]=st[K]=!0,st[g]=st[k]=st[P]=st[b]=st[L]=st[w]=st[_]=st[x]=st[E]=st[T]=st[A]=st[C]=st[N]=st[R]=st[D]=!1;var ct={};ct[g]=ct[k]=ct[P]=ct[L]=ct[b]=ct[w]=ct[M]=ct[F]=ct[U]=ct[j]=ct[B]=ct[E]=ct[T]=ct[A]=ct[C]=ct[N]=ct[R]=ct[O]=ct[z]=ct[V]=ct[q]=ct[K]=!0,ct[_]=ct[x]=ct[D]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,ht=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=dt||pt||Function("return this")(),mt=t&&!t.nodeType&&t,yt=mt&&e&&!e.nodeType&&e,gt=yt&&yt.exports===mt,kt=gt&&dt.process,bt=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||kt&&kt.binding&&kt.binding("util")}catch(t){}}(),wt=bt&&bt.isArrayBuffer,_t=bt&&bt.isDate,xt=bt&&bt.isMap,It=bt&&bt.isRegExp,Et=bt&&bt.isSet,Tt=bt&&bt.isTypedArray;function At(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Dt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ut(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Gt("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function qt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,Ht,n)}function Kt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Ht(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:v}function Gt(e){return function(t){return null==t?i:t[e]}}function Qt(e){return function(t){return null==e?i:e[t]}}function Jt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Xt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return Lt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var an=Qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+lt[e]}function sn(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[i++]=n)}return a}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function vn(e){return sn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var yn=Qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n=(t=null==t?vt:gn.defaults(vt.Object(),t,gn.pick(vt,ot))).Array,r=t.Date,ue=t.Error,Ie=t.Function,Ee=t.Math,Te=t.Object,Ae=t.RegExp,Se=t.String,Ce=t.TypeError,Ne=n.prototype,Re=Ie.prototype,Oe=Te.prototype,De=t["__core-js_shared__"],Pe=Re.toString,Le=Oe.hasOwnProperty,Me=0,Fe=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Oe.toString,je=Pe.call(Te),Be=vt._,ze=Ae("^"+Pe.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=gt?t.Buffer:i,qe=t.Symbol,Ke=t.Uint8Array,He=Ve?Ve.allocUnsafe:i,We=ln(Te.getPrototypeOf,Te),Ge=Te.create,Qe=Oe.propertyIsEnumerable,Je=Ne.splice,Xe=qe?qe.isConcatSpreadable:i,Ye=qe?qe.iterator:i,Ze=qe?qe.toStringTag:i,$e=function(){try{var e=fa(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,it=r&&r.now!==vt.Date.now&&r.now,lt=t.setTimeout!==vt.setTimeout&&t.setTimeout,dt=Ee.ceil,pt=Ee.floor,mt=Te.getOwnPropertySymbols,yt=Ve?Ve.isBuffer:i,kt=t.isFinite,bt=Ne.join,Bt=ln(Te.keys,Te),Qt=Ee.max,kn=Ee.min,bn=r.now,wn=t.parseInt,_n=Ee.random,xn=Ne.reverse,In=fa(t,"DataView"),En=fa(t,"Map"),Tn=fa(t,"Promise"),An=fa(t,"Set"),Sn=fa(t,"WeakMap"),Cn=fa(Te,"create"),Nn=Sn&&new Sn,Rn={},On=Fa(In),Dn=Fa(En),Pn=Fa(Tn),Ln=Fa(An),Mn=Fa(Sn),Fn=qe?qe.prototype:i,Un=Fn?Fn.valueOf:i,jn=Fn?Fn.toString:i;function Bn(e){if(tu(e)&&!Ko(e)&&!(e instanceof Kn)){if(e instanceof qn)return e;if(Le.call(e,"__wrapped__"))return Ua(e)}return new qn(e)}var zn=function(){function e(){}return function(t){if(!eu(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Vn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Kn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Xn(e,t){var n=Ko(e),r=!n&&qo(e),i=!n&&!r&&Qo(e),a=!n&&!r&&!i&&cu(e),o=n||r||i||a,u=o?Yt(e.length,Se):[],s=u.length;for(var c in e)!t&&!Le.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ga(c,s))||u.push(c);return u}function Yn(e){var t=e.length;return t?e[Qr(0,t-1)]:i}function Zn(e,t){return Pa(Ci(e),ur(t,0,e.length))}function $n(e){return Pa(Ci(e))}function er(e,t,n){(n!==i&&!Bo(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&Bo(r,n)&&(n!==i||t in e)||ar(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Bo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ir(e,t){return e&&Ni(t,Ru(t),e)}function ar(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Tu(e,t[r]);return o}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!eu(e))return e;var f=Ko(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ci(e,u)}else{var h=pa(e),d=h==x||h==I;if(Qo(e))return xi(e,s);if(h==A||h==g||d&&!a){if(u=c||d?{}:ma(e),!s)return c?function(e,t){return Ni(e,da(e),t)}(e,function(e,t){return e&&Ni(t,Ou(t),e)}(u,e)):function(e,t){return Ni(e,ha(e),t)}(e,ir(u,e))}else{if(!ct[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case P:return Ii(e);case b:case w:return new r(+e);case L:return function(e,t){var n=t?Ii(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case F:case U:case j:case B:case z:case V:case q:case K:return Ei(e,n);case E:return new r;case T:case R:return new r(e);case C:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case O:return i=e,Un?Te(Un.call(i)):{}}var i}(e,h,s)}}o||(o=new Jn);var p=o.get(e);if(p)return p;o.set(e,u),ou(e)?e.forEach((function(r){u.add(sr(r,t,n,r,e,o))})):nu(e)&&e.forEach((function(r,i){u.set(i,sr(r,t,n,i,e,o))}));var v=f?i:(l?c?ia:ra:c?Ou:Ru)(e);return Ct(v||e,(function(r,i){v&&(r=e[i=r]),tr(u,i,sr(r,t,n,i,e,o))})),u}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new Ce(a);return Na((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,a=Dt,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Lt(t,$t(n))),r?(a=Pt,o=!1):t.length>=200&&(a=tn,o=!1,t=new Qn(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s}Bn.templateSettings={escape:Z,evaluate:$,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Vn.prototype,Bn.prototype.constructor=Bn,qn.prototype=zn(Vn.prototype),qn.prototype.constructor=qn,Kn.prototype=zn(Vn.prototype),Kn.prototype.constructor=Kn,Hn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==i:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===i?o:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return nr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(En||Wn),string:new Hn}},Gn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return ca(this,e).get(e)},Gn.prototype.has=function(e){return ca(this,e).has(e)},Gn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,o),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var hr=Di(br),dr=Di(wr,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!su(u):n(u,s)))var s=u,c=o}return c}function mr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ya),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?yr(u,t-1,n,r,i):Mt(i,u):r||(i[i.length]=u)}return i}var gr=Pi(),kr=Pi(!0);function br(e,t){return e&&gr(e,t,Ru)}function wr(e,t){return e&&kr(e,t,Ru)}function _r(e,t){return Ot(t,(function(t){return Yo(e[t])}))}function xr(e,t){for(var n=0,r=(t=ki(t,e)).length;null!=e&&n<r;)e=e[Ma(t[n++])];return n&&n==r?e:i}function Ir(e,t,n){var r=t(e);return Ko(e)?r:Mt(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ze&&Ze in Te(e)?function(e){var t=Le.call(e,Ze),n=e[Ze];try{e[Ze]=i;var r=!0}catch(o){}var a=Ue.call(e);r&&(t?e[Ze]=n:delete e[Ze]);return a}(e):function(e){return Ue.call(e)}(e)}function Tr(e,t){return e>t}function Ar(e,t){return null!=e&&Le.call(e,t)}function Sr(e,t){return null!=e&&t in Te(e)}function Cr(e,t,r){for(var a=r?Pt:Dt,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=Lt(h,$t(t))),l=kn(h.length,l),c[s]=!r&&(t||o>=120&&h.length>=120)?new Qn(s&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<o&&f.length<l;){var v=h[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?tn(p,m):a(f,m,r))){for(s=u;--s;){var y=c[s];if(!(y?tn(y,m):a(e[s],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Nr(e,t,n){var r=null==(e=Aa(e,t=ki(t,e)))?e:e[Ma(Ja(t))];return null==r?i:At(r,e,n)}function Rr(e){return tu(e)&&Er(e)==g}function Or(e,t,n,r,a){return e===t||(null==e||null==t||!tu(e)&&!tu(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Ko(e),s=Ko(t),c=u?k:pa(e),l=s?k:pa(t),f=(c=c==g?A:c)==A,h=(l=l==g?A:l)==A,d=c==l;if(d&&Qo(e)){if(!Qo(t))return!1;u=!0,f=!1}if(d&&!f)return o||(o=new Jn),u||cu(e)?ta(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!a(new Ke(e),new Ke(t)));case b:case w:case T:return Bo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case C:case R:return e==t+"";case E:var u=cn;case N:var s=1&r;if(u||(u=hn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=ta(u(e),u(t),r,i,a,o);return o.delete(e),l;case O:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Le.call(e,"__wrapped__"),v=h&&Le.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,y=v?t.value():t;return o||(o=new Jn),a(m,y,n,r,o)}}if(!d)return!1;return o||(o=new Jn),function(e,t,n,r,a,o){var u=1&n,s=ra(e),c=s.length,l=ra(t),f=l.length;if(c!=f&&!u)return!1;var h=c;for(;h--;){var d=s[h];if(!(u?d in t:Le.call(t,d)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var m=!0;o.set(e,t),o.set(t,e);var y=u;for(;++h<c;){var g=e[d=s[h]],k=t[d];if(r)var b=u?r(k,g,d,t,e,o):r(g,k,d,e,t,o);if(!(b===i?g===k||a(g,k,n,r,o):b)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,a,o)}(e,t,n,r,Or,a))}function Dr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Te(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var h=new Jn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Or(f,l,3,r,h):d))return!1}}return!0}function Pr(e){return!(!eu(e)||(t=e,Fe&&Fe in t))&&(Yo(e)?ze:ge).test(Fa(e));var t}function Lr(e){return"function"==typeof e?e:null==e?rs:"object"==typeof e?Ko(e)?zr(e[0],e[1]):Br(e):hs(e)}function Mr(e){if(!xa(e))return Bt(e);var t=[];for(var n in Te(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!eu(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=xa(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function jr(e,t){var r=-1,i=Wo(e)?n(e.length):[];return hr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Br(e){var t=la(e);return 1==t.length&&t[0][2]?Ea(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function zr(e,t){return ba(e)&&Ia(t)?Ea(Ma(e),t):function(n){var r=Tu(n,e);return r===i&&r===t?Au(n,e):Or(t,r,3)}}function Vr(e,t,n,r,a){e!==t&&gr(t,(function(o,u){if(a||(a=new Jn),eu(o))!function(e,t,n,r,a,o,u){var s=Sa(e,n),c=Sa(t,n),l=u.get(c);if(l)return void er(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,h=f===i;if(h){var d=Ko(c),p=!d&&Qo(c),v=!d&&!p&&cu(c);f=c,d||p||v?Ko(s)?f=s:Go(s)?f=Ci(s):p?(h=!1,f=xi(c,!0)):v?(h=!1,f=Ei(c,!0)):f=[]:iu(c)||qo(c)?(f=s,qo(s)?f=yu(s):eu(s)&&!Yo(s)||(f=ma(c))):h=!1}h&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));er(e,n,f)}(e,t,u,n,Vr,r,a);else{var s=r?r(Sa(e,u),o,u+"",e,t,a):i;s===i&&(s=o),er(e,u,s)}}),Ou)}function qr(e,t){var n=e.length;if(n)return ga(t+=t<0?n:0,n)?e[t]:i}function Kr(e,t,n){t=t.length?Lt(t,(function(e){return Ko(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[rs];var r=-1;t=Lt(t,$t(sa()));var i=jr(e,(function(e,n,i){var a=Lt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Ti(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=xr(e,o);n(u,o)&&$r(a,ki(o,e),u)}return a}function Wr(e,t,n,r){var i=r?Kt:qt,a=-1,o=t.length,u=e;for(e===t&&(t=Ci(t)),n&&(u=Lt(e,$t(n)));++a<o;)for(var s=0,c=t[a],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&Je.call(u,s,1),Je.call(e,s,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ga(i)?Je.call(e,i,1):fi(e,i)}}return e}function Qr(e,t){return e+pt(_n()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Ra(Ta(e,t,rs),e+"")}function Yr(e){return Yn(Bu(e))}function Zr(e,t){var n=Bu(e);return Pa(n,ur(t,0,n.length))}function $r(e,t,n,r){if(!eu(e))return e;for(var a=-1,o=(t=ki(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=Ma(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=eu(f)?f:ga(t[a+1])?[]:{})}tr(s,c,l),s=s[c]}return e}var ei=Nn?function(e,t){return Nn.set(e,t),e}:rs,ti=$e?function(e,t){return $e(e,"toString",{configurable:!0,enumerable:!1,value:es(t),writable:!0})}:rs;function ni(e){return Pa(Bu(e))}function ri(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ii(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!su(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return oi(e,t,rs,n)}function oi(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=su(t),l=t===i;a<o;){var f=pt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,m=su(h);if(u)var y=r||v;else y=l?v&&(r||d):s?v&&d&&(r||!p):c?v&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);y?a=f+1:o=f}return kn(o,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!Bo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function si(e){return"number"==typeof e?e:su(e)?v:+e}function ci(e){if("string"==typeof e)return e;if(Ko(e))return Lt(e,ci)+"";if(su(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,n){var r=-1,i=Dt,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Pt;else if(a>=200){var c=t?null:Ji(e);if(c)return hn(c);o=!1,i=tn,s=new Qn}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function fi(e,t){return null==(e=Aa(e,t=ki(t,e)))||delete e[Ma(Ja(t))]}function hi(e,t,n,r){return $r(e,t,n(xr(e,t)),r)}function di(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ri(e,r?0:a,r?a+1:i):ri(e,r?a+1:0,r?i:a)}function pi(e,t){var n=e;return n instanceof Kn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function vi(e,t,r){var i=e.length;if(i<2)return i?li(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var u=e[a],s=-1;++s<i;)s!=a&&(o[a]=fr(o[a]||u,e[s],t,r));return li(yr(o,1),t,r)}function mi(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function yi(e){return Go(e)?e:[]}function gi(e){return"function"==typeof e?e:rs}function ki(e,t){return Ko(e)?e:ba(e,t)?[e]:La(gu(e))}var bi=Xr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var _i=nt||function(e){return vt.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ii(e){var t=new e.constructor(e.byteLength);return new Ke(t).set(new Ke(e)),t}function Ei(e,t){var n=t?Ii(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=su(e),u=t!==i,s=null===t,c=t===t,l=su(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Ai(e,t,r,i){for(var a=-1,o=e.length,u=r.length,s=-1,c=t.length,l=Qt(o-u,0),f=n(c+l),h=!i;++s<c;)f[s]=t[s];for(;++a<u;)(h||a<o)&&(f[r[a]]=e[a]);for(;l--;)f[s++]=e[a++];return f}function Si(e,t,r,i){for(var a=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=Qt(o-s,0),h=n(f+l),d=!i;++a<f;)h[a]=e[a];for(var p=a;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||a<o)&&(h[p+r[u]]=e[a++]);return h}function Ci(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ni(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?ar(n,s,c):tr(n,s,c)}return n}function Ri(e,t){return function(n,r){var i=Ko(n)?St:rr,a=t?t():{};return i(n,e,sa(r,2),a)}}function Oi(e){return Xr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&ka(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Te(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Wo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Te(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Pi(e){return function(t,n,r){for(var i=-1,a=Te(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function Li(e){return function(t){var n=sn(t=gu(t))?vn(t):i,r=n?n[0]:t.charAt(0),a=n?wi(n,1).join(""):t.slice(1);return r[e]()+a}}function Mi(e){return function(t){return Ft(Yu(qu(t).replace(et,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return eu(r)?r:n}}function Ui(e){return function(t,n,r){var a=Te(t);if(!Wo(t)){var o=sa(n,3);t=Ru(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function ji(e){return na((function(t){var n=t.length,r=n,o=qn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ce(a);if(o&&!s&&"wrapper"==oa(u))var s=new qn([],!0)}for(r=s?r:n;++r<n;){var c=oa(u=t[r]),l="wrapper"==c?aa(u):i;s=l&&wa(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[oa(l[0])].apply(s,l[3]):1==u.length&&wa(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ko(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Bi(e,t,r,a,o,u,s,c,l,h){var d=t&f,p=1&t,v=2&t,m=24&t,y=512&t,g=v?i:Fi(e);return function f(){for(var k=arguments.length,b=n(k),w=k;w--;)b[w]=arguments[w];if(m)var _=ua(f),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,_);if(a&&(b=Ai(b,a,o,m)),u&&(b=Si(b,u,s,m)),k-=x,m&&k<h){var I=fn(b,_);return Gi(e,t,Bi,f.placeholder,r,b,I,c,l,h-k)}var E=p?r:this,T=v?E[e]:e;return k=b.length,c?b=function(e,t){var n=e.length,r=kn(t.length,n),a=Ci(e);for(;r--;){var o=t[r];e[r]=ga(o,n)?a[o]:i}return e}(b,c):y&&k>1&&b.reverse(),d&&l<k&&(b.length=l),this&&this!==vt&&this instanceof f&&(T=g||Fi(T)),T.apply(E,b)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=si(n),r=si(r)),a=e(n,r)}return a}}function qi(e){return na((function(t){return t=Lt(t,$t(sa())),Xr((function(n){var r=this;return e(t,(function(e){return At(e,r,n)}))}))}))}function Ki(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Jr(t,e):t;var r=Jr(t,dt(e/pn(t)));return sn(t)?wi(vn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,a){return a&&"number"!=typeof a&&ka(t,r,a)&&(r=a=i),t=du(t),r===i?(r=t,t=0):r=du(r),function(e,t,r,i){for(var a=-1,o=Qt(dt((t-e)/(r||1)),0),u=n(o);o--;)u[i?o:++a]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:du(a),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=mu(t),n=mu(n)),e(t,n)}}function Gi(e,t,n,r,a,o,u,s,f,h){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var p=[e,t,a,d?o:i,d?u:i,d?i:o,d?i:u,s,f,h],v=n.apply(i,p);return wa(e)&&Ca(v,p),v.placeholder=r,Oa(v,e,t)}function Qi(e){var t=Ee[e];return function(e,n){if(e=mu(e),(n=null==n?0:kn(pu(n),292))&&kt(e)){var r=(gu(e)+"e").split("e");return+((r=(gu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ji=An&&1/hn(new An([,-0]))[1]==d?function(e){return new An(e)}:ss;function Xi(e){return function(t){var n=pa(t);return n==E?cn(t):n==N?dn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,r,o,d,p,v,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Ce(a);var g=o?o.length:0;if(g||(t&=-97,o=d=i),v=v===i?v:Qt(pu(v),0),m=m===i?m:pu(m),g-=d?d.length:0,t&l){var k=o,b=d;o=d=i}var w=y?i:aa(e),_=[e,t,r,o,d,k,b,p,v,m];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ai(c,s,t[4]):s,e[4]=c?fn(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Si(c,s,t[6]):s,e[6]=c?fn(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:kn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],r=_[2],o=_[3],d=_[4],!(m=_[9]=_[9]===i?y?0:e.length:Qt(_[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==s?function(e,t,r){var a=Fi(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=ua(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:fn(s,l);return(u-=f.length)<r?Gi(e,t,Bi,o.placeholder,i,s,f,i,i,r-u):At(this&&this!==vt&&this instanceof o?a:e,this,s)}}(e,t,m):t!=c&&33!=t||d.length?Bi.apply(i,_):function(e,t,r,i){var a=1&t,o=Fi(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),h=this&&this!==vt&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return At(h,a?r:this,f)}}(e,t,r,o);else var x=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Oa((w?ei:Ca)(x,_),e,t)}function Zi(e,t,n,r){return e===i||Bo(e,Oe[n])&&!Le.call(r,n)?t:e}function $i(e,t,n,r,a,o){return eu(e)&&eu(t)&&(o.set(t,e),Vr(e,t,i,$i,o),o.delete(t)),e}function ea(e){return iu(e)?i:e}function ta(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Qn:i;for(o.set(e,t),o.set(t,e);++h<s;){var v=e[h],m=t[h];if(r)var y=u?r(m,v,h,t,e,o):r(v,m,h,e,t,o);if(y!==i){if(y)continue;d=!1;break}if(p){if(!jt(t,(function(e,t){if(!tn(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function na(e){return Ra(Ta(e,i,Ka),e+"")}function ra(e){return Ir(e,Ru,ha)}function ia(e){return Ir(e,Ou,da)}var aa=Nn?function(e){return Nn.get(e)}:ss;function oa(e){for(var t=e.name+"",n=Rn[t],r=Le.call(Rn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ua(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function sa(){var e=Bn.iteratee||is;return e=e===is?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function la(e){for(var t=Ru(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ia(i)]}return t}function fa(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Pr(n)?n:i}var ha=mt?function(e){return null==e?[]:(e=Te(e),Ot(mt(e),(function(t){return Qe.call(e,t)})))}:vs,da=mt?function(e){for(var t=[];e;)Mt(t,ha(e)),e=We(e);return t}:vs,pa=Er;function va(e,t,n){for(var r=-1,i=(t=ki(t,e)).length,a=!1;++r<i;){var o=Ma(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&$o(i)&&ga(o,i)&&(Ko(e)||qo(e))}function ma(e){return"function"!=typeof e.constructor||xa(e)?{}:zn(We(e))}function ya(e){return Ko(e)||qo(e)||!!(Xe&&e&&e[Xe])}function ga(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ka(e,t,n){if(!eu(n))return!1;var r=typeof t;return!!("number"==r?Wo(n)&&ga(t,n.length):"string"==r&&t in n)&&Bo(n[t],e)}function ba(e,t){if(Ko(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!su(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function wa(e){var t=oa(e),n=Bn[t];if("function"!=typeof n||!(t in Kn.prototype))return!1;if(e===n)return!0;var r=aa(n);return!!r&&e===r[0]}(In&&pa(new In(new ArrayBuffer(1)))!=L||En&&pa(new En)!=E||Tn&&pa(Tn.resolve())!=S||An&&pa(new An)!=N||Sn&&pa(new Sn)!=D)&&(pa=function(e){var t=Er(e),n=t==A?e.constructor:i,r=n?Fa(n):"";if(r)switch(r){case On:return L;case Dn:return E;case Pn:return S;case Ln:return N;case Mn:return D}return t});var _a=De?Yo:ms;function xa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ia(e){return e===e&&!eu(e)}function Ea(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Te(n)))}}function Ta(e,t,r){return t=Qt(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=Qt(i.length-t,0),u=n(o);++a<o;)u[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),At(e,this,s)}}function Aa(e,t){return t.length<2?e:xr(e,ri(t,0,-1))}function Sa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ca=Da(ei),Na=lt||function(e,t){return vt.setTimeout(e,t)},Ra=Da(ti);function Oa(e,t,n){var r=t+"";return Ra(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(y,(function(n){var r="_."+n[0];t&n[1]&&!Dt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Da(e){var t=0,n=0;return function(){var r=bn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Pa(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Qr(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var La=function(e){var t=Po(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Ma(e){if("string"==typeof e||su(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fa(e){if(null!=e){try{return Pe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ua(e){if(e instanceof Kn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Ci(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ja=Xr((function(e,t){return Go(e)?fr(e,yr(t,1,Go,!0)):[]})),Ba=Xr((function(e,t){var n=Ja(t);return Go(n)&&(n=i),Go(e)?fr(e,yr(t,1,Go,!0),sa(n,2)):[]})),za=Xr((function(e,t){var n=Ja(t);return Go(n)&&(n=i),Go(e)?fr(e,yr(t,1,Go,!0),i,n):[]}));function Va(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pu(n);return i<0&&(i=Qt(r+i,0)),Vt(e,sa(t,3),i)}function qa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=pu(n),a=n<0?Qt(r+a,0):kn(a,r-1)),Vt(e,sa(t,3),a,!0)}function Ka(e){return(null==e?0:e.length)?yr(e,1):[]}function Ha(e){return e&&e.length?e[0]:i}var Wa=Xr((function(e){var t=Lt(e,yi);return t.length&&t[0]===e[0]?Cr(t):[]})),Ga=Xr((function(e){var t=Ja(e),n=Lt(e,yi);return t===Ja(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Cr(n,sa(t,2)):[]})),Qa=Xr((function(e){var t=Ja(e),n=Lt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,i,t):[]}));function Ja(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xa=Xr(Ya);function Ya(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Za=na((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Gr(e,Lt(t,(function(e){return ga(e,n)?+e:e})).sort(Ti)),r}));function $a(e){return null==e?e:xn.call(e)}var eo=Xr((function(e){return li(yr(e,1,Go,!0))})),to=Xr((function(e){var t=Ja(e);return Go(t)&&(t=i),li(yr(e,1,Go,!0),sa(t,2))})),no=Xr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,li(yr(e,1,Go,!0),i,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Go(e))return t=Qt(e.length,t),!0})),Yt(t,(function(t){return Lt(e,Gt(t))}))}function io(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Lt(n,(function(e){return At(t,i,e)}))}var ao=Xr((function(e,t){return Go(e)?fr(e,t):[]})),oo=Xr((function(e){return vi(Ot(e,Go))})),uo=Xr((function(e){var t=Ja(e);return Go(t)&&(t=i),vi(Ot(e,Go),sa(t,2))})),so=Xr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,vi(Ot(e,Go),i,t)})),co=Xr(ro);var lo=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,io(e,n)}));function fo(e){var t=Bn(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var po=na((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Kn&&ga(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ho,args:[a],thisArg:i}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var vo=Ri((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var mo=Ui(Va),yo=Ui(qa);function go(e,t){return(Ko(e)?Ct:hr)(e,sa(t,3))}function ko(e,t){return(Ko(e)?Nt:dr)(e,sa(t,3))}var bo=Ri((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var wo=Xr((function(e,t,r){var i=-1,a="function"==typeof t,o=Wo(e)?n(e.length):[];return hr(e,(function(e){o[++i]=a?At(t,e,r):Nr(e,t,r)})),o})),_o=Ri((function(e,t,n){ar(e,n,t)}));function xo(e,t){return(Ko(e)?Lt:jr)(e,sa(t,3))}var Io=Ri((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Eo=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ka(e,t[0],t[1])?t=[]:n>2&&ka(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,yr(t,1),[])})),To=it||function(){return vt.Date.now()};function Ao(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Yi(e,f,i,i,i,i,t)}function So(e,t){var n;if("function"!=typeof t)throw new Ce(a);return e=pu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Co=Xr((function(e,t,n){var r=1;if(n.length){var i=fn(n,ua(Co));r|=c}return Yi(e,r,t,n,i)})),No=Xr((function(e,t,n){var r=3;if(n.length){var i=fn(n,ua(No));r|=c}return Yi(t,r,e,n,i)}));function Ro(e,t,n){var r,o,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ce(a);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function m(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=u}function y(){var e=To();if(m(e))return g(e);c=Na(y,function(e){var n=t-(e-l);return d?kn(n,u-(e-f)):n}(e))}function g(e){return c=i,p&&r?v(e):(r=o=i,s)}function k(){var e=To(),n=m(e);if(r=arguments,o=this,l=e,n){if(c===i)return function(e){return f=e,c=Na(y,t),h?v(e):s}(l);if(d)return _i(c),c=Na(y,t),v(l)}return c===i&&(c=Na(y,t)),s}return t=mu(t)||0,eu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?Qt(mu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),k.cancel=function(){c!==i&&_i(c),f=0,r=l=o=c=i},k.flush=function(){return c===i?s:g(To())},k}var Oo=Xr((function(e,t){return lr(e,1,t)})),Do=Xr((function(e,t,n){return lr(e,mu(t)||0,n)}));function Po(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Po.Cache||Gn),n}function Lo(e){if("function"!=typeof e)throw new Ce(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Po.Cache=Gn;var Mo=bi((function(e,t){var n=(t=1==t.length&&Ko(t[0])?Lt(t[0],$t(sa())):Lt(yr(t,1),$t(sa()))).length;return Xr((function(r){for(var i=-1,a=kn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return At(e,this,r)}))})),Fo=Xr((function(e,t){var n=fn(t,ua(Fo));return Yi(e,c,i,t,n)})),Uo=Xr((function(e,t){var n=fn(t,ua(Uo));return Yi(e,l,i,t,n)})),jo=na((function(e,t){return Yi(e,h,i,i,i,t)}));function Bo(e,t){return e===t||e!==e&&t!==t}var zo=Wi(Tr),Vo=Wi((function(e,t){return e>=t})),qo=Rr(function(){return arguments}())?Rr:function(e){return tu(e)&&Le.call(e,"callee")&&!Qe.call(e,"callee")},Ko=n.isArray,Ho=wt?$t(wt):function(e){return tu(e)&&Er(e)==P};function Wo(e){return null!=e&&$o(e.length)&&!Yo(e)}function Go(e){return tu(e)&&Wo(e)}var Qo=yt||ms,Jo=_t?$t(_t):function(e){return tu(e)&&Er(e)==w};function Xo(e){if(!tu(e))return!1;var t=Er(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!iu(e)}function Yo(e){if(!eu(e))return!1;var t=Er(e);return t==x||t==I||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zo(e){return"number"==typeof e&&e==pu(e)}function $o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function eu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function tu(e){return null!=e&&"object"==typeof e}var nu=xt?$t(xt):function(e){return tu(e)&&pa(e)==E};function ru(e){return"number"==typeof e||tu(e)&&Er(e)==T}function iu(e){if(!tu(e)||Er(e)!=A)return!1;var t=We(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==je}var au=It?$t(It):function(e){return tu(e)&&Er(e)==C};var ou=Et?$t(Et):function(e){return tu(e)&&pa(e)==N};function uu(e){return"string"==typeof e||!Ko(e)&&tu(e)&&Er(e)==R}function su(e){return"symbol"==typeof e||tu(e)&&Er(e)==O}var cu=Tt?$t(Tt):function(e){return tu(e)&&$o(e.length)&&!!st[Er(e)]};var lu=Wi(Ur),fu=Wi((function(e,t){return e<=t}));function hu(e){if(!e)return[];if(Wo(e))return uu(e)?vn(e):Ci(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=pa(e);return(t==E?cn:t==N?hn:Bu)(e)}function du(e){return e?(e=mu(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pu(e){var t=du(e),n=t%1;return t===t?n?t-n:t:0}function vu(e){return e?ur(pu(e),0,m):0}function mu(e){if("number"==typeof e)return e;if(su(e))return v;if(eu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=eu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ye.test(e);return n||ke.test(e)?ht(e.slice(2),n?2:8):me.test(e)?v:+e}function yu(e){return Ni(e,Ou(e))}function gu(e){return null==e?"":ci(e)}var ku=Oi((function(e,t){if(xa(t)||Wo(t))Ni(t,Ru(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])})),bu=Oi((function(e,t){Ni(t,Ou(t),e)})),wu=Oi((function(e,t,n,r){Ni(t,Ou(t),e,r)})),_u=Oi((function(e,t,n,r){Ni(t,Ru(t),e,r)})),xu=na(or);var Iu=Xr((function(e,t){e=Te(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ka(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Ou(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||Bo(f,Oe[l])&&!Le.call(e,l))&&(e[l]=o[l])}return e})),Eu=Xr((function(e){return e.push(i,$i),At(Pu,i,e)}));function Tu(e,t,n){var r=null==e?i:xr(e,t);return r===i?n:r}function Au(e,t){return null!=e&&va(e,t,Sr)}var Su=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),es(rs)),Cu=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),sa),Nu=Xr(Nr);function Ru(e){return Wo(e)?Xn(e):Mr(e)}function Ou(e){return Wo(e)?Xn(e,!0):Fr(e)}var Du=Oi((function(e,t,n){Vr(e,t,n)})),Pu=Oi((function(e,t,n,r){Vr(e,t,n,r)})),Lu=na((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,(function(t){return t=ki(t,e),r||(r=t.length>1),t})),Ni(e,ia(e),n),r&&(n=sr(n,7,ea));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Mu=na((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Au(e,n)}))}(e,t)}));function Fu(e,t){if(null==e)return{};var n=Lt(ia(e),(function(e){return[e]}));return t=sa(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Uu=Xi(Ru),ju=Xi(Ou);function Bu(e){return null==e?[]:en(e,Ru(e))}var zu=Mi((function(e,t,n){return t=t.toLowerCase(),e+(n?Vu(t):t)}));function Vu(e){return Xu(gu(e).toLowerCase())}function qu(e){return(e=gu(e))&&e.replace(we,an).replace(tt,"")}var Ku=Mi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hu=Mi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Wu=Li("toLowerCase");var Gu=Mi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qu=Mi((function(e,t,n){return e+(n?" ":"")+Xu(t)}));var Ju=Mi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xu=Li("toUpperCase");function Yu(e,t,n){return e=gu(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Zu=Xr((function(e,t){try{return At(e,i,t)}catch(n){return Xo(n)?n:new ue(n)}})),$u=na((function(e,t){return Ct(t,(function(t){t=Ma(t),ar(e,t,Co(e[t],e))})),e}));function es(e){return function(){return e}}var ts=ji(),ns=ji(!0);function rs(e){return e}function is(e){return Lr("function"==typeof e?e:sr(e,1))}var as=Xr((function(e,t){return function(n){return Nr(n,e,t)}})),os=Xr((function(e,t){return function(n){return Nr(e,n,t)}}));function us(e,t,n){var r=Ru(t),i=_r(t,r);null!=n||eu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Ru(t)));var a=!(eu(n)&&"chain"in n)||!!n.chain,o=Yo(e);return Ct(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ci(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function ss(){}var cs=qi(Lt),ls=qi(Rt),fs=qi(jt);function hs(e){return ba(e)?Gt(Ma(e)):function(e){return function(t){return xr(t,e)}}(e)}var ds=Hi(),ps=Hi(!0);function vs(){return[]}function ms(){return!1}var ys=Vi((function(e,t){return e+t}),0),gs=Qi("ceil"),ks=Vi((function(e,t){return e/t}),1),bs=Qi("floor");var ws=Vi((function(e,t){return e*t}),1),_s=Qi("round"),xs=Vi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ce(a);return e=pu(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ao,Bn.assign=ku,Bn.assignIn=bu,Bn.assignInWith=wu,Bn.assignWith=_u,Bn.at=xu,Bn.before=So,Bn.bind=Co,Bn.bindAll=$u,Bn.bindKey=No,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ko(e)?e:[e]},Bn.chain=fo,Bn.chunk=function(e,t,r){t=(r?ka(e,t,r):t===i)?1:Qt(pu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(dt(a/t));o<a;)s[u++]=ri(e,o,o+=t);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(Ko(r)?Ci(r):[r],yr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=sa();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Ce(a);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(At(i[0],this,n))return At(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ru(e);return function(n){return cr(n,e,t)}}(sr(e,1))},Bn.constant=es,Bn.countBy=vo,Bn.create=function(e,t){var n=zn(e);return null==t?n:ir(n,t)},Bn.curry=function e(t,n,r){var a=Yi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.curryRight=function e(t,n,r){var a=Yi(t,s,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.debounce=Ro,Bn.defaults=Iu,Bn.defaultsDeep=Eu,Bn.defer=Oo,Bn.delay=Do,Bn.difference=ja,Bn.differenceBy=Ba,Bn.differenceWith=za,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:pu(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:pu(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?di(e,sa(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?di(e,sa(t,3),!0):[]},Bn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ka(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=pu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:pu(r))<0&&(r+=a),r=n>r?0:vu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Ko(e)?Ot:mr)(e,sa(t,3))},Bn.flatMap=function(e,t){return yr(xo(e,t),1)},Bn.flatMapDeep=function(e,t){return yr(xo(e,t),d)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:pu(n),yr(xo(e,t),n)},Bn.flatten=Ka,Bn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,d):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:pu(t)):[]},Bn.flip=function(e){return Yi(e,512)},Bn.flow=ts,Bn.flowRight=ns,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:_r(e,Ru(e))},Bn.functionsIn=function(e){return null==e?[]:_r(e,Ou(e))},Bn.groupBy=bo,Bn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Bn.intersection=Wa,Bn.intersectionBy=Ga,Bn.intersectionWith=Qa,Bn.invert=Su,Bn.invertBy=Cu,Bn.invokeMap=wo,Bn.iteratee=is,Bn.keyBy=_o,Bn.keys=Ru,Bn.keysIn=Ou,Bn.map=xo,Bn.mapKeys=function(e,t){var n={};return t=sa(t,3),br(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=sa(t,3),br(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(sr(e,1))},Bn.matchesProperty=function(e,t){return zr(e,sr(t,1))},Bn.memoize=Po,Bn.merge=Du,Bn.mergeWith=Pu,Bn.method=as,Bn.methodOf=os,Bn.mixin=us,Bn.negate=Lo,Bn.nthArg=function(e){return e=pu(e),Xr((function(t){return qr(t,e)}))},Bn.omit=Lu,Bn.omitBy=function(e,t){return Fu(e,Lo(sa(t)))},Bn.once=function(e){return So(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Ko(t)||(t=null==t?[]:[t]),Ko(n=r?i:n)||(n=null==n?[]:[n]),Kr(e,t,n))},Bn.over=cs,Bn.overArgs=Mo,Bn.overEvery=ls,Bn.overSome=fs,Bn.partial=Fo,Bn.partialRight=Uo,Bn.partition=Io,Bn.pick=Mu,Bn.pickBy=Fu,Bn.property=hs,Bn.propertyOf=function(e){return function(t){return null==e?i:xr(e,t)}},Bn.pull=Xa,Bn.pullAll=Ya,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,sa(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,i,n):e},Bn.pullAt=Za,Bn.range=ds,Bn.rangeRight=ps,Bn.rearg=jo,Bn.reject=function(e,t){return(Ko(e)?Ot:mr)(e,Lo(sa(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=sa(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Gr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ce(a);return Xr(e,t=t===i?t:pu(t))},Bn.reverse=$a,Bn.sampleSize=function(e,t,n){return t=(n?ka(e,t,n):t===i)?1:pu(t),(Ko(e)?Zn:Zr)(e,t)},Bn.set=function(e,t,n){return null==e?e:$r(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:$r(e,t,n,r)},Bn.shuffle=function(e){return(Ko(e)?$n:ni)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ka(e,t,n)?(t=0,n=r):(t=null==t?0:pu(t),n=n===i?r:pu(n)),ri(e,t,n)):[]},Bn.sortBy=Eo,Bn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,sa(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&ka(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=gu(e))&&("string"==typeof t||null!=t&&!au(t))&&!(t=ci(t))&&sn(e)?wi(vn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ce(a);return t=null==t?0:Qt(pu(t),0),Xr((function(n){var r=n[t],i=wi(n,0,t);return r&&Mt(i,r),At(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:pu(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:pu(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?di(e,sa(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?di(e,sa(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ce(a);return eu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ro(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=ho,Bn.toArray=hu,Bn.toPairs=Uu,Bn.toPairsIn=ju,Bn.toPath=function(e){return Ko(e)?Lt(e,Ma):su(e)?[e]:Ci(La(gu(e)))},Bn.toPlainObject=yu,Bn.transform=function(e,t,n){var r=Ko(e),i=r||Qo(e)||cu(e);if(t=sa(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:eu(e)&&Yo(a)?zn(We(e)):{}}return(i?Ct:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Ao(e,1)},Bn.union=eo,Bn.unionBy=to,Bn.unionWith=no,Bn.uniq=function(e){return e&&e.length?li(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?li(e,sa(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?li(e,i,t):[]},Bn.unset=function(e,t){return null==e||fi(e,t)},Bn.unzip=ro,Bn.unzipWith=io,Bn.update=function(e,t,n){return null==e?e:hi(e,t,gi(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,gi(n),r)},Bn.values=Bu,Bn.valuesIn=function(e){return null==e?[]:en(e,Ou(e))},Bn.without=ao,Bn.words=Yu,Bn.wrap=function(e,t){return Fo(gi(t),e)},Bn.xor=oo,Bn.xorBy=uo,Bn.xorWith=so,Bn.zip=co,Bn.zipObject=function(e,t){return mi(e||[],t||[],tr)},Bn.zipObjectDeep=function(e,t){return mi(e||[],t||[],$r)},Bn.zipWith=lo,Bn.entries=Uu,Bn.entriesIn=ju,Bn.extend=bu,Bn.extendWith=wu,us(Bn,Bn),Bn.add=ys,Bn.attempt=Zu,Bn.camelCase=zu,Bn.capitalize=Vu,Bn.ceil=gs,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=mu(n))===n?n:0),t!==i&&(t=(t=mu(t))===t?t:0),ur(mu(e),t,n)},Bn.clone=function(e){return sr(e,4)},Bn.cloneDeep=function(e){return sr(e,5)},Bn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||cr(e,t,Ru(t))},Bn.deburr=qu,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=ks,Bn.endsWith=function(e,t,n){e=gu(e),t=ci(t);var r=e.length,a=n=n===i?r:ur(pu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Bn.eq=Bo,Bn.escape=function(e){return(e=gu(e))&&Y.test(e)?e.replace(J,on):e},Bn.escapeRegExp=function(e){return(e=gu(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Ko(e)?Rt:pr;return n&&ka(e,t,n)&&(t=i),r(e,sa(t,3))},Bn.find=mo,Bn.findIndex=Va,Bn.findKey=function(e,t){return zt(e,sa(t,3),br)},Bn.findLast=yo,Bn.findLastIndex=qa,Bn.findLastKey=function(e,t){return zt(e,sa(t,3),wr)},Bn.floor=bs,Bn.forEach=go,Bn.forEachRight=ko,Bn.forIn=function(e,t){return null==e?e:gr(e,sa(t,3),Ou)},Bn.forInRight=function(e,t){return null==e?e:kr(e,sa(t,3),Ou)},Bn.forOwn=function(e,t){return e&&br(e,sa(t,3))},Bn.forOwnRight=function(e,t){return e&&wr(e,sa(t,3))},Bn.get=Tu,Bn.gt=zo,Bn.gte=Vo,Bn.has=function(e,t){return null!=e&&va(e,t,Ar)},Bn.hasIn=Au,Bn.head=Ha,Bn.identity=rs,Bn.includes=function(e,t,n,r){e=Wo(e)?e:Bu(e),n=n&&!r?pu(n):0;var i=e.length;return n<0&&(n=Qt(i+n,0)),uu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&qt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pu(n);return i<0&&(i=Qt(r+i,0)),qt(e,t,i)},Bn.inRange=function(e,t,n){return t=du(t),n===i?(n=t,t=0):n=du(n),function(e,t,n){return e>=kn(t,n)&&e<Qt(t,n)}(e=mu(e),t,n)},Bn.invoke=Nu,Bn.isArguments=qo,Bn.isArray=Ko,Bn.isArrayBuffer=Ho,Bn.isArrayLike=Wo,Bn.isArrayLikeObject=Go,Bn.isBoolean=function(e){return!0===e||!1===e||tu(e)&&Er(e)==b},Bn.isBuffer=Qo,Bn.isDate=Jo,Bn.isElement=function(e){return tu(e)&&1===e.nodeType&&!iu(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Wo(e)&&(Ko(e)||"string"==typeof e||"function"==typeof e.splice||Qo(e)||cu(e)||qo(e)))return!e.length;var t=pa(e);if(t==E||t==N)return!e.size;if(xa(e))return!Mr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Or(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Or(e,t,i,n):!!r},Bn.isError=Xo,Bn.isFinite=function(e){return"number"==typeof e&&kt(e)},Bn.isFunction=Yo,Bn.isInteger=Zo,Bn.isLength=$o,Bn.isMap=nu,Bn.isMatch=function(e,t){return e===t||Dr(e,t,la(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,la(t),n)},Bn.isNaN=function(e){return ru(e)&&e!=+e},Bn.isNative=function(e){if(_a(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=ru,Bn.isObject=eu,Bn.isObjectLike=tu,Bn.isPlainObject=iu,Bn.isRegExp=au,Bn.isSafeInteger=function(e){return Zo(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=ou,Bn.isString=uu,Bn.isSymbol=su,Bn.isTypedArray=cu,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return tu(e)&&pa(e)==D},Bn.isWeakSet=function(e){return tu(e)&&"[object WeakSet]"==Er(e)},Bn.join=function(e,t){return null==e?"":bt.call(e,t)},Bn.kebabCase=Ku,Bn.last=Ja,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=pu(n))<0?Qt(r+a,0):kn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Vt(e,Ht,a,!0)},Bn.lowerCase=Hu,Bn.lowerFirst=Wu,Bn.lt=lu,Bn.lte=fu,Bn.max=function(e){return e&&e.length?vr(e,rs,Tr):i},Bn.maxBy=function(e,t){return e&&e.length?vr(e,sa(t,2),Tr):i},Bn.mean=function(e){return Wt(e,rs)},Bn.meanBy=function(e,t){return Wt(e,sa(t,2))},Bn.min=function(e){return e&&e.length?vr(e,rs,Ur):i},Bn.minBy=function(e,t){return e&&e.length?vr(e,sa(t,2),Ur):i},Bn.stubArray=vs,Bn.stubFalse=ms,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=ws,Bn.nth=function(e,t){return e&&e.length?qr(e,pu(t)):i},Bn.noConflict=function(){return vt._===this&&(vt._=Be),this},Bn.noop=ss,Bn.now=To,Bn.pad=function(e,t,n){e=gu(e);var r=(t=pu(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ki(pt(i),n)+e+Ki(dt(i),n)},Bn.padEnd=function(e,t,n){e=gu(e);var r=(t=pu(t))?pn(e):0;return t&&r<t?e+Ki(t-r,n):e},Bn.padStart=function(e,t,n){e=gu(e);var r=(t=pu(t))?pn(e):0;return t&&r<t?Ki(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(gu(e).replace(oe,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ka(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=du(e),t===i?(t=e,e=0):t=du(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=_n();return kn(e+a*(t-e+ft("1e-"+((a+"").length-1))),t)}return Qr(e,t)},Bn.reduce=function(e,t,n){var r=Ko(e)?Ft:Jt,i=arguments.length<3;return r(e,sa(t,4),n,i,hr)},Bn.reduceRight=function(e,t,n){var r=Ko(e)?Ut:Jt,i=arguments.length<3;return r(e,sa(t,4),n,i,dr)},Bn.repeat=function(e,t,n){return t=(n?ka(e,t,n):t===i)?1:pu(t),Jr(gu(e),t)},Bn.replace=function(){var e=arguments,t=gu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,a=(t=ki(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Ma(t[r])];o===i&&(r=a,o=n),e=Yo(o)?o.call(e):o}return e},Bn.round=_s,Bn.runInContext=e,Bn.sample=function(e){return(Ko(e)?Yn:Yr)(e)},Bn.size=function(e){if(null==e)return 0;if(Wo(e))return uu(e)?pn(e):e.length;var t=pa(e);return t==E||t==N?e.size:Mr(e).length},Bn.snakeCase=Gu,Bn.some=function(e,t,n){var r=Ko(e)?jt:ii;return n&&ka(e,t,n)&&(t=i),r(e,sa(t,3))},Bn.sortedIndex=function(e,t){return ai(e,t)},Bn.sortedIndexBy=function(e,t,n){return oi(e,t,sa(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Bo(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return oi(e,t,sa(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Bo(e[n],t))return n}return-1},Bn.startCase=Qu,Bn.startsWith=function(e,t,n){return e=gu(e),n=null==n?0:ur(pu(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Bn.subtract=xs,Bn.sum=function(e){return e&&e.length?Xt(e,rs):0},Bn.sumBy=function(e,t){return e&&e.length?Xt(e,sa(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&ka(e,t,n)&&(t=i),e=gu(e),t=wu({},t,r,Zi);var a,o,u=wu({},t.imports,r.imports,Zi),s=Ru(u),c=en(u,s),l=0,f=t.interpolate||_e,h="__p += '",d=Ae((t.escape||_e).source+"|"+f.source+"|"+(f===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ut+"]")+"\n";e.replace(d,(function(t,n,r,i,u,s){return r||(r=i),h+=e.slice(l,s).replace(xe,un),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(H,""):h).replace(W,"$1").replace(G,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Zu((function(){return Ie(s,p+"return "+h).apply(i,c)}));if(m.source=h,Xo(m))throw m;return m},Bn.times=function(e,t){if((e=pu(e))<1||e>p)return[];var n=m,r=kn(e,m);t=sa(t),e-=m;for(var i=Yt(r,t);++n<e;)t(n);return i},Bn.toFinite=du,Bn.toInteger=pu,Bn.toLength=vu,Bn.toLower=function(e){return gu(e).toLowerCase()},Bn.toNumber=mu,Bn.toSafeInteger=function(e){return e?ur(pu(e),-9007199254740991,p):0===e?e:0},Bn.toString=gu,Bn.toUpper=function(e){return gu(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=gu(e))&&(n||t===i))return Zt(e);if(!e||!(t=ci(t)))return e;var r=vn(e),a=vn(t);return wi(r,nn(r,a),rn(r,a)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=gu(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ci(t)))return e;var r=vn(e);return wi(r,0,rn(r,vn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=gu(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var r=vn(e);return wi(r,nn(r,vn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(eu(t)){var a="separator"in t?t.separator:a;n="length"in t?pu(t.length):n,r="omission"in t?ci(t.omission):r}var o=(e=gu(e)).length;if(sn(e)){var u=vn(e);o=u.length}if(n>=o)return e;var s=n-pn(r);if(s<1)return r;var c=u?wi(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),au(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Ae(a.source,gu(ve.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(ci(a),s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r},Bn.unescape=function(e){return(e=gu(e))&&X.test(e)?e.replace(Q,yn):e},Bn.uniqueId=function(e){var t=++Me;return gu(e)+t},Bn.upperCase=Ju,Bn.upperFirst=Xu,Bn.each=go,Bn.eachRight=ko,Bn.first=Ha,us(Bn,function(){var e={};return br(Bn,(function(t,n){Le.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Ct(["drop","take"],(function(e,t){Kn.prototype[e]=function(n){n=n===i?1:Qt(pu(n),0);var r=this.__filtered__&&!t?new Kn(this):this.clone();return r.__filtered__?r.__takeCount__=kn(n,r.__takeCount__):r.__views__.push({size:kn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Kn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Kn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:sa(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Kn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Kn.prototype[e]=function(){return this.__filtered__?new Kn(this):this[n](1)}})),Kn.prototype.compact=function(){return this.filter(rs)},Kn.prototype.find=function(e){return this.filter(e).head()},Kn.prototype.findLast=function(e){return this.reverse().find(e)},Kn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Kn(this):this.map((function(n){return Nr(n,e,t)}))})),Kn.prototype.reject=function(e){return this.filter(Lo(sa(e)))},Kn.prototype.slice=function(e,t){e=pu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Kn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Kn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kn.prototype.toArray=function(){return this.take(m)},br(Kn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Bn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Bn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Kn,c=u[0],l=s||Ko(t),f=function(e){var t=a.apply(Bn,Mt([e],u));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=s&&!d;if(!o&&l){t=v?t:new Kn(this);var m=e.apply(t,u);return m.__actions__.push({func:ho,args:[f],thisArg:i}),new qn(m,h)}return p&&v?e.apply(this,u):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ko(i)?i:[],e)}return this[n]((function(n){return t.apply(Ko(n)?n:[],e)}))}})),br(Kn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[Bi(i,2).name]=[{name:"wrapper",func:i}],Kn.prototype.clone=function(){var e=new Kn(this.__wrapped__);return e.__actions__=Ci(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ci(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ci(this.__views__),e},Kn.prototype.reverse=function(){if(this.__filtered__){var e=new Kn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ko(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=kn(t,e+o);break;case"takeRight":e=Qt(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,h=0,d=kn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return pi(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,m=e[c+=t];++v<f;){var y=l[v],g=y.iteratee,k=y.type,b=g(m);if(2==k)m=b;else if(!b){if(1==k)continue e;break e}}p[h++]=m}return p},Bn.prototype.at=po,Bn.prototype.chain=function(){return fo(this)},Bn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=hu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Ua(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kn){var t=e;return this.__actions__.length&&(t=new Kn(this)),(t=t.reverse()).__actions__.push({func:ho,args:[$a],thisArg:i}),new qn(t,this.__chain__)}return this.thru($a)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Ye&&(Bn.prototype[Ye]=function(){return this}),Bn}();vt._=gn,(r=function(){return gn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Ae(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Se(e,t){return e(t)}function Ce(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Se(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ie)&&(Ce(),Ae())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Be={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ve(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,It,Et,Tt=!1,At=[],St=null,Ct=null,Nt=null,Rt=new Map,Ot=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Tt=!1,null!==St&&Ut(St)&&(St=null),null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),Rt.forEach(jt),Ot.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&zt(St,e),null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Jt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Mt(St,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return In}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Tn),Sn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Rn),Dn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Ur(e,0)}function Jn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ar=Er("animationiteration"),Sr=Er("animationstart"),Cr=Er("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Pr=Rr[Dr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Ar,"onAnimationIteration"),Or(Sr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Tr:case Ar:case Sr:s=yn;break;case Cr:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Sn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Sn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Kn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(g=en()):(Zt="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),$t=Zt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ii(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ai={},Si=Ii(Ai),Ci=Ii(!1),Ni=Ai;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ci),Ei(Si)}function Pi(e,t,n){if(Si.current!==Ai)throw Error(a(168));Ti(Si,t),Ti(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ni=Si.current,Ti(Si,e),Ti(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Si),Ti(Si,e)):Ei(Ci),Ti(Ci,n)}var Ui=null,ji=!1,Bi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge($e,Vi),i}finally{kt=t,Bi=!1}}return null}var qi=[],Ki=0,Hi=null,Wi=0,Gi=[],Qi=0,Ji=null,Xi=1,Yi="";function Zi(e,t){qi[Ki++]=Wi,qi[Ki++]=Hi,Hi=e,Wi=t}function $i(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=Ji,Ji=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===Ji;)Ji=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Aa(e){null===Ta?Ta=[e]:Ta.push(e)}function Sa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Aa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Aa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ni:Si.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ni:Si.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=Ja(!0),Ya=Ja(!1),Za={},$a=Ii(Za),eo=Ii(Za),to=Ii(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Ti($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Ao(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function So(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Oo(e,t){var n=vo,r=Ao(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Ca(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Ao().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Ao();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Vo(2048,8,e,t)}function Ho(e,t){return Vo(4,2,e,t)}function Wo(e,t){return Vo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Go.bind(null,t,e),n)}function Jo(){}function Xo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Ao().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Sa(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Aa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Sa(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Uo,useDebugValue:Jo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=$o.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ns.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:Co,useRef:Bo,useState:function(){return Co(So)},useDebugValue:Jo,useDeferredValue:function(e){return Zo(Ao(),mo.memoizedState,e)},useTransition:function(){return[Co(So)[0],Ao().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Bo,useState:function(){return No(So)},useDebugValue:Jo,useDeferredValue:function(e){var t=Ao();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(So)[0],Ao().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Au(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ps,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ps,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ps,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ps,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Au(e,t,n,r,i){var a=Oi(n)?Ni:Si.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Su(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Oi(n)?Ni:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Na?("function"===typeof l&&(Ba(t,n,l,r),s=t.memoizedState),(u=Na||Va(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ri(t,s=Oi(n)?Ni:Si.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||Na?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Na||Va(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,a,i)}function Cu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Du,Pu,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Bu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Bu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Bu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),rc(r,e,i,-1))}return mc(),Bu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=Ji,Xi=e.id,Yi=e.overflow,Ji=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Oi(t.type)&&Di(),Gu(t),null;case 3:return r=t.stateNode,io(),Ei(Ci),Ei(Si),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Du(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=J(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Du(e,t),null===e&&Vr(t.stateNode.containerInfo),Gu(t),null;case 10:return _a(t.type._context),Gu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Ye()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ju(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ci),Ei(Si),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(){},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,Yu=!1,Zu="function"===typeof WeakSet?WeakSet:Set,$u=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Vt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ms(t,e),Yu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($u=e,f=e.child;null!==f;){for(h=$u=f;null!==$u;){switch(p=(d=$u).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,$u=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){$u=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Xu;var c=Yu;if(Xu=o,(Yu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,$u=s):xs(i);for(;null!==a;)$u=a,bs(a,t,n),a=a.sibling;$u=i,Xu=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ws(e)}}function ws(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function _s(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function xs(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var Is,Es=Math.ceil,Ts=b.ReactCurrentDispatcher,As=b.ReactCurrentOwner,Ss=b.ReactCurrentBatchConfig,Cs=0,Ns=null,Rs=null,Os=0,Ds=0,Ps=Ii(0),Ls=0,Ms=null,Fs=0,Us=0,js=0,Bs=null,zs=null,Vs=0,qs=1/0,Ks=null,Hs=!1,Ws=null,Gs=null,Qs=!1,Js=null,Xs=0,Ys=0,Zs=null,$s=-1,ec=0;function tc(){return 0!==(6&Cs)?Ye():-1!==$s?$s:$s=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ys)throw Ys=0,Zs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Us|=n),4===Ls&&sc(e,Os)),ic(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Ye()+500,ji&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Cs)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($s=-1,ec=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=vc();for(Ns===e&&Os===t||(Ks=null,qs=Ye()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ts.current=o,Cs=i,null!==Rs?t=0:(Ns=null,Os=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zs,Ks),t);break}_c(e,zs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zs,Ks),r);break}_c(e,zs,Ks);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~js,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zs,Ks),ic(e,Ye()),null}function lc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Ye()+500,ji&&Vi())}}function fc(e){null!==Js&&0===Js.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ss.transition,r=kt;try{if(Ss.transition=null,kt=1,e)return e()}finally{kt=r,Ss.transition=n,0===(6&(Cs=t))&&Vi()}}function hc(){Ds=Ps.current,Ei(Ps)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ci),Ei(Si),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Rs=e=Pc(e.current,null),Os=Ds=t,Ls=0,Ms=null,js=Us=Fs=0,zs=Bs=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,As.current=null,null===n||null===n.return){Ls=1,Ms=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Bs?Bs=[o]:Bs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vc(){var e=Ts.current;return Ts.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Us)||sc(Ns,Os)}function yc(e,t){var n=Cs;Cs|=2;var r=vc();for(Ns===e&&Os===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Cs=n,Ts.current=r,null!==Rs)throw Error(a(261));return Ns=null,Os=0,Ls}function gc(){for(;null!==Rs;)bc(Rs)}function kc(){for(;null!==Rs&&!Je();)bc(Rs)}function bc(e){var t=Is(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?wc(e):Rs=t,As.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ds)))return void(Rs=n)}else{if(null!==(n=Ju(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function _c(e,t,n){var r=kt,i=Ss.transition;try{Ss.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Js);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Rs=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,As.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Xe(),Cs=s,kt=u,Ss.transition=o}else e.current=n;if(Qs&&(Qs=!1,Js=e,Xs=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ws,Ws=null,e;0!==(1&Xs)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Zs?Ys++:(Ys=0,Zs=e):Ys=0,Vi()}(e,t,n,r)}finally{Ss.transition=i,kt=r}return null}function xc(){if(null!==Js){var e=bt(Xs),t=Ss.transition,n=kt;try{if(Ss.transition=null,kt=16>e?16:e,null===Js)var r=!1;else{if(e=Js,Js=null,Xs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(os(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var b=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,$u=b;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(Cs=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Ss.transition=t}}return!1}function Ic(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ls||3===Ls&&(130023424&Os)===Os&&500>Ye()-Vs?dc(e,0):js|=n),ic(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ca(e,t))&&(yt(e,t,n),ic(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ac(e,n)}function Nc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case C:return(e=Oc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case A:u=9;break e;case S:u=11;break e;case R:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Bc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Vc(e){if(!e)return Ai;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Vc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Ti(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Ri(t,Si.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Au(null,t,r,e,n);break e;case 1:t=Su(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ci.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ha(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,Vr(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Xc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Ye()),0===(6&Cs)&&(qs=Ye()+500,Vi()))}break;case 13:fc((function(){var t=Ca(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Ca(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=lc,Ce=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ae,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+S(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+S(u=e[c],c);s+=C(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,l=a+S(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,E=null,T=-1,A=5,S=-1;function C(){return!(t.unstable_now()-S<A)}function N(){if(null!==E){var e=t.unstable_now();S=e;var n=!0;try{n=E(!0,e)}finally{n?x():(I=!1,E=null)}}else I=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=N,x=function(){O.postMessage(null)}}else x=function(){y(N,0)};function D(e){E=e,I||(I=!0,x())}function P(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},288:function(e,t,n){"use strict";n.r(t),n.d(t,{DOMException:function(){return _},Headers:function(){return l},Request:function(){return y},Response:function(){return b},fetch:function(){return x}});var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function s(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function d(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=f(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(d)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=u(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=s(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),c(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),c(e)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function k(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];b.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var _=r.DOMException;try{new _}catch(I){(_=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function x(e,t){return new Promise((function(n,a){var o=new y(e,t);if(o.signal&&o.signal.aborted)return a(new _("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:k(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){n(new b(t,e))}),0)},u.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){a(new _("Aborted","AbortError"))}),0)},u.open(o.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?u.withCredentials=!0:"omit"===o.credentials&&(u.withCredentials=!1),"responseType"in u&&(i.blob?u.responseType="blob":i.arrayBuffer&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof l?o.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){u.setRequestHeader(e,s(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&o.signal.removeEventListener("abort",c)}),u.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}x.polyfill=!0,r.fetch||(r.fetch=x,r.Headers=l,r.Request=y,r.Response=b)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/sesa-x-wdcc-hackathon/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return yt},SDK_VERSION:function(){return Sn},_DEFAULT_ENTRY_NAME:function(){return vn},_addComponent:function(){return kn},_addOrOverwriteComponent:function(){return bn},_apps:function(){return yn},_clearComponents:function(){return In},_components:function(){return gn},_getProvider:function(){return _n},_registerComponent:function(){return wn},_removeServiceInstance:function(){return xn},deleteApp:function(){return On},getApp:function(){return Nn},getApps:function(){return Rn},initializeApp:function(){return Cn},onLog:function(){return Ln},registerVersion:function(){return Pn},setLogLevel:function(){return Mn}});var t,r=n(791),i=n.t(r,2),a=n(164);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||s(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return u(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function I(e,t,n){return I=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return I(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,e)},E(e)}function T(e){return o(e)||f(e)||s(e)||c()}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var C,N="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function P(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:L(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(S({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(N,v),h=e,function(){u.removeEventListener(N,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=P(y.location,e,n);r&&r(i,e);var a=D(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=P(y.location,e,n);r&&r(i,e);var a=D(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function U(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=j(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=J(i[o],Y(r));return a}function j(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ne([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),j(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=A(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=B(i.join("/")),s=[];return s.push.apply(s,h(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,h(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var z=/^:\w+$/,V=3,q=2,K=1,H=10,W=-2,G=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=W),t&&(r+=q),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(z.test(t)?V:""===t?K:H)}),r)}function J(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=X({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function X(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return O(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(R(!(i=S({},e)).pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),$("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ie(a),hash:ae(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(E(Error));function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ce=(new Set(se),["get"].concat(se));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ye=r.createContext(null);function ge(){return null!=r.useContext(ve)}function ke(){return ge()||R(!1),r.useContext(ve).location}function be(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Re(Ee.UseNavigateStable).router,t=De(Te.UseNavigateStable),n=r.useRef(!1);be((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ge()||R(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=ke().pathname,u=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);return be((function(){s.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof t){var a=te(t,JSON.parse(u),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,u,o,e])}()}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=ke().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function xe(e,n,i){ge()||R(!1);var a,o=r.useContext(pe).navigator,u=r.useContext(me).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,ke());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||R(!1),a=d}else a=f;var p=a.pathname||"/",v=U(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ne(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i);return n&&m?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Ie(){var e=function(){var e,t=r.useContext(ye),n=Oe(Te.UseRouteError),i=De(Te.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ee,Te,Ae=r.createElement(Ie,null),Se=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ce(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Ne(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(i=n)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||R(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ae);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ce,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Se,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Re(e){var t=r.useContext(fe);return t||R(!1),t}function Oe(e){var t=r.useContext(he);return t||R(!1),t}function De(e){var t=function(e){var t=r.useContext(me);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ee||(Ee={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Te||(Te={}));var Pe;i.startTransition;function Le(e){R(!1)}function Me(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ge()&&R(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=M(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,I=v.key,E=void 0===I?"default":I,T=r.useMemo((function(){var e=Z(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:x,key:E},navigationType:c}}),[d,y,k,w,x,E,c]);return null==T?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:T}))}function Fe(e){var t=e.children,n=e.location;return xe(je(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Pe||(Pe={}));var Ue=new Promise((function(){}));r.Component;function je(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(h(t),[i]);if(e.type!==r.Fragment){e.type!==Le&&R(!1),e.props.index&&e.props.children&&R(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=je(e.props.children,a)),n.push(o)}else n.push.apply(n,je(e.props.children,a))}})),n}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var qe=i.startTransition;function Ke(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,u=r.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),F((function(e,t){var n=e.location;return P("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,t)));var s=u.current,c=l(r.useState({action:s.action,location:s.location}),2),f=c[0],h=c[1],d=(a||{}).v7_startTransition,p=r.useCallback((function(e){d&&qe?qe((function(){return h(e)})):h(e)}),[h,d]);return r.useLayoutEffect((function(){return s.listen(p)}),[s,p]),r.createElement(Me,{basename:n,children:i,location:f.location,navigationType:f.action,navigator:s})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,We=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=ze(e,Ve),d=r.useContext(pe).basename,p=!1;if("string"===typeof l&&We.test(l)&&(n=l,He))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=Z(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(b){}var g=function(e,t){var n=(void 0===t?{}:t).relative;ge()||R(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,u=_e(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=we(),l=ke(),f=_e(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return r.createElement("a",Be({},h,{href:n||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var Qe,Je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Qe||(Qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Je||(Je={}));function Xe(){Xe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new T(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(A([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ye(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ye(a,r,i,o,u,"next",e)}function u(e){Ye(a,r,i,o,u,"throw",e)}o(void 0)}))}}function $e(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(et(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new nt;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},nt=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return y(n)}(E(Error)),rt=function(e){return function(e){var t=et(e);return tt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},it=function(e){try{return tt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function at(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=at(e[n],t[n]));return e}var ot=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ut=function(){try{return ot()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/sesa-x-wdcc-hackathon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&it(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},st=function(){var e;return null===(e=ut())||void 0===e?void 0:e.config},ct=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function lt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rt(JSON.stringify({alg:"none",type:"JWT"})),rt(JSON.stringify(a)),""].join(".")}function ft(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ht(){var e,t=null===(e=ut())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function dt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function pt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function vt(){var e=ft();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function mt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var yt=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),gt.prototype.create),a}return y(n)}(E(Error)),gt=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(kt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yt(n,a,t)}}]),e}();var kt=/\{\$([^}]+)}/g;function bt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _t(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(xt(u)&&xt(s)){if(!_t(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function xt(e){return null!==e&&"object"===typeof e}function It(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Et(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Tt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function At(e,t){var n=new St(e,t);return n.subscribe.bind(n)}var St=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=A(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ct),void 0===r.error&&(r.error=Ct),void 0===r.complete&&(r.complete=Ct);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ct(){}function Nt(e){return e&&e._delegate?e._delegate:e}var Rt=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ot="[DEFAULT]",Dt=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ct;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ot})}catch(s){}var t,n=A(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=A(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ot?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;return this.component?this.component.multipleInstances?e:Ot:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Pt,Lt,Mt=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Dt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ft=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Lt||(Lt={}));var Ut={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},jt=Lt.INFO,Bt=($e(Pt={},Lt.DEBUG,"log"),$e(Pt,Lt.VERBOSE,"log"),$e(Pt,Lt.INFO,"info"),$e(Pt,Lt.WARN,"warn"),$e(Pt,Lt.ERROR,"error"),Pt),zt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Bt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Vt=function(){function e(t){d(this,e),this.name=t,this._logLevel=jt,this._logHandler=zt,this._userLogHandler=null,Ft.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Lt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ut[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Lt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Lt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.INFO].concat(t)),this._logHandler.apply(this,[this,Lt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.WARN].concat(t)),this._logHandler.apply(this,[this,Lt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.ERROR].concat(t)),this._logHandler.apply(this,[this,Lt.ERROR].concat(t))}}]),e}();function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht,Wt,Gt=function(e,t){return t.some((function(t){return e instanceof t}))};var Qt=new WeakMap,Jt=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Zt=new WeakMap;var $t={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Jt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function en(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wt||(Wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(rn(this),n),nn(Qt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(e.apply(rn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[rn(this),t].concat(r));return Xt.set(a,t.sort?t.sort():[t]),nn(a)}}function tn(e){return"function"===typeof e?en(e):(e instanceof IDBTransaction&&function(e){if(!Jt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Jt.set(e,t)}}(e),Gt(e,Ht||(Ht=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,$t):e)}function nn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(nn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Qt.set(t,e)})).catch((function(){})),Zt.set(t,e),t}(e);if(Yt.has(e))return Yt.get(e);var t=tn(e);return t!==e&&(Yt.set(e,t),Zt.set(t,e)),t}var rn=function(e){return Zt.get(e)};var an,on,un=["get","getKey","getAll","getAllKeys","count"],sn=["put","add","delete","clear"],cn=new Map;function ln(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(cn.get(t))return cn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=sn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||un.includes(n))){var a=function(){var e=Ze(Xe().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return cn.set(t,a),a}}}$t=function(e){return Kt(Kt({},e),{},{get:function(t,n,r){return ln(t,n)||e.get(t,n,r)},has:function(t,n){return!!ln(t,n)||e.has(t,n)}})}($t);var fn=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var hn="@firebase/app",dn="0.9.15",pn=new Vt("@firebase/app"),vn="[DEFAULT]",mn=($e(an={},hn,"fire-core"),$e(an,"@firebase/app-compat","fire-core-compat"),$e(an,"@firebase/analytics","fire-analytics"),$e(an,"@firebase/analytics-compat","fire-analytics-compat"),$e(an,"@firebase/app-check","fire-app-check"),$e(an,"@firebase/app-check-compat","fire-app-check-compat"),$e(an,"@firebase/auth","fire-auth"),$e(an,"@firebase/auth-compat","fire-auth-compat"),$e(an,"@firebase/database","fire-rtdb"),$e(an,"@firebase/database-compat","fire-rtdb-compat"),$e(an,"@firebase/functions","fire-fn"),$e(an,"@firebase/functions-compat","fire-fn-compat"),$e(an,"@firebase/installations","fire-iid"),$e(an,"@firebase/installations-compat","fire-iid-compat"),$e(an,"@firebase/messaging","fire-fcm"),$e(an,"@firebase/messaging-compat","fire-fcm-compat"),$e(an,"@firebase/performance","fire-perf"),$e(an,"@firebase/performance-compat","fire-perf-compat"),$e(an,"@firebase/remote-config","fire-rc"),$e(an,"@firebase/remote-config-compat","fire-rc-compat"),$e(an,"@firebase/storage","fire-gcs"),$e(an,"@firebase/storage-compat","fire-gcs-compat"),$e(an,"@firebase/firestore","fire-fst"),$e(an,"@firebase/firestore-compat","fire-fst-compat"),$e(an,"fire-js","fire-js"),$e(an,"firebase","fire-js-all"),an),yn=new Map,gn=new Map;function kn(e,t){try{e.container.addComponent(t)}catch(n){pn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function bn(e,t){e.container.addOrOverwriteComponent(t)}function wn(e){var t=e.name;if(gn.has(t))return pn.debug("There were multiple attempts to register component ".concat(t,".")),!1;gn.set(t,e);var n,r=A(yn.values());try{for(r.s();!(n=r.n()).done;){kn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function _n(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function xn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vn;_n(e,t).clearInstance(n)}function In(){gn.clear()}var En=($e(on={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),$e(on,"bad-app-name","Illegal App name: '{$appName}"),$e(on,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),$e(on,"app-deleted","Firebase App named '{$appName}' already deleted"),$e(on,"no-options","Need to provide options, when not being deployed to hosting via source."),$e(on,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$e(on,"invalid-log-argument","First argument to `onLog` must be null or a function."),$e(on,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),$e(on,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),$e(on,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),$e(on,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),on),Tn=new gt("app","Firebase",En),An=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}]),e}(),Sn="10.1.0";function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:vn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Tn.create("bad-app-name",{appName:String(i)});if(n||(n=st()),!n)throw Tn.create("no-options");var a=yn.get(i);if(a){if(_t(n,a.options)&&_t(r,a.config))return a;throw Tn.create("duplicate-app",{appName:i})}var o,u=new Mt(i),s=A(gn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new An(n,r,u);return yn.set(i,l),l}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=yn.get(e);if(!t&&e===vn&&st())return Cn();if(!t)throw Tn.create("no-app",{appName:e});return t}function Rn(){return Array.from(yn.values())}function On(e){return Dn.apply(this,arguments)}function Dn(){return(Dn=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!yn.has(n)){e.next=6;break}return yn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t,n){var r,i=null!==(r=mn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void pn.warn(u.join(" "))}wn(new Rt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ln(e,t){if(null!==e&&"function"!==typeof e)throw Tn.create("invalid-log-argument");!function(e,t){var n,r=A(Ft);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ut[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Lt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Mn(e){var t;t=e,Ft.forEach((function(e){e.setLogLevel(t)}))}var Fn="firebase-heartbeat-database",Un=1,jn="firebase-heartbeat-store",Bn=null;function zn(){return Bn||(Bn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=nn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(nn(u.result),e.oldVersion,e.newVersion,nn(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Fn,Un,{upgrade:function(e,t){if(0===t)e.createObjectStore(jn)}}).catch((function(e){throw Tn.create("idb-open",{originalErrorMessage:e.message})}))),Bn}function Vn(e){return qn.apply(this,arguments)}function qn(){return qn=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zn();case 3:return n=e.sent,e.next=6,n.transaction(jn).objectStore(jn).get(Wn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof yt?pn.warn(e.t0.message):(i=Tn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),pn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),qn.apply(this,arguments)}function Kn(e,t){return Hn.apply(this,arguments)}function Hn(){return Hn=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zn();case 3:return r=e.sent,i=r.transaction(jn,"readwrite"),a=i.objectStore(jn),e.next=8,a.put(n,Wn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof yt?pn.warn(e.t0.message):(o=Tn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),pn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Hn.apply(this,arguments)}function Wn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Gn=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Zn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Qn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Qn(),n=Jn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=rt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qn(){return(new Date).toISOString().substring(0,10)}function Jn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=A(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),$n(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),$n(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Xn,Yn,Zn=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Vn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Kn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Kn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $n(e){return rt(JSON.stringify({version:2,heartbeats:e})).length}Xn="",wn(new Rt("platform-logger",(function(e){return new fn(e)}),"PRIVATE")),wn(new Rt("heartbeat",(function(e){return new Gn(e)}),"PRIVATE")),Pn(hn,dn,Xn),Pn(hn,dn,"esm2017"),Pn("fire-js","");var er=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,kn(t,new Rt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),On(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){kn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){bn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),tr=($e(Yn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),$e(Yn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Yn),nr=new gt("app-compat","Firebase",tr);var rr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Cn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(bt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Pn,setLogLevel:Mn,onLog:Ln,apps:null,SDK_VERSION:Sn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(wn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw nr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&at(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!bt(n,e=e||vn))throw nr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(er);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){at(n,e)},createSubscribe:At,ErrorFactory:gt,deepExtend:at}),n}(),ir=new Vt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ir.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ar=self.firebase.SDK_VERSION;ar&&ar.indexOf("LITE")>=0&&ir.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var or=rr;!function(e){Pn("@firebase/app-compat","0.2.15",e)}();function ur(){return ur="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ur.apply(this,arguments)}or.registerVersion("firebase","10.1.0","app-compat");var sr,cr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},lr={},fr=fr||{},hr=cr||self;function dr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vr="closure_uid_"+(1e9*Math.random()>>>0),mr=0;function yr(e,t,n){return e.call.apply(e.bind,arguments)}function gr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function kr(e,t,n){return(kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yr:gr).apply(null,arguments)}function br(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function _r(){this.s=this.s,this.o=this.o}_r.prototype.s=!1,_r.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,vr)&&e[vr]||(e[vr]=++mr))},_r.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ir(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Er(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(dr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Tr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Tr.prototype.h=function(){this.defaultPrevented=!0};var Ar=function(){if(!hr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{hr.addEventListener("test",(function(){}),t),hr.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Sr(e){return/^[\s\xa0]*$/.test(e)}function Cr(){var e=hr.navigator;return e&&(e=e.userAgent)?e:""}function Nr(e){return-1!=Cr().indexOf(e)}function Rr(e){return Rr[" "](e),e}Rr[" "]=function(){};var Or,Dr,Pr=Nr("Opera"),Lr=Nr("Trident")||Nr("MSIE"),Mr=Nr("Edge"),Fr=Mr||Lr,Ur=Nr("Gecko")&&!(-1!=Cr().toLowerCase().indexOf("webkit")&&!Nr("Edge"))&&!(Nr("Trident")||Nr("MSIE"))&&!Nr("Edge"),jr=-1!=Cr().toLowerCase().indexOf("webkit")&&!Nr("Edge");function Br(){var e=hr.document;return e?e.documentMode:void 0}e:{var zr="",Vr=function(){var e=Cr();return Ur?/rv:([^\);]+)(\)|;)/.exec(e):Mr?/Edge\/([\d\.]+)/.exec(e):Lr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):jr?/WebKit\/(\S+)/.exec(e):Pr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Vr&&(zr=Vr?Vr[1]:""),Lr){var qr=Br();if(null!=qr&&qr>parseFloat(zr)){Or=String(qr);break e}}Or=zr}if(hr.document&&Lr){var Kr=Br();Dr=Kr||(parseInt(Or,10)||void 0)}else Dr=void 0;var Hr=Dr;function Wr(e,t){if(Tr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ur){e:{try{Rr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Gr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wr.$.h.call(this)}}wr(Wr,Tr);var Gr={2:"touch",3:"pen",4:"mouse"};Wr.prototype.h=function(){Wr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qr="closure_listenable_"+(1e6*Math.random()|0),Jr=0;function Xr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Jr,this.fa=this.ia=!1}function Yr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Zr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function $r(e){var t={};for(var n in e)t[n]=e[n];return t}var ei="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ti(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ei.length;a++)n=ei[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ni(e){this.src=e,this.g={},this.h=0}function ri(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=xr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Yr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ii(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}ni.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ii(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Xr(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var ai="closure_lm_"+(1e6*Math.random()|0),oi={};function ui(e,t,n,r,i){if(r&&r.once)return ci(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ui(e,t[a],n,r,i);return null}return n=mi(n),e&&e[Qr]?e.O(t,n,pr(r)?!!r.capture:!!r,i):si(e,t,n,!1,r,i)}function si(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=pr(i)?!!i.capture:!!i,u=pi(e);if(u||(e[ai]=u=new ni(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=di;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ar||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ci(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ci(e,t[a],n,r,i);return null}return n=mi(n),e&&e[Qr]?e.P(t,n,pr(r)?!!r.capture:!!r,i):si(e,t,n,!0,r,i)}function li(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)li(e,t[a],n,r,i);else r=pr(r)?!!r.capture:!!r,n=mi(n),e&&e[Qr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ii(a=e.g[t],n,r,i))&&(Yr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=pi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ii(t,n,r,i)),(n=-1<e?t[e]:null)&&fi(n))}function fi(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Qr])ri(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pi(t))?(ri(n,e),0==n.h&&(n.src=null,t[ai]=null)):Yr(e)}}}function hi(e){return e in oi?oi[e]:oi[e]="on"+e}function di(e,t){if(e.fa)e=!0;else{t=new Wr(t,this);var n=e.listener,r=e.la||e.src;e.ia&&fi(e),e=n.call(r,t)}return e}function pi(e){return(e=e[ai])instanceof ni?e:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function mi(e){return"function"===typeof e?e:(e[vi]||(e[vi]=function(t){return e.handleEvent(t)}),e[vi])}function yi(){_r.call(this),this.i=new ni(this),this.S=this,this.J=null}function gi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Tr(t,e);else if(t instanceof Tr)t.target=t.target||e;else{var i=t;ti(t=new Tr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ki(o,r,!0,t)&&i}if(i=ki(o=t.g=e,r,!0,t)&&i,i=ki(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ki(o=t.g=n[a],r,!1,t)&&i}function ki(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&ri(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}wr(yi,_r),yi.prototype[Qr]=!0,yi.prototype.removeEventListener=function(e,t,n,r){li(this,e,t,n,r)},yi.prototype.N=function(){if(yi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yr(n[r]);delete t.g[e],t.h--}}this.J=null},yi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},yi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var bi=hr.JSON.stringify,wi=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function _i(){var e=Ni,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xi=function(){function e(){d(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=Ii.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ii=new wi((function(){return new Ei}),(function(e){return e.reset()})),Ei=function(){function e(){d(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ti(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ai(e){hr.setTimeout((function(){throw e}),0)}var Si,Ci=!1,Ni=new xi,Ri=function(){var e=hr.Promise.resolve(void 0);Si=function(){e.then(Oi)}},Oi=function(){for(var e;e=_i();){try{e.h.call(e.g)}catch(n){Ai(n)}var t=Ii;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ci=!1};function Di(e,t){yi.call(this),this.h=e||1,this.g=t||hr,this.j=kr(this.qb,this),this.l=Date.now()}function Pi(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Li(e,t,n){if("function"===typeof e)n&&(e=kr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=kr(e.handleEvent,e)}return 2147483647<Number(t)?-1:hr.setTimeout(e,t||0)}function Mi(e){e.g=Li((function(){e.g=null,e.i&&(e.i=!1,Mi(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}wr(Di,yi),(sr=Di.prototype).ga=!1,sr.T=null,sr.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gi(this,"tick"),this.ga&&(Pi(this),this.start()))}},sr.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sr.N=function(){Di.$.N.call(this),Pi(this),delete this.g};var Fi=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Mi(this)}},{key:"N",value:function(){ur(b(n.prototype),"N",this).call(this),this.g&&(hr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(_r);function Ui(e){_r.call(this),this.h=e,this.g={}}wr(Ui,_r);var ji=[];function Bi(e,t,n,r){Array.isArray(n)||(n&&(ji[0]=n.toString()),n=ji);for(var i=0;i<n.length;i++){var a=ui(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function zi(e){Zr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fi(e)}),e),e.g={}}function Vi(){this.g=!0}function qi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return bi(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ui.prototype.N=function(){Ui.$.N.call(this),zi(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vi.prototype.Ea=function(){this.g=!1},Vi.prototype.info=function(){};var Ki={},Hi=null;function Wi(){return Hi=Hi||new yi}function Gi(e){Tr.call(this,Ki.Ta,e)}function Qi(e){var t=Wi();gi(t,new Gi(t))}function Ji(e,t){Tr.call(this,Ki.STAT_EVENT,e),this.stat=t}function Xi(e){var t=Wi();gi(t,new Ji(t,e))}function Yi(e,t){Tr.call(this,Ki.Ua,e),this.size=t}function Zi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return hr.setTimeout((function(){e()}),t)}Ki.Ta="serverreachability",wr(Gi,Tr),Ki.STAT_EVENT="statevent",wr(Ji,Tr),Ki.Ua="timingevent",wr(Yi,Tr);var $i={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ea={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ta(){}function na(e){return e.h||(e.h=e.i())}function ra(){}ta.prototype.h=null;var ia,aa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function oa(){Tr.call(this,"d")}function ua(){Tr.call(this,"c")}function sa(){}function ca(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ui(this),this.P=fa,e=Fr?125:void 0,this.V=new Di(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new la}function la(){this.i=null,this.g="",this.h=!1}wr(oa,Tr),wr(ua,Tr),wr(sa,ta),sa.prototype.g=function(){return new XMLHttpRequest},sa.prototype.i=function(){return{}},ia=new sa;var fa=45e3,ha={},da={};function pa(e,t,n){e.L=1,e.v=Da(Sa(t)),e.s=n,e.S=!0,va(e,null)}function va(e,t){e.G=Date.now(),ka(e),e.A=Sa(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Wa(n.i,"t",r),e.C=0,n=e.l.J,e.h=new la,e.g=Qo(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Fi(kr(e.Pa,e,e.g),e.O)),Bi(e.U,e.g,"readystatechange",e.nb),t=e.I?$r(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Qi(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function ma(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ya(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ga(e,n))==da){4==t&&(e.o=4,Xi(14),i=!1),qi(e.j,e.m,null,"[Incomplete Response]");break}if(r==ha){e.o=4,Xi(15),qi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qi(e.j,e.m,r,null),Ia(e,r)}ma(e)&&r!=da&&r!=ha&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bo(t),t.M=!0,Xi(11))):(qi(e.j,e.m,n,"[Invalid Chunked Response]"),xa(e),_a(e))}function ga(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?da:(n=Number(t.substring(n,r)),isNaN(n)?ha:(r+=1)+n>t.length?da:(t=t.slice(r,r+n),e.C=r+n,t))}function ka(e){e.Y=Date.now()+e.P,ba(e,e.P)}function ba(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Zi(kr(e.lb,e),t)}function wa(e){e.B&&(hr.clearTimeout(e.B),e.B=null)}function _a(e){0==e.l.H||e.J||qo(e.l,e)}function xa(e){wa(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Pi(e.V),zi(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ia(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||$a(n.i,e)))if(!e.K&&$a(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Vo(n),Oo(n)}jo(n),Xi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Zi(kr(n.ib,n),6e3));if(1>=Za(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Ho(n,11)}else if((e.K||n.g==e)&&Vo(n),!Sr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(eo(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Oa(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Go(r,r.J?r.pa:null,r.Y),d.K){to(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(wa(p),ka(p)),r.g=d}else Uo(r);0<n.j.length&&Po(n)}else"stop"!=a[0]&&"close"!=a[0]||Ho(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ho(n,7):Ro(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Qi()}catch(a){}}function Ea(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(dr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(dr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(dr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(sr=ca.prototype).setTimeout=function(e){this.P=e},sr.nb=function(e){e=e.target;var t=this.M;t&&3==Eo(e)?t.l():this.Pa(e)},sr.Pa=function(e){try{if(e==this.g)e:{var t=Eo(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Fr||this.g&&(this.h.h||this.g.ja()||To(this.g)))){this.J||4!=t||7==n||Qi(),wa(this);var r=this.g.da();this.ca=r;t:if(ma(this)){var i=To(this.g);e="";var a=i.length,o=4==Eo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){xa(this),_a(this);var u="";break t}this.h.i=new hr.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sr(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Xi(12),xa(this),_a(this);break e}qi(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,r)}this.S?(ya(this,t,u),Fr&&this.i&&3==t&&(Bi(this.U,this.V,"tick",this.mb),this.V.start())):(qi(this.j,this.m,u,null),Ia(this,u)),4==t&&xa(this),this.i&&!this.J&&(4==t?qo(this.l,this):(this.i=!1,ka(this)))}else(function(e){var t={};e=(e.g&&2<=Eo(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Sr(e[n])){var r=Ti(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Xi(12)):(this.o=0,Xi(13)),xa(this),_a(this)}}}catch(t){}},sr.mb=function(){if(this.g){var e=Eo(this.g),t=this.g.ja();this.C<t.length&&(wa(this),ya(this,e,t),this.i&&4!=e&&ka(this))}},sr.cancel=function(){this.J=!0,xa(this)},sr.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Qi(),Xi(17)),xa(this),this.o=2,_a(this)):ba(this,this.Y-e)};var Ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Aa){this.h=e.h,Ca(this,e.j),this.s=e.s,this.g=e.g,Na(this,e.m),this.l=e.l;var t=e.i,n=new Va;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ra(this,n),this.o=e.o}else e&&(t=String(e).match(Ta))?(this.h=!1,Ca(this,t[1]||"",!0),this.s=Pa(t[2]||""),this.g=Pa(t[3]||"",!0),Na(this,t[4]),this.l=Pa(t[5]||"",!0),Ra(this,t[6]||"",!0),this.o=Pa(t[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}function Sa(e){return new Aa(e)}function Ca(e,t,n){e.j=n?Pa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Na(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ra(e,t,n){t instanceof Va?(e.i=t,function(e,t){t&&!e.j&&(qa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ka(this,t),Wa(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=La(t,Ba)),e.i=new Va(t,e.h))}function Oa(e,t,n){e.i.set(t,n)}function Da(e){return Oa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Pa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function La(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ma),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ma(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Aa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(La(t,Fa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(La(t,Fa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(La(n,"/"==n.charAt(0)?ja:Ua,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",La(n,za)),e.join("")};var Fa=/[#\/\?@]/g,Ua=/[#\?:]/g,ja=/[#\?]/g,Ba=/[#\?@]/g,za=/#/g;function Va(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ka(e,t){qa(e),t=Ga(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ha(e,t){return qa(e),t=Ga(e,t),e.g.has(t)}function Wa(e,t,n){Ka(e,t),0<n.length&&(e.i=null,e.g.set(Ga(e,t),Ir(n)),e.h+=n.length)}function Ga(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sr=Va.prototype).add=function(e,t){qa(this),this.i=null,e=Ga(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sr.forEach=function(e,t){qa(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},sr.ta=function(){qa(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},sr.Z=function(e){qa(this);var t=[];if("string"===typeof e)Ha(this,e)&&(t=t.concat(this.g.get(Ga(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},sr.set=function(e,t){return qa(this),this.i=null,Ha(this,e=Ga(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sr.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},sr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Qa=y((function e(t,n){d(this,e),this.g=t,this.map=n}));function Ja(e){this.l=e||Xa,hr.PerformanceNavigationTiming?e=0<(e=hr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(hr.g&&hr.g.Ka&&hr.g.Ka()&&hr.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xa=10;function Ya(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Za(e){return e.h?1:e.g?e.g.size:0}function $a(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eo(e,t){e.g?e.g.add(t):e.h=t}function to(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function no(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=A(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Ir(e.i)}Ja.prototype.cancel=function(){if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=A(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var ro,io=function(){function e(){d(this,e)}return y(e,[{key:"stringify",value:function(e){return hr.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return hr.JSON.parse(e,void 0)}}]),e}();function ao(){this.g=new io}function oo(e,t,n){var r=n||"";try{Ea(e,(function(e,n){var i=e;pr(e)&&(i=bi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function uo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function so(e){this.l=e.fc||null,this.j=e.ob||!1}function co(e,t){yi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=lo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wr(so,ta),so.prototype.g=function(){return new co(this.l,this.j)},so.prototype.i=(ro={},function(){return ro}),wr(co,yi);var lo=0;function fo(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ho(e){e.readyState=4,e.l=null,e.j=null,e.A=null,po(e)}function po(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sr=co.prototype).open=function(e,t){if(this.readyState!=lo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,po(this)},sr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||hr).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},sr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ho(this)),this.readyState=lo},sr.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof hr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fo(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},sr.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ho(this):po(this),3==this.readyState&&fo(this)}},sr.Za=function(e){this.g&&(this.response=this.responseText=e,ho(this))},sr.Ya=function(e){this.g&&(this.response=e,ho(this))},sr.ka=function(){this.g&&ho(this)},sr.setRequestHeader=function(e,t){this.v.append(e,t)},sr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vo=hr.JSON.parse;function mo(e){yi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yo,this.L=this.M=!1}wr(mo,yi);var yo="",go=/^https?$/i,ko=["POST","PUT"];function bo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,wo(e),xo(e)}function wo(e){e.F||(e.F=!0,gi(e,"complete"),gi(e,"error"))}function _o(e){if(e.h&&"undefined"!=typeof fr&&(!e.C[1]||4!=Eo(e)||2!=e.da()))if(e.v&&4==Eo(e))Li(e.La,0,e);else if(gi(e,"readystatechange"),4==Eo(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Ta)[1]||null;!a&&hr.self&&hr.self.location&&(a=hr.self.location.protocol.slice(0,-1)),i=!go.test(a?a.toLowerCase():"")}t=i}if(t)gi(e,"complete"),gi(e,"success");else{e.m=6;try{var o=2<Eo(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",wo(e)}}finally{xo(e)}}}function xo(e,t){if(e.g){Io(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||gi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Io(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(hr.clearTimeout(e.A),e.A=null)}function Eo(e){return e.g?e.g.readyState:0}function To(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case yo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Du){return null}}function Ao(e){var t="";return Zr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function So(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ao(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Oa(e,t,n))}function Co(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function No(e){this.Ga=0,this.j=[],this.l=new Vi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Co("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Co("baseRetryDelayMs",5e3,e),this.hb=Co("retryDelaySeedMs",1e4,e),this.eb=Co("forwardChannelMaxRetries",2,e),this.xa=Co("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ja(e&&e.concurrentRequestLimit),this.Ja=new ao,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ro(e){if(Do(e),3==e.H){var t=e.W++,n=Sa(e.I);if(Oa(n,"SID",e.K),Oa(n,"RID",t),Oa(n,"TYPE","terminate"),Mo(e,n),(t=new ca(e,e.l,t)).L=2,t.v=Da(Sa(n)),n=!1,hr.navigator&&hr.navigator.sendBeacon)try{n=hr.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&hr.Image&&((new Image).src=t.v,n=!0),n||(t.g=Qo(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ka(t)}Wo(e)}function Oo(e){e.g&&(Bo(e),e.g.cancel(),e.g=null)}function Do(e){Oo(e),e.u&&(hr.clearTimeout(e.u),e.u=null),Vo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&hr.clearTimeout(e.m),e.m=null)}function Po(e){if(!Ya(e.i)&&!e.m){e.m=!0;var t=e.Na;Si||Ri(),Ci||(Si(),Ci=!0),Ni.add(t,e),e.C=0}}function Lo(e,t){var n;n=t?t.m:e.W++;var r=Sa(e.I);Oa(r,"SID",e.K),Oa(r,"RID",n),Oa(r,"AID",e.V),Mo(e,r),e.o&&e.s&&So(r,e.o,e.s),n=new ca(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Fo(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),eo(e.i,n),pa(n,r,t)}function Mo(e,t){e.na&&Zr(e.na,(function(e,n){Oa(t,n,e)})),e.h&&Ea({},(function(e,n){Oa(t,n,e)}))}function Fo(e,t,n){n=Math.min(e.j.length,n);var r=e.h?kr(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{oo(l,o,"req"+c+"_")}catch(Ys){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Uo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Si||Ri(),Ci||(Si(),Ci=!0),Ni.add(t,e),e.A=0}}function jo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Zi(kr(e.Ma,e),Ko(e,e.A)),e.A++,!0)}function Bo(e){null!=e.B&&(hr.clearTimeout(e.B),e.B=null)}function zo(e){e.g=new ca(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Sa(e.wa);Oa(t,"RID","rpc"),Oa(t,"SID",e.K),Oa(t,"AID",e.V),Oa(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Oa(t,"TO",e.qa),Oa(t,"TYPE","xmlhttp"),Mo(e,t),e.o&&e.s&&So(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Da(Sa(t)),n.s=null,n.S=!0,va(n,e)}function Vo(e){null!=e.v&&(hr.clearTimeout(e.v),e.v=null)}function qo(e,t){var n=null;if(e.g==t){Vo(e),Bo(e),e.g=null;var r=2}else{if(!$a(e.i,t))return;n=t.F,to(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;gi(r=Wi(),new Yi(r,n)),Po(e)}else Uo(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Za(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Zi(kr(e.Na,e,t),Ko(e,e.C)),e.C++,!0))}(e,t)||2==r&&jo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ho(e,5);break;case 4:Ho(e,10);break;case 3:Ho(e,6);break;default:Ho(e,2)}}function Ko(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ho(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=kr(e.pb,e);n||(n=new Aa("//www.google.com/images/cleardot.gif"),hr.location&&"http"==hr.location.protocol||Ca(n,"https"),Da(n)),function(e,t){var n=new Vi;if(hr.Image){var r=new Image;r.onload=br(uo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=br(uo,n,r,"TestLoadImage: error",!1,t),r.onabort=br(uo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=br(uo,n,r,"TestLoadImage: timeout",!1,t),hr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xi(2);e.H=0,e.h&&e.h.za(t),Wo(e),Do(e)}function Wo(e){if(e.H=0,e.ma=[],e.h){var t=no(e.i);0==t.length&&0==e.j.length||(Er(e.ma,t),Er(e.ma,e.j),e.i.i.length=0,Ir(e.j),e.j.length=0),e.h.ya()}}function Go(e,t,n){var r=n instanceof Aa?Sa(n):new Aa(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Na(r,r.m);else{var i=hr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Aa(null);r&&Ca(a,r),t&&(a.g=t),i&&Na(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Oa(r,n,t),Oa(r,"VER",e.ra),Mo(e,r),r}function Qo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new mo(new so({ob:!0})):new mo(e.va)).Oa(e.J),t}function Jo(){}function Xo(){if(Lr&&!(10<=Number(Hr)))throw Error("Environmental error: no available transport.")}function Yo(e,t){yi.call(this),this.g=new No(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Sr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new eu(this)}function Zo(e){oa.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $o(){ua.call(this),this.status=1}function eu(e){this.g=e}function tu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function ru(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(sr=mo.prototype).Oa=function(e){this.M=e},sr.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ia.g(),this.C=this.u?na(this.u):na(ia),this.g.onreadystatechange=kr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void bo(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=A(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=hr.FormData&&e instanceof hr.FormData,!(0<=xr(ko,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=A(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Io(this),0<this.B&&((this.L=function(e){return Lr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kr(this.ua,this)):this.A=Li(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){bo(this,u)}},sr.ua=function(){"undefined"!=typeof fr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},sr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gi(this,"complete"),gi(this,"abort"),xo(this))},sr.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xo(this,!0)),mo.$.N.call(this)},sr.La=function(){this.s||(this.G||this.v||this.l?_o(this):this.kb())},sr.kb=function(){_o(this)},sr.isActive=function(){return!!this.g},sr.da=function(){try{return 2<Eo(this)?this.g.status:-1}catch(ro){return-1}},sr.ja=function(){try{return this.g?this.g.responseText:""}catch(ro){return""}},sr.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vo(t)}},sr.Ia=function(){return this.m},sr.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(sr=No.prototype).ra=8,sr.H=1,sr.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new ca(this,this.l,e),n=this.s;if(this.U&&(n?ti(n=$r(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Fo(this,t,r),Oa(i=Sa(this.I),"RID",e),Oa(i,"CVER",22),this.F&&Oa(i,"X-HTTP-Session-Id",this.F),Mo(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Ao(n)))+"&"+r:this.o&&So(i,this.o,n)),eo(this.i,t),this.bb&&Oa(i,"TYPE","init"),this.P?(Oa(i,"$req",r),Oa(i,"SID","null"),t.aa=!0,pa(t,i,null)):pa(t,i,r),this.H=2}}else 3==this.H&&(e?Lo(this,e):0==this.j.length||Ya(this.i)||Lo(this))},sr.Ma=function(){if(this.u=null,zo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Zi(kr(this.jb,this),e)}},sr.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xi(10),Oo(this),zo(this))},sr.ib=function(){null!=this.v&&(this.v=null,Oo(this),jo(this),Xi(19))},sr.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Xi(2)):(this.l.info("Failed to ping google.com"),Xi(1))},sr.isActive=function(){return!!this.h&&this.h.isActive(this)},(sr=Jo.prototype).Ba=function(){},sr.Aa=function(){},sr.za=function(){},sr.ya=function(){},sr.isActive=function(){return!0},sr.Va=function(){},Xo.prototype.g=function(e,t){return new Yo(e,t)},wr(Yo,yi),Yo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Xi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Go(e,null,e.Y),Po(e)},Yo.prototype.close=function(){Ro(this.g)},Yo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=bi(e),e=n);t.j.push(new Qa(t.fb++,e)),3==t.H&&Po(t)},Yo.prototype.N=function(){this.g.h=null,delete this.j,Ro(this.g),delete this.g,Yo.$.N.call(this)},wr(Zo,oa),wr($o,ua),wr(eu,Jo),eu.prototype.Ba=function(){gi(this.g,"a")},eu.prototype.Aa=function(e){gi(this.g,new Zo(e))},eu.prototype.za=function(e){gi(this.g,new $o)},eu.prototype.ya=function(){gi(this.g,"b")},wr(tu,(function(){this.blockSize=-1})),tu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},tu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)nu(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){nu(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){nu(this,r),i=0;break}}this.h=i,this.i+=t},tu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var iu={};function au(e){return-128<=e&&128>e?function(e,t){var n=iu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new ru([0|e],0>e?-1:0)})):new ru([0|e],0>e?-1:0)}function ou(e){if(isNaN(e)||!isFinite(e))return su;if(0>e)return du(ou(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=uu;return new ru(t,0)}var uu=4294967296,su=au(0),cu=au(1),lu=au(16777216);function fu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function hu(e){return-1==e.h}function du(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ru(n,~e.h).add(cu)}function pu(e,t){return e.add(du(t))}function vu(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function mu(e,t){this.g=e,this.h=t}function yu(e,t){if(fu(t))throw Error("division by zero");if(fu(e))return new mu(su,su);if(hu(e))return t=yu(du(e),t),new mu(du(t.g),du(t.h));if(hu(t))return t=yu(e,du(t)),new mu(du(t.g),t.h);if(30<e.g.length){if(hu(e)||hu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=cu,r=t;0>=r.X(e);)n=gu(n),r=gu(r);var i=ku(n,1),a=ku(r,1);for(r=ku(r,2),n=ku(n,2);!fu(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=ku(r,1),n=ku(n,1)}return t=pu(e,i.R(t)),new mu(i,t)}for(i=su;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=ou(n)).R(t);hu(o)||0<o.X(e);)o=(a=ou(n-=r)).R(t);fu(a)&&(a=cu),i=i.add(a),e=pu(e,o)}return new mu(i,e)}function gu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ru(n,e.h)}function ku(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new ru(i,e.h)}(sr=ru.prototype).ea=function(){if(hu(this))return-du(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:uu+r)*t,t*=uu}return e},sr.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(fu(this))return"0";if(hu(this))return"-"+du(this).toString(e);for(var t=ou(Math.pow(e,6)),n=this,r="";;){var i=yu(n,t).g,a=((0<(n=pu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(fu(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},sr.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},sr.X=function(e){return hu(e=pu(this,e))?-1:fu(e)?0:1},sr.abs=function(){return hu(this)?du(this):this},sr.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new ru(n,-2147483648&n[n.length-1]?-1:0)},sr.R=function(e){if(fu(this)||fu(e))return su;if(hu(this))return hu(e)?du(this).R(du(e)):du(du(this).R(e));if(hu(e))return du(this.R(du(e)));if(0>this.X(lu)&&0>e.X(lu))return ou(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,vu(n,2*r+2*i),n[2*r+2*i+1]+=a*s,vu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,vu(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,vu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ru(n,0)},sr.gb=function(e){return yu(this,e).h},sr.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ru(n,this.h&e.h)},sr.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ru(n,this.h|e.h)},sr.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ru(n,this.h^e.h)},Xo.prototype.createWebChannel=Xo.prototype.g,Yo.prototype.send=Yo.prototype.u,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,ea.COMPLETE="complete",ra.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",yi.prototype.listen=yi.prototype.O,mo.prototype.listenOnce=mo.prototype.P,mo.prototype.getLastError=mo.prototype.Sa,mo.prototype.getLastErrorCode=mo.prototype.Ia,mo.prototype.getStatus=mo.prototype.da,mo.prototype.getResponseJson=mo.prototype.Wa,mo.prototype.getResponseText=mo.prototype.ja,mo.prototype.send=mo.prototype.ha,mo.prototype.setWithCredentials=mo.prototype.Oa,tu.prototype.digest=tu.prototype.l,tu.prototype.reset=tu.prototype.reset,tu.prototype.update=tu.prototype.j,ru.prototype.add=ru.prototype.add,ru.prototype.multiply=ru.prototype.R,ru.prototype.modulo=ru.prototype.gb,ru.prototype.compare=ru.prototype.X,ru.prototype.toNumber=ru.prototype.ea,ru.prototype.toString=ru.prototype.toString,ru.prototype.getBits=ru.prototype.D,ru.fromNumber=ou,ru.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return du(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ou(Math.pow(n,8)),i=su,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=ou(Math.pow(n,o)),i=i.R(o).add(ou(u))):i=(i=i.R(r)).add(ou(u))}return i};var bu=lr.createWebChannelTransport=function(){return new Xo},wu=lr.getStatEventTarget=function(){return Wi()},_u=lr.ErrorCode=$i,xu=lr.EventType=ea,Iu=lr.Event=Ki,Eu=lr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tu=lr.FetchXmlHttpFactory=so,Au=lr.WebChannel=ra,Su=lr.XhrIo=mo,Cu=lr.Md5=tu,Nu=lr.Integer=ru,Ru="@firebase/firestore",Ou=function(){function e(t){d(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ou.UNAUTHENTICATED=new Ou(null),Ou.GOOGLE_CREDENTIALS=new Ou("google-credentials-uid"),Ou.FIRST_PARTY=new Ou("first-party-uid"),Ou.MOCK_USER=new Ou("mock-user");var Du="10.1.0",Pu=new Vt("@firebase/firestore");function Lu(){return Pu.logLevel}function Mu(e){if(Pu.logLevel<=Lt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ju);Pu.debug.apply(Pu,["Firestore (".concat(Du,"): ").concat(e)].concat(h(i)))}}function Fu(e){if(Pu.logLevel<=Lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ju);Pu.error.apply(Pu,["Firestore (".concat(Du,"): ").concat(e)].concat(h(i)))}}function Uu(e){if(Pu.logLevel<=Lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ju);Pu.warn.apply(Pu,["Firestore (".concat(Du,"): ").concat(e)].concat(h(i)))}}function ju(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Bu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Du,") INTERNAL ASSERTION FAILED: ")+e;throw Fu(t),new Error(t)}function zu(e,t){e||Bu()}function Vu(e,t){return e}var qu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ku=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(yt),Hu=y((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Wu=y((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Gu=function(){function e(){d(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ou.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Qu=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ju=function(){function e(t){d(this,e),this.t=t,this.currentUser=Ou.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Hu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Hu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Mu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Mu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Mu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(zu("string"==typeof n.accessToken),new Wu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return zu(null===e||"string"==typeof e),new Ou(e)}}]),e}(),Xu=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ou.FIRST_PARTY,this.I=new Map}return y(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Yu=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new Xu(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ou.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Zu=y((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$u=function(){function e(t){d(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Mu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Mu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Mu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Mu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(zu("string"==typeof t.token),e.R=t.token,new Zu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function es(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ts=function(){function e(){d(this,e)}return y(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=es(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function ns(e,t){return e<t?-1:e>t?1:0}function rs(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function is(e){return e+"\0"}var as=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ku(qu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ku(qu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ku(qu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ku(qu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ns(this.nanoseconds,e.nanoseconds):ns(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),os=function(){function e(t){d(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new as(0,0))}},{key:"max",value:function(){return new e(new as(253402300799,999999999))}}]),e}(),us=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&Bu(),void 0===r?r=t.length-n:r>t.length-n&&Bu(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ss=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Ku(qu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(us),cs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ls=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return cs.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ku(qu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ku(qu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ku(qu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ku(qu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(us),fs=function(){function e(t){d(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ss.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ss.fromString(t))}},{key:"fromName",value:function(t){return new e(ss.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ss.emptyPath())}},{key:"comparator",value:function(e,t){return ss.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ss(t.slice()))}}]),e}(),hs=y((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ds(e){return e.fields.find((function(e){return 2===e.kind}))}function ps(e){return e.fields.filter((function(e){return 2!==e.kind}))}hs.UNKNOWN_ID=-1;var vs=y((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var ms=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,ks.min())}}]),e}();function ys(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=os.fromTimestamp(1e9===r?new as(n+1,0):new as(n,r));return new ks(i,fs.empty(),t)}function gs(e){return new ks(e.readTime,e.key,-1)}var ks=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(os.min(),fs.empty(),-1)}},{key:"max",value:function(){return new e(os.max(),fs.empty(),-1)}}]),e}();function bs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=fs.comparator(e.documentKey,t.documentKey))?n:ns(e.largestBatchId,t.largestBatchId)}var ws="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_s=function(){function e(){d(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function xs(e){return Is.apply(this,arguments)}function Is(){return(Is=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===qu.FAILED_PRECONDITION&&t.message===ws){e.next=2;break}throw t;case 2:Mu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Es=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Bu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=A(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Ts=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new Hu,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Cs(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=Ps(e.target.error);r.m.reject(new Cs(t,n))}}return y(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(Mu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Rs(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Cs(n,t)}}}]),e}(),As=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ft())&&Fu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"N",value:function(){var e=Ze(Xe().mark((function e(t){var n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Mu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Cs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ku(qu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ku(qu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Cs(t,n))},i.onupgradeneeded=function(e){Mu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){Mu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Xe().mark((function e(){var n,u,s,l;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Ts.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Es.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Mu("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Mu("SimpleDb","Removing database:",e),Os(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!mt())return!1;if(e.C())return!0;var t=ft(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/sesa-x-wdcc-hackathon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ss=function(){function e(t){d(this,e),this.q=t,this.K=!1,this.$=null}return y(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return Os(this.q.delete())}}]),e}(),Cs=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,qu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(Ku);function Ns(e){return"IndexedDbTransactionError"===e.name}var Rs=function(){function e(t){d(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Mu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Mu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Os(n)}},{key:"add",value:function(e){return Mu("SimpleDb","ADD",this.store.name,e,e),Os(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Os(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Mu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Mu("SimpleDb","DELETE",this.store.name,e),Os(this.store.delete(e))}},{key:"count",value:function(){return Mu("SimpleDb","COUNT",this.store.name),Os(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Es((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Es((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Mu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Es((function(n,r){t.onerror=function(e){var t=Ps(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Es((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ss(i),o=t(i.primaryKey,i.value,a);if(o instanceof Es){var u=o.catch((function(e){return a.done(),Es.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Es.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Os(e){return new Es((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ps(e.target.error);n(t)}}))}var Ds=!1;function Ps(e){var t=As.D(ft());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ku("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ds||(Ds=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ls=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return y(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;Mu("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Mu,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ns(e.t4)){e.next=17;break}Mu("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,xs(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ms=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return y(e,[{key:"ne",value:function(){var e=Ze(Xe().mark((function e(){var t,n=this,r=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Es.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Mu("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return Mu("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=gs(t);bs(r,n)>0&&(n=r)})),new ks(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Fs=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function Us(e){return null==e}function js(e){return 0===e&&1/e==-1/0}function Bs(e){return"number"==typeof e&&Number.isInteger(e)&&!js(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function zs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=qs(t)),t=Vs(e.get(n),t);return qs(t)}function Vs(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function qs(e){return e+"\x01\x01"}function Ks(e){var t=e.length;if(zu(t>=2),2===t)return zu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ss.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Bu(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Bu()}a=o+2}return new ss(r)}Fs.ae=-1;var Hs=["userId","batchId"];function Ws(e,t){return[e,zs(t)]}function Gs(e,t,n){return[e,zs(t),n]}var Qs={},Js=["prefixPath","collectionGroup","readTime","documentId"],Xs=["prefixPath","collectionGroup","documentId"],Ys=["collectionGroup","readTime","prefixPath","documentId"],Zs=["canonicalId","targetId"],$s=["targetId","path"],ec=["path","targetId"],tc=["collectionId","parent"],nc=["indexId","uid"],rc=["uid","sequenceNumber"],ic=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ac=["indexId","uid","orderedDocumentKey"],oc=["userId","collectionPath","documentId"],uc=["userId","collectionPath","largestBatchId"],sc=["userId","collectionGroup","largestBatchId"],cc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),lc=[].concat(h(cc),["documentOverlays"]),fc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hc=fc,dc=[].concat(hc,["indexConfiguration","indexState","indexEntries"]),pc=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return y(n)}(_s);function vc(e,t){var n=Vu(e);return As.O(n.ue,t)}function mc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var kc=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||wc.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,wc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new bc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new bc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new bc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new bc(this.root,e,this.comparator,!0)}}]),e}(),bc=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),wc=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Bu();if(this.right.isRed())throw Bu();var e=this.left.check();if(e!==this.right.check())throw Bu();return e+(this.isRed()?0:1)}}]),e}();wc.EMPTY=null,wc.RED=!0,wc.BLACK=!1,wc.EMPTY=new(function(){function e(){d(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw Bu()}},{key:"value",get:function(){throw Bu()}},{key:"color",get:function(){throw Bu()}},{key:"left",get:function(){throw Bu()}},{key:"right",get:function(){throw Bu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new wc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var _c=function(){function e(t){d(this,e),this.comparator=t,this.data=new kc(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new xc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new xc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),xc=function(){function e(t){d(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ic(e){return e.hasNext()?e.getNext():void 0}var Ec=function(){function e(t){d(this,e),this.fields=t,t.sort(ls.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new _c(ls.comparator),i=A(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=A(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=A(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return rs(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Tc=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return y(n)}(E(Error));var Ac=function(e){function t(e){d(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ns(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Tc("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ac.EMPTY_BYTE_STRING=new Ac("");var Sc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cc(e){if(zu(!!e),"string"==typeof e){var t=0,n=Sc.exec(e);if(zu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Nc(e.seconds),nanos:Nc(e.nanos)}}function Nc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rc(e){return"string"==typeof e?Ac.fromBase64String(e):Ac.fromUint8Array(e)}function Oc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dc(e){var t=e.mapValue.fields.__previous_value__;return Oc(t)?Dc(t):t}function Pc(e){var t=Cc(e.mapValue.fields.__local_write_time__.timestampValue);return new as(t.seconds,t.nanos)}var Lc=y((function e(t,n,r,i,a,o,u,s,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),Mc=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Uc={nullValue:"NULL_VALUE"};function jc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oc(e)?4:$c(e)?9007199254740991:10:Bu()}function Bc(e,t){if(e===t)return!0;var n=jc(e);if(n!==jc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pc(e).isEqual(Pc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Cc(e.timestampValue),r=Cc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rc(e.bytesValue).isEqual(Rc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nc(e.geoPointValue.latitude)===Nc(t.geoPointValue.latitude)&&Nc(e.geoPointValue.longitude)===Nc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nc(e.integerValue)===Nc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Nc(e.doubleValue),r=Nc(t.doubleValue);return n===r?js(n)===js(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rs(e.arrayValue.values||[],t.arrayValue.values||[],Bc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mc(n)!==mc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bc(n[i],r[i])))return!1;return!0}(e,t);default:return Bu()}}function zc(e,t){return void 0!==(e.values||[]).find((function(e){return Bc(e,t)}))}function Vc(e,t){if(e===t)return 0;var n=jc(e),r=jc(t);if(n!==r)return ns(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ns(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Nc(e.integerValue||e.doubleValue),r=Nc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qc(e.timestampValue,t.timestampValue);case 4:return qc(Pc(e),Pc(t));case 5:return ns(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rc(e),r=Rc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ns(n[i],r[i]);if(0!==a)return a}return ns(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ns(Nc(e.latitude),Nc(t.latitude));return 0!==n?n:ns(Nc(e.longitude),Nc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Vc(n[i],r[i]);if(a)return a}return ns(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Fc.mapValue&&t===Fc.mapValue)return 0;if(e===Fc.mapValue)return 1;if(t===Fc.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ns(r[o],a[o]);if(0!==u)return u;var s=Vc(n[r[o]],i[a[o]]);if(0!==s)return s}return ns(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Bu()}}function qc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ns(e,t);var n=Cc(e),r=Cc(t),i=ns(n.seconds,r.seconds);return 0!==i?i:ns(n.nanos,r.nanos)}function Kc(e){return Hc(e)}function Hc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Cc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Rc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return fs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=A(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Hc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=A(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Hc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Bu()}function Wc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gc(e){return!!e&&"integerValue"in e}function Qc(e){return!!e&&"arrayValue"in e}function Jc(e){return!!e&&"nullValue"in e}function Xc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yc(e){return!!e&&"mapValue"in e}function Zc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return yc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Zc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Zc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function $c(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function el(e){return"nullValue"in e?Uc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Wc(Mc.empty(),fs.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Bu()}function tl(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Wc(Mc.empty(),fs.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Fc:Bu()}function nl(e,t){var n=Vc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function rl(e,t){var n=Vc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var il=function(){function e(t){d(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Yc(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(t)}},{key:"setAll",value:function(e){var t=this,n=ls.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Zc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Bc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Yc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){yc(t,(function(t,n){return e[t]=n}));var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Zc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function al(e){var t=[];return yc(e.fields,(function(e,n){var r=new ls([e]);if(Yc(n)){var i=al(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=A(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ec(t)}var ol=function(){function e(t,n,r,i,a,o,u){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(os.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=il.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=il.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=os.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,os.min(),os.min(),os.min(),il.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,os.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,os.min(),os.min(),il.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,os.min(),os.min(),il.empty(),2)}}]),e}(),ul=y((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function sl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?fs.comparator(fs.fromName(o.referenceValue),n.key):Vc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Bc(e.position[n],t.position[n]))return!1;return!0}var ll=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function fl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var hl=y((function e(){d(this,e)})),dl=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vc(t,this.value)):null!==t&&jc(this.value)===jc(t)&&this.matchesComparison(Vc(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bu()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new xl(e,t,r):"array-contains"===t?new Al(e,r):"in"===t?new Sl(e,r):"not-in"===t?new Cl(e,r):"array-contains-any"===t?new Nl(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Il(e,n):new El(e,n)}}]),n}(hl),pl=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return y(n,[{key:"matches",value:function(e){return vl(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=A(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(hl);function vl(e){return"and"===e.op}function ml(e){return"or"===e.op}function yl(e){return gl(e)&&vl(e)}function gl(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof pl)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function kl(e){if(e instanceof dl)return e.field.canonicalString()+e.op.toString()+Kc(e.value);if(yl(e))return e.filters.map((function(e){return kl(e)})).join(",");var t=e.filters.map((function(e){return kl(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function bl(e,t){return e instanceof dl?function(e,t){return t instanceof dl&&e.op===t.op&&e.field.isEqual(t.field)&&Bc(e.value,t.value)}(e,t):e instanceof pl?function(e,t){return t instanceof pl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&bl(n,t.filters[r])}),!0)}(e,t):void Bu()}function wl(e,t){var n=e.filters.concat(t);return pl.create(n,e.op)}function _l(e){return e instanceof dl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Kc(e.value))}(e):e instanceof pl?function(e){return e.op.toString()+" {"+e.getFilters().map(_l).join(" ,")+"}"}(e):"Filter"}var xl=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=fs.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=fs.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(dl),Il=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Tl("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(dl),El=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Tl("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(dl);function Tl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return fs.fromName(e.referenceValue)}))}var Al=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Qc(t)&&zc(t.arrayValue,this.value)}}]),n}(dl),Sl=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zc(this.value.arrayValue,t)}}]),n}(dl),Cl=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zc(this.value.arrayValue,t)}}]),n}(dl),Nl=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Qc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zc(t.value.arrayValue,e)}))}}]),n}(dl),Rl=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function Ol(e){return new Rl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Dl(e){var t=Vu(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return kl(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Us(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Kc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Kc(e)})).join(",")),t.he=n}return t.he}function Pl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!fl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!bl(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cl(e.startAt,t.startAt)&&cl(e.endAt,t.endAt)}function Ll(e){return fs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ml(e,t){return e.filters.filter((function(e){return e instanceof dl&&e.field.isEqual(t)}))}function Fl(e,t,n){var r,i=Uc,a=!0,o=A(Ml(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Uc,c=!0;switch(u.op){case"<":case"<=":s=el(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Uc}nl({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];nl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Ul(e,t,n){var r,i=Fc,a=!0,o=A(Ml(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Fc,c=!0;switch(u.op){case">=":case">":s=tl(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Fc}rl({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];rl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var jl=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function Bl(e,t,n,r,i,a,o,u){return new jl(e,t,n,r,i,a,o,u)}function zl(e){return new jl(e)}function Vl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ql(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Kl(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Hl(e){return null!==e.collectionGroup}function Wl(e){var t=Vu(e);if(null===t.Pe){t.Pe=[];var n=Kl(t),r=ql(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new ll(n)),t.Pe.push(new ll(ls.keyField(),"asc"));else{var i,a=!1,o=A(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new ll(ls.keyField(),s))}}}return t.Pe}function Gl(e){var t=Vu(e);if(!t.Ie)if("F"===t.limitType)t.Ie=Ol(t.path,t.collectionGroup,Wl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=A(Wl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ll(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ul(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ul(t.startAt.position,t.startAt.inclusive):null;t.Ie=Ol(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.Ie}function Ql(e,t){t.getFirstInequalityField(),Kl(e);var n=e.filters.concat([t]);return new jl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jl(e,t,n){return new jl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xl(e,t){return Pl(Gl(e),Gl(t))&&e.limitType===t.limitType}function Yl(e){return"".concat(Dl(Gl(e)),"|lt:").concat(e.limitType)}function Zl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return _l(e)})).join(", "),"]")),Us(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Kc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Kc(e)})).join(",")),"Target(".concat(t,")")}(Gl(e)),"; limitType=").concat(e.limitType,")")}function $l(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):fs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=A(Wl(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=A(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=sl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wl(e),t))&&!(e.endAt&&!function(e,t,n){var r=sl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wl(e),t))}(e,t)}function ef(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tf(e){return function(t,n){var r,i=!1,a=A(Wl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=nf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function nf(e,t,n){var r=e.field.isKeyField()?fs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vc(r,i):Bu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bu()}}var rf=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){yc(this.inner,(function(t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return gc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),af=new kc(fs.comparator);function of(){return af}var uf=new kc(fs.comparator);function sf(){for(var e=uf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function cf(e){var t=uf;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function lf(){return hf()}function ff(){return hf()}function hf(){return new rf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var df=new kc(fs.comparator),pf=new _c(fs.comparator);function vf(){for(var e=pf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var mf=new _c(ns);function yf(){return mf}function gf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:js(t)?"-0":t}}function kf(e){return{integerValue:""+e}}function bf(e,t){return Bs(t)?kf(t):gf(e,t)}var wf=y((function e(){d(this,e),this._=void 0}));function _f(e,t,n){return e instanceof Ef?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Oc(t)&&(t=Dc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tf?Af(e,t):e instanceof Sf?Cf(e,t):function(e,t){var n=If(e,t),r=Rf(n)+Rf(e.Te);return Gc(n)&&Gc(e.Te)?kf(r):gf(e.serializer,r)}(e,t)}function xf(e,t,n){return e instanceof Tf?Af(e,t):e instanceof Sf?Cf(e,t):n}function If(e,t){return e instanceof Nf?function(e){return Gc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Ef=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(wf),Tf=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(wf);function Af(e,t){var n,r=Of(t),i=A(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Bc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Sf=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(wf);function Cf(e,t){var n,r=Of(t),i=A(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Bc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Nf=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return y(n)}(wf);function Rf(e){return Nc(e.integerValue||e.doubleValue)}function Of(e){return Qc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Df=y((function e(t,n){d(this,e),this.field=t,this.transform=n}));var Pf=y((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),Lf=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Mf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ff=y((function e(){d(this,e)}));function Uf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xf(e.key,Lf.none()):new qf(e.key,e.data,Lf.none());var n,r=e.data,i=il.empty(),a=new _c(ls.comparator),o=A(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Kf(e.key,i,new Ec(a.toArray()),Lf.none())}function jf(e,t,n){e instanceof qf?function(e,t,n){var r=e.value.clone(),i=Wf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kf?function(e,t,n){if(Mf(e.precondition,t)){var r=Wf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bf(e,t,n,r){return e instanceof qf?function(e,t,n,r){if(!Mf(e.precondition,t))return n;var i=e.value.clone(),a=Gf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Kf?function(e,t,n,r){if(!Mf(e.precondition,t))return n;var i=Gf(e.fieldTransforms,r,t),a=t.data;return a.setAll(Hf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Mf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zf(e,t){var n,r=null,i=A(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=If(a.transform,o||null);null!=u&&(null===r&&(r=il.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Vf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rs(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tf&&t instanceof Tf||e instanceof Sf&&t instanceof Sf?rs(e.elements,t.elements,Bc):e instanceof Nf&&t instanceof Nf?Bc(e.Te,t.Te):e instanceof Ef&&t instanceof Ef}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var qf=function(e){k(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ff),Kf=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ff);function Hf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Wf(e,t,n){var r=new Map;zu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,xf(o,u,n[i]))}return r}function Gf(e,t,n){var r,i=new Map,a=A(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,_f(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Qf,Jf,Xf=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ff),Yf=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ff),Zf=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&jf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=A(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Bf(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=A(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Bf(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=ff();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Uf(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(os.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),vf())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(function(e,t){return Vf(e,t)}))&&rs(this.baseMutations,e.baseMutations,(function(e,t){return Vf(e,t)}))}}]),e}(),$f=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){zu(t.mutations.length===r.length);for(var i=df,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),eh=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),th=y((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function nh(e){switch(e){default:return Bu();case qu.CANCELLED:case qu.UNKNOWN:case qu.DEADLINE_EXCEEDED:case qu.RESOURCE_EXHAUSTED:case qu.INTERNAL:case qu.UNAVAILABLE:case qu.UNAUTHENTICATED:return!1;case qu.INVALID_ARGUMENT:case qu.NOT_FOUND:case qu.ALREADY_EXISTS:case qu.PERMISSION_DENIED:case qu.FAILED_PRECONDITION:case qu.ABORTED:case qu.OUT_OF_RANGE:case qu.UNIMPLEMENTED:case qu.DATA_LOSS:return!0}}function rh(e){if(void 0===e)return Fu("GRPC error has no .code"),qu.UNKNOWN;switch(e){case Qf.OK:return qu.OK;case Qf.CANCELLED:return qu.CANCELLED;case Qf.UNKNOWN:return qu.UNKNOWN;case Qf.DEADLINE_EXCEEDED:return qu.DEADLINE_EXCEEDED;case Qf.RESOURCE_EXHAUSTED:return qu.RESOURCE_EXHAUSTED;case Qf.INTERNAL:return qu.INTERNAL;case Qf.UNAVAILABLE:return qu.UNAVAILABLE;case Qf.UNAUTHENTICATED:return qu.UNAUTHENTICATED;case Qf.INVALID_ARGUMENT:return qu.INVALID_ARGUMENT;case Qf.NOT_FOUND:return qu.NOT_FOUND;case Qf.ALREADY_EXISTS:return qu.ALREADY_EXISTS;case Qf.PERMISSION_DENIED:return qu.PERMISSION_DENIED;case Qf.FAILED_PRECONDITION:return qu.FAILED_PRECONDITION;case Qf.ABORTED:return qu.ABORTED;case Qf.OUT_OF_RANGE:return qu.OUT_OF_RANGE;case Qf.UNIMPLEMENTED:return qu.UNIMPLEMENTED;case Qf.DATA_LOSS:return qu.DATA_LOSS;default:return Bu()}}(Jf=Qf||(Qf={}))[Jf.OK=0]="OK",Jf[Jf.CANCELLED=1]="CANCELLED",Jf[Jf.UNKNOWN=2]="UNKNOWN",Jf[Jf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jf[Jf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jf[Jf.NOT_FOUND=5]="NOT_FOUND",Jf[Jf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jf[Jf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jf[Jf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jf[Jf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jf[Jf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jf[Jf.ABORTED=10]="ABORTED",Jf[Jf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jf[Jf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jf[Jf.INTERNAL=13]="INTERNAL",Jf[Jf.UNAVAILABLE=14]="UNAVAILABLE",Jf[Jf.DATA_LOSS=15]="DATA_LOSS";var ih=function(){function e(){d(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return y(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return ah}},{key:"getOrCreateInstance",value:function(){return null===ah&&(ah=new e),ah}}]),e}(),ah=null;function oh(){return new TextEncoder}var uh=new Nu([4294967295,4294967295],0);function sh(e){var t=oh().encode(e),n=new Cu;return n.update(t),new Uint8Array(n.digest())}function ch(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Nu([n,r],0),new Nu([i,a],0)]}var lh=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fh("Invalid padding: ".concat(n));if(r<0)throw new fh("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new fh("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new fh("Invalid padding when bitmap length is 0: ".concat(n));this.de=8*t.length-n,this.Ae=Nu.fromNumber(this.de)}return y(e,[{key:"Re",value:function(e,t,n){var r=e.add(t.multiply(Nu.fromNumber(n)));return 1===r.compare(uh)&&(r=new Nu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}},{key:"Ve",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.de)return!1;for(var t=l(ch(sh(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);if(!this.Ve(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.de)for(var t=l(ch(sh(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);this.me(a)}}},{key:"me",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),fh=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return y(n)}(E(Error)),hh=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,dh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(os.min(),i,new kc(ns),of(),vf())}}]),e}(),dh=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,vf(),vf(),vf())}}]),e}(),ph=y((function e(t,n,r,i){d(this,e),this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i})),vh=y((function e(t,n){d(this,e),this.targetId=t,this.pe=n})),mh=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ac.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),yh=function(){function e(){d(this,e),this.ye=0,this.we=bh(),this.Se=Ac.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}return y(e,[{key:"current",get:function(){return this.be}},{key:"resumeToken",get:function(){return this.Se}},{key:"ve",get:function(){return 0!==this.ye}},{key:"Ce",get:function(){return this.De}},{key:"Fe",value:function(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}},{key:"Me",value:function(){var e=vf(),t=vf(),n=vf();return this.we.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bu()}})),new dh(this.Se,this.be,e,t,n)}},{key:"xe",value:function(){this.De=!1,this.we=bh()}},{key:"Oe",value:function(e,t){this.De=!0,this.we=this.we.insert(e,t)}},{key:"Ne",value:function(e){this.De=!0,this.we=this.we.remove(e)}},{key:"Be",value:function(){this.ye+=1}},{key:"Le",value:function(){this.ye-=1}},{key:"ke",value:function(){this.De=!0,this.be=!0}}]),e}(),gh=function(){function e(t){d(this,e),this.qe=t,this.Qe=new Map,this.Ke=of(),this.$e=kh(),this.Ue=new kc(ns)}return y(e,[{key:"We",value:function(e){var t,n=A(e.fe);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.ge&&e.ge.isFoundDocument()?this.Ge(r,e.ge):this.ze(r,e.key,e.ge)}}catch(u){n.e(u)}finally{n.f()}var i,a=A(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ze(o,e.key,e.ge)}}catch(u){a.e(u)}finally{a.f()}}},{key:"je",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.He(n);switch(e.state){case 0:t.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||t.removeTarget(n);break;case 3:t.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:t.Je(n)&&(t.Ye(n),r.Fe(e.resumeToken));break;default:Bu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach((function(e,r){n.Je(r)&&t(r)}))}},{key:"Ze",value:function(e){var t,n,r=e.targetId,i=e.pe.count,a=this.Xe(r);if(a){var o=a.target;if(Ll(o))if(0===i){var u=new fs(o.path);this.ze(r,u,ol.newNoDocument(u,os.min()))}else zu(1===i);else{var s=this.et(r);if(s!==i){var c=this.tt(e,s);if(0!==c.status){this.Ye(r);var l=2===c.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,l)}null===(t=ih.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,a,o,u,s,c,l={localCacheCount:n,existenceFilterCount:r.count},f=r.unchangedNames;return f&&(l.bloomFilter={applied:0===e,hashCount:null!==(i=null==f?void 0:f.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(u=null===(o=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==u?u:0,padding:null!==(c=null===(s=null==f?void 0:f.bits)||void 0===s?void 0:s.padding)&&void 0!==c?c:0},t&&(l.bloomFilter.mightContain=t)),l}(c.status,null!==(n=c.nt)&&void 0!==n?n:null,s,e.pe))}}}}},{key:"tt",value:function(e,t){var n=this,r=e.pe,i=r.unchangedNames,a=r.count;if(!i||!i.bits)return{status:1};var o,u,s=i.bits,c=s.bitmap,l=void 0===c?"":c,f=s.padding,h=void 0===f?0:f,d=i.hashCount,p=void 0===d?0:d;try{o=Rc(l).toUint8Array()}catch(e){if(e instanceof Tc)return Uu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{u=new lh(o,h,p)}catch(e){return Uu(e instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}var v=function(e){var t=n.qe.rt();return u.mightContain("projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e))};return 0===u.de?{status:1}:{status:a===t-this.it(e.targetId,v)?0:2,nt:v}}},{key:"it",value:function(e,t){var n=this,r=this.qe.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){t(r.path.canonicalString())||(n.ze(e,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.Qe.forEach((function(r,i){var a=t.Xe(i);if(a){if(r.current&&Ll(a.target)){var o=new fs(a.target.path);null!==t.Ke.get(o)||t.ot(i,o)||t.ze(i,o,ol.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Me()),r.xe())}}));var r=vf();this.$e.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xe(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ke.forEach((function(t,n){return n.setReadTime(e)}));var i=new hh(e,n,this.Ue,this.Ke,r);return this.Ke=of(),this.$e=kh(),this.Ue=new kc(ns),i}},{key:"Ge",value:function(e,t){if(this.Je(e)){var n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}}},{key:"ze",value:function(e,t,n){if(this.Je(e)){var r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qe.delete(e)}},{key:"et",value:function(e){var t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Be",value:function(e){this.He(e).Be()}},{key:"He",value:function(e){var t=this.Qe.get(e);return t||(t=new yh,this.Qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.$e.get(e);return t||(t=new _c(ns),this.$e=this.$e.insert(e,t)),t}},{key:"Je",value:function(e){var t=null!==this.Xe(e);return t||Mu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xe",value:function(e){var t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}},{key:"Ye",value:function(e){var t=this;this.Qe.set(e,new yh),this.qe.getRemoteKeysForTarget(e).forEach((function(n){t.ze(e,n,null)}))}},{key:"ot",value:function(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function kh(){return new kc(fs.comparator)}function bh(){return new kc(fs.comparator)}var wh={asc:"ASCENDING",desc:"DESCENDING"},_h={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xh={and:"AND",or:"OR"},Ih=y((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function Eh(e,t){return e.useProto3Json||Us(t)?t:{value:t}}function Th(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ah(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sh(e,t){return Th(e,t.toTimestamp())}function Ch(e){return zu(!!e),os.fromTimestamp(function(e){var t=Cc(e);return new as(t.seconds,t.nanos)}(e))}function Nh(e,t){return function(e){return new ss(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Rh(e){var t=ss.fromString(e);return zu(ed(t)),t}function Oh(e,t){return Nh(e.databaseId,t.path)}function Dh(e,t){var n=Rh(t);if(n.get(1)!==e.databaseId.projectId)throw new Ku(qu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ku(qu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new fs(Fh(n))}function Ph(e,t){return Nh(e.databaseId,t)}function Lh(e){var t=Rh(e);return 4===t.length?ss.emptyPath():Fh(t)}function Mh(e){return new ss(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fh(e){return zu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Uh(e,t,n){return{name:Oh(e,t),fields:n.value.mapValue.fields}}function jh(e,t,n){var r=Dh(e,t.name),i=Ch(t.updateTime),a=t.createTime?Ch(t.createTime):os.min(),o=new il({mapValue:{fields:t.fields}}),u=ol.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Bh(e,t){return"found"in t?function(e,t){zu(!!t.found),t.found.name,t.found.updateTime;var n=Dh(e,t.found.name),r=Ch(t.found.updateTime),i=t.found.createTime?Ch(t.found.createTime):os.min(),a=new il({mapValue:{fields:t.found.fields}});return ol.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){zu(!!t.missing),zu(!!t.readTime);var n=Dh(e,t.missing),r=Ch(t.readTime);return ol.newNoDocument(n,r)}(e,t):Bu()}function zh(e,t){var n;if(t instanceof qf)n={update:Uh(e,t.key,t.value)};else if(t instanceof Xf)n={delete:Oh(e,t.key)};else if(t instanceof Kf)n={update:Uh(e,t.key,t.data),updateMask:$h(t.fieldMask)};else{if(!(t instanceof Yf))return Bu();n={verify:Oh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ef)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nf)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw Bu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bu()}(e,t.precondition)),n}function Vh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Lf.updateTime(Ch(e.updateTime)):void 0!==e.exists?Lf.exists(e.exists):Lf.none()}(t.currentDocument):Lf.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)zu("REQUEST_TIME"===t.setToServerValue),n=new Ef;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Tf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Sf(i)}else"increment"in t?n=new Nf(e,t.increment):Bu();var a=ls.fromServerFormat(t.fieldPath);return new Df(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Dh(e,t.update.name),a=new il({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ec(t.map((function(e){return ls.fromServerFormat(e)})))}(t.updateMask);return new Kf(i,a,o,n,r)}return new qf(i,a,n,r)}if(t.delete){var u=Dh(e,t.delete);return new Xf(u,n)}if(t.verify){var s=Dh(e,t.verify);return new Yf(s,n)}return Bu()}function qh(e,t){return{documents:[Ph(e,t.path)]}}function Kh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ph(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ph(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Zh(pl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Xh(e.field),direction:Gh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Eh(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hh(e){var t=Lh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Wh(e);return t instanceof pl&&yl(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new ll(Yh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return Us(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ul(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ul(n,t)}(n.endAt)),Bl(t,i,u,o,s,"F",c,l)}function Wh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Yh(e.unaryFilter.field);return dl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Yh(e.unaryFilter.field);return dl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yh(e.unaryFilter.field);return dl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yh(e.unaryFilter.field);return dl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bu()}}(e):void 0!==e.fieldFilter?function(e){return dl.create(Yh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pl.create(e.compositeFilter.filters.map((function(e){return Wh(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Bu()}}(e.compositeFilter.op))}(e):Bu()}function Gh(e){return wh[e]}function Qh(e){return _h[e]}function Jh(e){return xh[e]}function Xh(e){return{fieldPath:e.canonicalString()}}function Yh(e){return ls.fromServerFormat(e.fieldPath)}function Zh(e){return e instanceof dl?function(e){if("=="===e.op){if(Xc(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NAN"}};if(Jc(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xc(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NOT_NAN"}};if(Jc(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xh(e.field),op:Qh(e.op),value:e.value}}}(e):e instanceof pl?function(e){var t=e.getFilters().map((function(e){return Zh(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Jh(e.op),filters:t}}}(e):Bu()}function $h(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ed(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var td=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:os.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:os.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ac.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),nd=y((function e(t){d(this,e),this.ct=t}));function rd(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:id(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Oh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Th(e,t.version.toTimestamp()),createTime:Th(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ad(t.version)};else{if(!t.isUnknownDocument())return Bu();r.unknownDocument={path:n.path.toArray(),version:ad(t.version)}}return r}function id(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ad(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function od(e){var t=new as(e.seconds,e.nanoseconds);return os.fromTimestamp(t)}function ud(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Vh(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Vh(e.ct,t)})),u=as.fromMillis(t.localWriteTimeMs);return new Zf(t.batchId,u,n,o)}function sd(e){var t,n=od(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?od(e.lastLimboFreeSnapshotVersion):os.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return zu(1===e.documents.length),Gl(zl(Lh(e.documents[0])))}(e.query):function(e){return Gl(Hh(e))}(e.query),new td(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Ac.fromBase64String(e.resumeToken))}function cd(e,t){var n,r=ad(t.snapshotVersion),i=ad(t.lastLimboFreeSnapshotVersion);n=Ll(t.target)?qh(e.ct,t.target):Kh(e.ct,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Dl(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function ld(e){var t=Hh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jl(t,t.limit,"L"):t}function fd(e,t){return new eh(t.largestBatchId,Vh(e.ct,t.overlayMutation))}function hd(e,t){var n=t.path.lastSegment();return[e,zs(t.path.popLast()),n]}function dd(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ad(r.readTime),documentKey:zs(r.documentKey.path),largestBatchId:r.largestBatchId}}var pd=function(){function e(){d(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return vd(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:od(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return vd(e).put(function(e){return{bundleId:e.id,createTime:ad(Ch(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return md(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:ld(e.bundledQuery),readTime:od(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return md(e).put(function(e){return{name:e.name,readTime:ad(Ch(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function vd(e){return vc(e,"bundles")}function md(e){return vc(e,"namedQueries")}var yd=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return gd(e).get(hd(this.userId,t)).next((function(e){return e?fd(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=lf();return Es.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new eh(t,a);i.push(r.ht(e,o))})),Es.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(zs(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(gd(e).J("collectionPathOverlayIndex",i))})),Es.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=lf(),a=zs(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return gd(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=fd(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=lf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gd(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=fd(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return gd(e).put(function(e,t,n){var r=l(hd(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:zh(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function gd(e){return vc(e,"documentOverlays")}var kd=function(){function e(){d(this,e)}return y(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Nc(e.integerValue));else if("doubleValue"in e){var n=Nc(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),js(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Rc(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?$c(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Bu()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),fs.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function bd(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function wd(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=bd(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}kd.bt=new kd;var _d=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.vt(n.value),n=t.next();this.Ct()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.vt(i);else if(i<2048)this.vt(960|i>>>6),this.vt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.vt(480|i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i);else{var a=r.codePointAt(0);this.vt(240|a>>>18),this.vt(128|63&a>>>12),this.vt(128|63&a>>>6),this.vt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Nt",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=wd(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=wd(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"vt",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"Ct",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),xd=function(){function e(t){d(this,e),this.Gt=t}return y(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),Id=function(){function e(t){d(this,e),this.Gt=t}return y(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),Ed=function(){function e(){d(this,e),this.Gt=new _d,this.zt=new xd(this.Gt),this.jt=new Id(this.Gt)}return y(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),Td=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Ad(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Sd(e.arrayValue,t.arrayValue))?n:0!==(n=Sd(e.directionalValue,t.directionalValue))?n:fs.comparator(e.documentKey,t.documentKey)}function Sd(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Cd=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=A(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xt=i:this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"en",value:function(e){zu(e.collectionGroup===this.collectionId);var t=ds(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=ps(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Xt){if(!r.has(this.Xt.field.canonicalString())){var o=n[i];if(!this.nn(this.Xt,o)||!this.rn(this.Yt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],u))return!1}return!0}},{key:"tn",value:function(e){var t,n=A(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Nd(e){var t,n;if(zu(e instanceof dl||e instanceof pl),e instanceof dl){if(e instanceof Sl){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return dl.create(e.field,"==",t)})))||[];return pl.create(r,"or")}return e}var i=e.filters.map((function(e){return Nd(e)}));return pl.create(i,e.op)}function Rd(e){if(0===e.getFilters().length)return[];var t=Ld(Nd(e));return zu(Pd(t)),Od(t)||Dd(t)?[t]:t.getFilters()}function Od(e){return e instanceof dl}function Dd(e){return e instanceof pl&&yl(e)}function Pd(e){return Od(e)||Dd(e)||function(e){if(e instanceof pl&&ml(e)){var t,n=A(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Od(r)&&!Dd(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Ld(e){if(zu(e instanceof dl||e instanceof pl),e instanceof dl)return e;if(1===e.filters.length)return Ld(e.filters[0]);var t=e.filters.map((function(e){return Ld(e)})),n=pl.create(t,e.op);return Pd(n=Ud(n))?n:(zu(n instanceof pl),zu(vl(n)),zu(n.filters.length>1),n.filters.reduce((function(e,t){return Md(e,t)})))}function Md(e,t){var n;return zu(e instanceof dl||e instanceof pl),zu(t instanceof dl||t instanceof pl),n=e instanceof dl?t instanceof dl?function(e,t){return pl.create([e,t],"and")}(e,t):Fd(e,t):t instanceof dl?Fd(t,e):function(e,t){if(zu(e.filters.length>0&&t.filters.length>0),vl(e)&&vl(t))return wl(e,t.getFilters());var n=ml(e)?e:t,r=ml(e)?t:e,i=n.filters.map((function(e){return Md(e,r)}));return pl.create(i,"or")}(e,t),Ud(n)}function Fd(e,t){if(vl(t))return wl(t,e.getFilters());var n=t.filters.map((function(t){return Md(e,t)}));return pl.create(n,"or")}function Ud(e){if(zu(e instanceof dl||e instanceof pl),e instanceof dl)return e;var t=e.getFilters();if(1===t.length)return Ud(t[0]);if(gl(e))return e;var n=t.map((function(e){return Ud(e)})),r=[];return n.forEach((function(t){t instanceof dl?r.push(t):t instanceof pl&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:pl.create(r,e.op)}var jd=function(){function e(){d(this,e),this.sn=new Bd}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),Es.resolve()}},{key:"getCollectionParents",value:function(e,t){return Es.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Es.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Es.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Es.resolve(null)}},{key:"getIndexType",value:function(e,t){return Es.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Es.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Es.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Es.resolve(ks.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Es.resolve(ks.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Es.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Es.resolve()}}]),e}(),Bd=function(){function e(){d(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _c(ss.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new _c(ss.comparator)).toArray()}}]),e}(),zd=new Uint8Array(0),Vd=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.on=new Bd,this._n=new rf((function(e){return Dl(e)}),(function(e,t){return Pl(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:zs(i)};return qd(e).put(a)}return Es.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[is(t),""],!1,!0);return qd(e).G(r).next((function(e){var r,i=A(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ks(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Hd(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Wd(e);return a.next((function(e){o.put(dd(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Hd(e),r=Wd(e),i=Kd(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Kd(e),i=!0,a=new Map;return Es.forEach(this.an(t),(function(t){return n.un(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=vf(),o=[];return Es.forEach(a,(function(i,a){Mu("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Dl(t)));var u=function(e,t){var n=ds(t);if(void 0===n)return null;var r,i=A(Ml(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=A(ps(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=A(Ml(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=A(ps(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Fl(e,o.fieldPath,e.startAt):Ul(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ul(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=A(ps(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ul(e,o.fieldPath,e.endAt):Fl(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ul(r,i)}(a,i),f=n.cn(i,a,c),h=n.cn(i,a,l),d=n.ln(i,a,s),p=n.hn(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return Es.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=fs.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Es.resolve(null)}))}},{key:"an",value:function(e){var t=this._n.get(e);return t||(t=0===e.filters.length?[e]:Rd(pl.create(e.filters,"and")).map((function(t){return Ol(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this._n.set(e,t),t)}},{key:"hn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Pn(t[d/c]):zd,f=u.In(e,s,n[d%c],r),p=u.Tn(e,s,i[d%c],a),v=o.map((function(t){return u.In(e,s,t,!0)}));l.push.apply(l,h(u.createRange(f,p,v)))},d=0;d<s;++d)f();return l}},{key:"In",value:function(e,t,n,r){var i=new Td(e,fs.empty(),t,n);return r?i:i.Jt()}},{key:"Tn",value:function(e,t,n,r){var i=new Td(e,fs.empty(),t,n);return r?i.Jt():i}},{key:"un",value:function(e,t){var n=new Cd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.an(t);return Es.forEach(i,(function(t){return n.un(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new _c(ls.comparator),r=!1,i=A(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=A(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=A(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"En",value:function(e,t){var n,r=new Ed,i=A(ps(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ht(a.kind);kd.bt.Pt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Wt()}},{key:"Pn",value:function(e){var t=new Ed;return kd.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"dn",value:function(e,t){var n=new Ed;return kd.bt.Pt(Wc(this.databaseId,t),n.Ht(function(e){var t=ps(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ed);var i,a=0,o=A(ps(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=A(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.An(t,s.fieldPath)&&Qc(c))r=this.Rn(r,s,c);else{var h=f.Ht(s.kind);kd.bt.Pt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.Vn(r)}},{key:"cn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"Vn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"Rn",value:function(e,t,n){var r,i=h(e),a=[],o=A(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=A(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Ed;f.seed(l.Wt()),kd.bt.Pt(s,f.Ht(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"An",value:function(e,t){return!!e.filters.find((function(e){return e instanceof dl&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Hd(e),i=Wd(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Es.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ms(t.sequenceNumber,new ks(od(t.readTime),new fs(Ks(t.documentKey)),t.largestBatchId)):ms.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new vs(ls.fromServerFormat(n),r)}));return new hs(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ns(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Hd(e),a=Wd(e);return this.mn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Es.forEach(t,(function(t){return a.put(dd(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Es.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Es.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Es.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?Es.resolve():n.pn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Kd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.dn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"wn",value:function(e,t,n,r){return Kd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.dn(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=Kd(e),i=new _c(Ad);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.dn(n,t)])},(function(e,r){i=i.add(new Td(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new _c(Ad),r=this.En(t,e);if(null==r)return n;var i=ds(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Qc(a)){var o,u=A(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Td(t.indexId,e.key,this.Pn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Td(t.indexId,e.key,zd,r));return n}},{key:"pn",value:function(e,t,n,r,i){var a=this;Mu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ic(a),s=Ic(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ic(o)):l?(i(u),u=Ic(a)):(u=Ic(a),s=Ic(o))}}(r,i,Ad,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.wn(e,t,n,r))})),Es.waitFor(o)}},{key:"mn",value:function(e){var t=1;return Wd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Ad(e,t)})).filter((function(e,t,n){return!t||0!==Ad(e,n[t-1])}));var r=[];r.push(e);var i,a=A(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Ad(o,e),s=Ad(o,t);if(0===u)r[0]=e.Jt();else if(u>0&&s<0)r.push(o),r.push(o.Jt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Sn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,zd,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,zd,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Sn",value:function(e,t){return Ad(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Gd)}},{key:"getMinOffset",value:function(e,t){var n=this;return Es.mapArray(this.an(t),(function(t){return n.un(e,t).next((function(e){return e||Bu()}))})).next(Gd)}}]),e}();function qd(e){return vc(e,"collectionParents")}function Kd(e){return vc(e,"indexEntries")}function Hd(e){return vc(e,"indexConfiguration")}function Wd(e){return vc(e,"indexState")}function Gd(e){zu(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;bs(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ks(t.readTime,t.documentKey,n)}var Qd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jd=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Xd(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){zu(1===u)})));var c,l=[],f=A(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Gs(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Es.waitFor(a).next((function(){return l}))}function Yd(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Bu();t=e.noDocument}return JSON.stringify(t).length}Jd.DEFAULT_COLLECTION_PERCENTILE=10,Jd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jd.DEFAULT=new Jd(41943040,Jd.DEFAULT_COLLECTION_PERCENTILE,Jd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jd.DISABLED=new Jd(-1,0,0);var Zd=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ep(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=tp(e),o=ep(e);return o.add({}).next((function(u){zu("number"==typeof u);var s,c=new Zf(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return zh(e.ct,t)})),i=n.mutations.map((function(t){return zh(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new _c((function(e,t){return ns(e.canonicalString(),t.canonicalString())})),d=A(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Gs(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Qs))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[u]=c.keys()})),Es.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ep(e).get(t).next((function(e){return e?(zu(e.userId===n.userId),ud(n.serializer,e)):null}))}},{key:"Dn",value:function(e,t){var n=this;return this.bn[t]?Es.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ep(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(zu(t.batchId>=r),a=ud(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ep(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ep(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return ud(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ws(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return tp(e).Z({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=Ks(c);if(s===n.userId&&t.path.isEqual(h))return ep(e).get(f).next((function(e){if(!e)throw Bu();zu(e.userId===n.userId),a.push(ud(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _c(ns),i=[];return t.forEach((function(t){var a=Ws(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=tp(e).Z({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=Ks(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),Es.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ws(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new _c(ns);return tp(e).Z({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=Ks(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.vn(e,u)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ep(e).get(t).next((function(e){if(null===e)throw Bu();zu(e.userId===n.userId),r.push(ud(n.serializer,e))})))})),Es.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Xd(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Es.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Es.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return tp(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ks(e[1]);i.push(a)}else r.done()})).next((function(){zu(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return $d(e,this.userId,t)}},{key:"Fn",value:function(e){var t=this;return np(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return zu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function $d(e,t,n){var r=Ws(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return tp(e).Z({range:a,Y:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function ep(e){return vc(e,"mutations")}function tp(e){return vc(e,"documentMutations")}function np(e){return vc(e,"mutationQueues")}var rp=function(){function e(t){d(this,e),this.Mn=t}return y(e,[{key:"next",value:function(){return this.Mn+=2,this.Mn}}],[{key:"xn",value:function(){return new e(0)}},{key:"On",value:function(){return new e(-1)}}]),e}(),ip=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Nn(e).next((function(n){var r=new rp(n.highestTargetId);return n.highestTargetId=r.next(),t.Bn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Nn(e).next((function(e){return os.fromTimestamp(new as(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Nn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Nn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Bn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ln(e,t).next((function(){return n.Nn(e).next((function(r){return r.targetCount+=1,n.kn(t,r),n.Bn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ln(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ap(e).delete(t.targetId)})).next((function(){return n.Nn(e)})).next((function(t){return zu(t.targetCount>0),t.targetCount-=1,n.Bn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ap(e).Z((function(o,u){var s=sd(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Es.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ap(e).Z((function(e,n){var r=sd(n);t(r)}))}},{key:"Nn",value:function(e){return op(e).get("targetGlobalKey").next((function(e){return zu(null!==e),e}))}},{key:"Bn",value:function(e,t){return op(e).put("targetGlobalKey",t)}},{key:"Ln",value:function(e,t){return ap(e).put(cd(this.serializer,t))}},{key:"kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Nn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Dl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ap(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=sd(n);Pl(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=up(e);return t.forEach((function(t){var o=zs(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Es.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=up(e);return Es.forEach(t,(function(t){var a=zs(t.path);return Es.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=up(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=up(e),i=vf();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Ks(e[1]),a=new fs(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=zs(t.path),r=IDBKeyRange.bound([n],[is(n)],!1,!0),i=0;return up(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ut",value:function(e,t){return ap(e).get(t).next((function(e){return e?sd(e):null}))}}]),e}();function ap(e){return vc(e,"targets")}function op(e){return vc(e,"targetGlobal")}function up(e){return vc(e,"targetDocuments")}function sp(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=ns(r,o);return 0===s?ns(i,u):s}var cp=function(){function e(t){d(this,e),this.qn=t,this.buffer=new _c(sp),this.Qn=0}return y(e,[{key:"Kn",value:function(){return++this.Qn}},{key:"$n",value:function(e){var t=[e,this.Kn()];if(this.buffer.size<this.qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();sp(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),lp=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Un=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Wn(6e4)}},{key:"stop",value:function(){this.Un&&(this.Un.cancel(),this.Un=null)}},{key:"started",get:function(){return null!==this.Un}},{key:"Wn",value:function(e){var t=this;Mu("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Un=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Un=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ns(e.t0)){e.next=12;break}Mu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,xs(e.t0);case 14:return e.next=16,t.Wn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),fp=function(){function e(t,n){d(this,e),this.Gn=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.Gn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Es.resolve(Fs.ae);var r=new cp(t);return this.Gn.forEachTarget(e,(function(e){return r.$n(e.sequenceNumber)})).next((function(){return n.Gn.jn(e,(function(e){return r.$n(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Gn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Gn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Mu("LruGarbageCollector","Garbage collection skipped; disabled"),Es.resolve(Qd)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Mu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Qd):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Gn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Mu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Lu()<=Lt.DEBUG&&Mu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Es.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function hp(e,t){return new fp(e,t)}var dp=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=hp(this,n)}return y(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"jn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return pp(e,n)}},{key:"removeReference",value:function(e,t,n){return pp(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return pp(e,t)}},{key:"Zn",value:function(e,t){return function(e,t){var n=!1;return np(e).X((function(r){return $d(e,r,t).next((function(e){return e&&(n=!0),Es.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Zn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,os.min()),up(e).delete(function(e){return[0,zs(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Es.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return pp(e,t)}},{key:"Yn",value:function(e,t){var n,r=up(e),i=Fs.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Fs.ae&&t(new fs(Ks(n)),i),i=s,n=u):i=Fs.ae})).next((function(){i!==Fs.ae&&t(new fs(Ks(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function pp(e,t){return up(e).put(function(e,t){return{targetId:0,path:zs(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var vp=function(){function e(){d(this,e),this.changes=new rf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ol.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Es.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),mp=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return bp(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return bp(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],id(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ol.newInvalidDocument(t);return bp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(wp(t))},(function(e,i){r=n.er(t,i)})).next((function(){return r}))}},{key:"tr",value:function(e,t){var n=this,r={size:0,document:ol.newInvalidDocument(t)};return bp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(wp(t))},(function(e,i){r={document:n.er(t,i),size:Yd(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=of();return this.nr(e,t,(function(e,t){var i=n.er(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r=of(),i=new kc(fs.comparator);return this.nr(e,t,(function(e,t){var a=n.er(e,t);r=r.insert(e,a),i=i.insert(e,Yd(t))})).next((function(){return{documents:r,ir:i}}))}},{key:"nr",value:function(e,t,n){if(t.isEmpty())return Es.resolve();var r=new _c(xp);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(wp(r.first()),wp(r.last())),a=r.getIterator(),o=a.getNext();return bp(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=fs.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&xp(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(wp(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),id(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bp(e).G(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=of(),o=A(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.er(fs.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&($l(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=of(),o=_p(t,n),u=_p(t,ks.max());return bp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.er(fs.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new gp(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return kp(e).get("remoteDocumentGlobalKey").next((function(e){return zu(!!e),e}))}},{key:"Xn",value:function(e,t){return kp(e).put("remoteDocumentGlobalKey",t)}},{key:"er",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=jh(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=fs.fromSegments(t.noDocument.path),i=od(t.noDocument.readTime);n=ol.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Bu();var a=fs.fromSegments(t.unknownDocument.path),o=od(t.unknownDocument.version);n=ol.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new as(e[0],e[1]);return os.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(os.min()))return n}return ol.newInvalidDocument(e)}}]),e}();function yp(e){return new mp(e)}var gp=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).sr=e,i.trackRemovals=r,i._r=new rf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new _c((function(e,t){return ns(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t._r.get(a);if(n.push(t.sr.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=rd(t.sr.serializer,o);i=i.add(a.path.popLast());var c=Yd(s);r+=c-u.size,n.push(t.sr.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=rd(t.sr.serializer,o.convertToNoDocument(os.min()));n.push(t.sr.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.sr.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.sr.updateMetadata(e,r)),Es.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.sr.tr(e,t).next((function(e){return n._r.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.sr.rr(e,t).next((function(e){var t=e.documents;return e.ir.forEach((function(e,r){n._r.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(vp);function kp(e){return vc(e,"remoteDocumentGlobal")}function bp(e){return vc(e,"remoteDocumentsV14")}function wp(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function _p(e,t){var n=t.documentKey.path.toArray();return[e,id(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function xp(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=ns(n[a],r[a]))return i;return(i=ns(n.length,r.length))||((i=ns(n[n.length-2],r[r.length-2]))||ns(n[n.length-1],r[r.length-1]))}var Ip=y((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ep=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Bf(r.mutation,e,Ec.empty(),as.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,vf()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vf(),i=lf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=sf();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=lf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,vf())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=of(),a=hf(),o=hf();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Kf)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Bf(o.mutation,t,o.mutation.getFieldMask(),as.now())):a.set(t.key,Ec.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ip(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=hf(),i=new kc((function(e,t){return e-t})),a=vf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=A(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ec.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||vf()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=ff();c.forEach((function(e){if(!a.has(e)){var n=Uf(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Es.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return fs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Es.resolve(lf()),u=-1,s=a;return o.next((function(t){return Es.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Es.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,vf())})).next((function(e){return{batchId:u,changes:cf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new fs(t)).next((function(e){var t=sf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=sf();return this.indexManager.getCollectionParents(e,i).next((function(o){return Es.forEach(o,(function(o){var u=function(e,t){return new jl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ol.newInvalidDocument(r)))}));var n=sf();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Bf(a.mutation,i,Ec.empty(),as.now()),$l(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Tp=function(){function e(t){d(this,e),this.serializer=t,this.ar=new Map,this.ur=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Es.resolve(this.ar.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ch(e.createTime)}}(t)),Es.resolve()}},{key:"getNamedQuery",value:function(e,t){return Es.resolve(this.ur.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:ld(e.bundledQuery),readTime:Ch(e.readTime)}}(t)),Es.resolve()}}]),e}(),Ap=function(){function e(){d(this,e),this.overlays=new kc(fs.comparator),this.cr=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return Es.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=lf();return Es.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),Es.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.cr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.cr.delete(n)),Es.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=lf(),i=t.length+1,a=new fs(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Es.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new kc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=lf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=lf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Es.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new eh(t,n));var a=this.cr.get(t);void 0===a&&(a=vf(),this.cr.set(t,a)),this.cr.set(t,a.add(n.key))}}]),e}(),Sp=function(){function e(){d(this,e),this.lr=new _c(Cp.hr),this.Pr=new _c(Cp.Ir)}return y(e,[{key:"isEmpty",value:function(){return this.lr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Cp(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}},{key:"Tr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Er(new Cp(e,t))}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ar",value:function(e){var t=this,n=new fs(new ss([])),r=new Cp(n,e),i=new Cp(n,e+1),a=[];return this.Pr.forEachInRange([r,i],(function(e){t.Er(e),a.push(e.key)})),a}},{key:"Rr",value:function(){var e=this;this.lr.forEach((function(t){return e.Er(t)}))}},{key:"Er",value:function(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}},{key:"Vr",value:function(e){var t=new fs(new ss([])),n=new Cp(t,e),r=new Cp(t,e+1),i=vf();return this.Pr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Cp(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Cp=function(){function e(t,n){d(this,e),this.key=t,this.mr=n}return y(e,null,[{key:"hr",value:function(e,t){return fs.comparator(e.key,t.key)||ns(e.mr,t.mr)}},{key:"Ir",value:function(e,t){return ns(e.mr,t.mr)||fs.comparator(e.key,t.key)}}]),e}(),Np=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new _c(Cp.hr)}return y(e,[{key:"checkEmpty",value:function(e){return Es.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Zf(i,t,n,r);this.mutationQueue.push(a);var o,u=A(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.pr=this.pr.add(new Cp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Es.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Es.resolve(this.yr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.wr(n),i=r<0?0:r;return Es.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Es.resolve(0===this.mutationQueue.length?-1:this.gr-1)}},{key:"getAllMutationBatches",value:function(e){return Es.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Cp(t,0),i=new Cp(t,Number.POSITIVE_INFINITY),a=[];return this.pr.forEachInRange([r,i],(function(e){var t=n.yr(e.mr);a.push(t)})),Es.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _c(ns);return t.forEach((function(e){var t=new Cp(e,0),i=new Cp(e,Number.POSITIVE_INFINITY);n.pr.forEachInRange([t,i],(function(e){r=r.add(e.mr)}))})),Es.resolve(this.Sr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;fs.isDocumentKey(i)||(i=i.child(""));var a=new Cp(new fs(i),0),o=new _c(ns);return this.pr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.mr)),!0)}),a),Es.resolve(this.Sr(o))}},{key:"Sr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.yr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;zu(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();var r=this.pr;return Es.forEach(t.mutations,(function(i){var a=new Cp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.pr=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Cp(t,0),r=this.pr.firstAfterOrEqual(n);return Es.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Es.resolve()}},{key:"br",value:function(e,t){return this.wr(e)}},{key:"wr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"yr",value:function(e){var t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Rp=function(){function e(t){d(this,e),this.Dr=t,this.docs=new kc(fs.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Es.resolve(n?n.document.mutableCopy():ol.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=of();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ol.newInvalidDocument(e))})),Es.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=of(),a=t.path,o=new fs(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||bs(gs(l),n)<=0||(r.has(l.key)||$l(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Es.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Bu()}},{key:"vr",value:function(e,t){return Es.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Op(this)}},{key:"getSize",value:function(e){return Es.resolve(this.size)}}]),e}(),Op=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).sr=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.sr.addEntry(e,i)):t.sr.removeEntry(r)})),Es.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.sr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.sr.getEntries(e,t)}}]),n}(vp),Dp=function(){function e(t){d(this,e),this.persistence=t,this.Cr=new rf((function(e){return Dl(e)}),Pl),this.lastRemoteSnapshotVersion=os.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Sp,this.targetCount=0,this.Or=rp.xn()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.Cr.forEach((function(e,n){return t(n)})),Es.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Es.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Es.resolve(this.Fr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Or.next(),Es.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),Es.resolve()}},{key:"Ln",value:function(e){this.Cr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Or=new rp(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ln(t),this.targetCount+=1,Es.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ln(t),Es.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,Es.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Cr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Es.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Es.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cr.get(t)||null;return Es.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Mr.Tr(t,n),Es.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Mr.dr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Es.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Mr.Ar(t),Es.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Mr.Vr(t);return Es.resolve(n)}},{key:"containsKey",value:function(e,t){return Es.resolve(this.Mr.containsKey(t))}}]),e}(),Pp=function(){function e(t,n){var r=this;d(this,e),this.Nr={},this.overlays={},this.Br=new Fs(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new Dp(this),this.indexManager=new jd,this.remoteDocumentCache=function(e){return new Rp(e)}((function(e){return r.referenceDelegate.qr(e)})),this.serializer=new nd(n),this.Qr=new Tp(this.serializer)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Lr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Lr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ap,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Nr[e.toKey()];return n||(n=new Np(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;Mu("MemoryPersistence","Starting transaction:",e);var i=new Lp(this.Br.next());return this.referenceDelegate.Kr(),n(i).next((function(e){return r.referenceDelegate.$r(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ur",value:function(e,t){return Es.or(Object.values(this.Nr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Lp=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(_s),Mp=function(){function e(t){d(this,e),this.persistence=t,this.Wr=new Sp,this.Gr=null}return y(e,[{key:"jr",get:function(){if(this.Gr)return this.Gr;throw Bu()}},{key:"addReference",value:function(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),Es.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),Es.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.jr.add(t.toString()),Es.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Wr.Ar(t.targetId).forEach((function(e){return n.jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Kr",value:function(){this.Gr=new Set}},{key:"$r",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Es.forEach(this.jr,(function(r){var i=fs.fromPath(r);return t.Hr(e,i).next((function(e){e||n.removeEntry(i,os.min())}))})).next((function(){return t.Gr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hr(e,t).next((function(e){e?n.jr.delete(t.toString()):n.jr.add(t.toString())}))}},{key:"qr",value:function(e){return 0}},{key:"Hr",value:function(e,t){var n=this;return Es.or([function(){return Es.resolve(n.Wr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ur(e,t)}])}}],[{key:"zr",value:function(t){return new e(t)}}]),e}(),Fp=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Ts("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hs,{unique:!0}),e.createObjectStore("documentMutations")}(e),Up(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Es.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Up(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:os.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hs,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Es.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Yr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Zr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xr(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ei(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:oc});t.createIndex("collectionPathOverlayIndex",uc,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",sc,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Js});t.createIndex("documentKeyIndex",Xs),t.createIndex("collectionGroupIndex",Ys)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ri(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:nc}).createIndex("sequenceNumberIndex",rc,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ic}).createIndex("documentKeyIndex",ac,{unique:!1})}(e)}))),o}},{key:"Zr",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Yd(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Yr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Es.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Es.forEach(r,(function(r){zu(r.userId===n.userId);var i=ud(t.serializer,r);return Xd(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xr",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new ss(n),o=function(e){return[0,zs(e)]}(a);r.push(t.get(o).next((function(n){return n?Es.resolve():function(n){return t.put({targetId:0,path:zs(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Es.waitFor(r)}))}))}},{key:"ei",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:tc});var n=t.store("collectionParents"),r=new Bd,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:zs(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new ss(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Ks(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=sd(r),a=cd(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new fs(ss.fromString(e.document.name).popFirst(5)):e.noDocument?fs.fromSegments(e.noDocument.path):e.unknownDocument?fs.fromSegments(e.unknownDocument.path):Bu()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Es.waitFor(r)}))}},{key:"ri",value:function(e,t){var n=this,r=t.store("mutations"),i=yp(this.serializer),a=new Pp(Mp.zr,this.serializer.ct);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:vf();ud(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Es.forEach(r,(function(e,r){var o=new Ou(r),u=yd.lt(n.serializer,o),s=a.getIndexManager(o),c=Zd.lt(o,n.serializer,s,a.referenceDelegate);return new Ep(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new pc(t,Fs.ae),e).next()}))}))}}]),e}();function Up(e){e.createObjectStore("targetDocuments",{keyPath:$s}).createIndex("documentTargetsIndex",ec,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zs,{unique:!0}),e.createObjectStore("targetGlobal")}var jp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Bp=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.si=c,this.oi=l,this._i=f,this.Br=null,this.Lr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ai=null,this.inForeground=!1,this.ui=null,this.ci=null,this.li=Number.NEGATIVE_INFINITY,this.hi=function(e){return Promise.resolve()},!e.v())throw new Ku(qu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dp(this,i),this.Pi=n+"main",this.serializer=new nd(s),this.Ii=new As(this.Pi,this._i,new Fp(this.serializer)),this.kr=new ip(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yp(this.serializer),this.Qr=new pd,this.window&&this.window.localStorage?this.Ti=this.window.localStorage:(this.Ti=null,!1===l&&Fu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.Ei().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ku(qu.FAILED_PRECONDITION,jp);return e.di(),e.Ai(),e.Ri(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.kr.getHighestSequenceNumber(t)}))})).then((function(t){e.Br=new Fs(t,e.si)})).then((function(){e.Lr=!0})).catch((function(t){return e.Ii&&e.Ii.close(),Promise.reject(t)}))}},{key:"Vi",value:function(e){var t=this;return this.hi=function(){var n=Ze(Xe().mark((function n(r){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ii.k(function(){var t=Ze(Xe().mark((function t(n){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ei();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ei",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Vp(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.mi(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.hi(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.gi(t).next((function(){return!1})):!!n&&e.pi(t).next((function(){return!0}))}))})).catch((function(t){if(Ns(t))return Mu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Mu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.hi(t)})),e.isPrimary=t}))}},{key:"mi",value:function(e){var t=this;return zp(e).get("owner").next((function(e){return Es.resolve(t.yi(e))}))}},{key:"wi",value:function(e){return Vp(e).delete(this.clientId)}},{key:"Si",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=vc(e,"clientMetadata");return t.G().next((function(e){var n=a.Di(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Es.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ti){n=A(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ti.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ri",value:function(){var e=this;this.ci=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ei().then((function(){return e.Si()})).then((function(){return e.Ri()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.oi?Es.resolve(!0):zp(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new Ku(qu.FAILED_PRECONDITION,jp);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vp(e).G().next((function(e){return void 0===t.Di(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Mu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ze(Xe().mark((function e(){var t=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lr=!1,this.Fi(),this.ci&&(this.ci.cancel(),this.ci=null),this.Mi(),this.xi(),e.next=7,this.Ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new pc(e,Fs.ae);return t.gi(n).next((function(){return t.wi(n)}))}));case 7:this.Ii.close(),this.Oi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Di",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"Ni",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Vp(t).G().next((function(t){return e.Di(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Lr}},{key:"getMutationQueue",value:function(e,t){return Zd.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Vd(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return yd.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;Mu("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?dc:14===e?hc:13===e?fc:12===e?lc:11===e?cc:void Bu()}(this._i);return this.Ii.runTransaction(e,a,o,(function(a){return i=new pc(a,r.Br?r.Br.next():Fs.ae),"readwrite-primary"===t?r.mi(i).next((function(e){return!!e||r.fi(i)})).next((function(t){if(!t)throw Fu("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.hi(!1)})),new Ku(qu.FAILED_PRECONDITION,ws);return n(i)})).next((function(e){return r.pi(i).next((function(){return e}))})):r.Bi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Bi",value:function(e){var t=this;return zp(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.yi(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ku(qu.FAILED_PRECONDITION,jp)}))}},{key:"pi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zp(e).put("owner",t)}},{key:"gi",value:function(e){var t=this,n=zp(e);return n.get("owner").next((function(e){return t.yi(e)?(Mu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Es.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Fu("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"di",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ui=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ei()}))},this.document.addEventListener("visibilitychange",this.ui),this.inForeground="visible"===this.document.visibilityState)}},{key:"Mi",value:function(){this.ui&&(this.document.removeEventListener("visibilitychange",this.ui),this.ui=null)}},{key:"Ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ai=function(){t.Fi();var e=/(?:Version|Mobile)\/1[456]/;!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ai))}},{key:"xi",value:function(){this.ai&&(this.window.removeEventListener("pagehide",this.ai),this.ai=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this.Ti)||void 0===t?void 0:t.getItem(this.vi(e)));return Mu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Fu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Fi",value:function(){if(this.Ti)try{this.Ti.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Fu("Failed to set zombie client id.",e)}}},{key:"Oi",value:function(){if(this.Ti)try{this.Ti.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return As.v()}}]),e}();function zp(e){return vc(e,"owner")}function Vp(e){return vc(e,"clientMetadata")}function qp(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Kp=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}return y(e,null,[{key:"qi",value:function(t,n){var r,i=vf(),a=vf(),o=A(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Hp=function(){function e(){d(this,e),this.Qi=!1}return y(e,[{key:"initialize",value:function(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.$i(e,t).next((function(a){return a||i.Ui(e,t,r,n)})).next((function(n){return n||i.Wi(e,t)}))}},{key:"$i",value:function(e,t){var n=this;if(Vl(t))return Es.resolve(null);var r=Gl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Jl(t,null,"F"),r=Gl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=vf.apply(void 0,h(i));return n.Ki.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Gi(t,i);return n.zi(t,o,a,r.readTime)?n.$i(e,Jl(t,null,"F")):n.ji(e,o,t,r)}))}))})))}))}},{key:"Ui",value:function(e,t,n,r){var i=this;return Vl(t)||r.isEqual(os.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((function(a){var o=i.Gi(t,a);return i.zi(t,o,n,r)?i.Wi(e,t):(Lu()<=Lt.DEBUG&&Mu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zl(t)),i.ji(e,o,t,ys(r,-1)))}))}},{key:"Gi",value:function(e,t){var n=new _c(tf(e));return t.forEach((function(t,r){$l(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Wi",value:function(e,t){return Lu()<=Lt.DEBUG&&Mu("QueryEngine","Using full collection scan to execute query:",Zl(t)),this.Ki.getDocumentsMatchingQuery(e,t,ks.min())}},{key:"ji",value:function(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Wp=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new kc(ns),this.Yi=new rf((function(e){return Dl(e)}),Pl),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}return y(e,[{key:"es",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ep(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function Gp(e,t,n,r){return new Wp(e,t,n,r)}function Qp(e,t){return Jp.apply(this,arguments)}function Jp(){return Jp=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.es(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=vf(),s=A(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=A(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=A(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=A(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ts:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Xp(e,t){var n=Vu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Es.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);zu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=vf(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Yp(e){var t=Vu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.kr.getLastRemoteSnapshotVersion(e)}))}function Zp(e,t){var n=Vu(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.kr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.kr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(Ac.EMPTY_BYTE_STRING,os.min()).withLastLimboFreeSnapshotVersion(os.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.kr.updateTargetData(e,c))}}));var u=of(),s=vf();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($p(e,a,t.documentUpdates).next((function(e){u=e.ns,s=e.rs}))),!r.isEqual(os.min())){var c=n.kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Es.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function $p(e,t,n){var r=vf(),i=vf();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=of();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(os.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Mu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ns:r,rs:i}}))}function ev(e,t){var n=Vu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function tv(e,t){var n=Vu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.kr.getTargetData(e,t).next((function(i){return i?(r=i,Es.resolve(r)):n.kr.allocateTargetId(e).next((function(i){return r=new td(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function nv(e,t,n){return rv.apply(this,arguments)}function rv(){return rv=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Vu(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ns(e.t1)){e.next=12;break}throw e.t1;case 12:Mu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),rv.apply(this,arguments)}function iv(e,t,n){var r=Vu(e),i=os.min(),a=vf();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Vu(e),i=r.Yi.get(n);return void 0!==i?Es.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,Gl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:os.min(),n?a:vf())})).next((function(e){return uv(r,ef(t),e),{documents:e,ss:a}}))}))}function av(e,t){var n=Vu(e),r=Vu(n.kr),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ut(e,t).next((function(e){return e?e.target:null}))}))}function ov(e,t){var n=Vu(e),r=n.Zi.get(t)||os.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,ys(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return uv(n,t,e),e}))}function uv(e,t,n){var r=e.Zi.get(t)||os.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}function sv(e,t,n,r){return cv.apply(this,arguments)}function cv(){return cv=Ze(Xe().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Vu(t),o=vf(),u=of(),s=A(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.os(l.metadata.name),l.document&&(o=o.add(f)),(h=n._s(l)).setReadTime(n.us(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,tv(a,function(e){return Gl(zl(ss.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $p(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ns,t.rs)})).next((function(){return t.ns}))}))})));case 9:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function lv(e,t){return fv.apply(this,arguments)}function fv(){return fv=Ze(Xe().mark((function e(t,n){var r,i,a,o=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:vf(),e.next=3,tv(t,Gl(ld(n.bundledQuery)));case 3:return i=e.sent,a=Vu(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ch(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Qr.saveNamedQuery(e,n);var o=i.withResumeToken(Ac.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.kr.updateTargetData(e,o).next((function(){return a.kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Qr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function hv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function dv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function pv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var vv=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ku(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Fu("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),mv=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ku(i.error.code,i.error.message))),a?new e(t,i.state,r):(Fu("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),yv=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"cs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=yf(),o=0;i&&o<r.activeTargetIds.length;++o)i=Bs(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Fu("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),gv=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"cs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Fu("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),kv=function(){function e(){d(this,e),this.activeTargetIds=yf()}return y(e,[{key:"hs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ls",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),bv=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.Is=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ts=this.Es.bind(this),this.ds=new kc(ns),this.started=!1,this.As=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Rs=hv(this.persistenceKey,this.Is),this.Vs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ds=this.ds.insert(this.Is,new kv),this.fs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.gs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ps=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.ys=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.ws=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ts)}return y(e,[{key:"start",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ni();case 2:t=e.sent,n=A(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Is){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(hv(this.persistenceKey,i)))&&(o=yv.cs(i,a))&&(this.ds=this.ds.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ss(),(u=this.storage.getItem(this.ys))&&(s=this.bs(u))&&this.Ds(s),c=A(this.As);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Es(f)}catch(d){c.e(d)}finally{c.f()}this.As=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Vs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.vs(this.ds)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ds.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Cs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Cs(e,t,n),this.Fs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(pv(this.persistenceKey,e));if(n){var r=mv.cs(e,n);r&&(t=r.state)}}return this.Ms.hs(e),this.Ss(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ms.Ps(e),this.Ss()}},{key:"isLocalQueryTarget",value:function(e){return this.Ms.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(pv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.xs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Fs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Os(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ns(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Ts),this.removeItem(this.Rs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Mu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Mu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Mu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Es",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Mu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Rs)return void Fu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Ze(Xe().mark((function e(){var r,i,a,o,u,s,c;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.fs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Bs(n.key),e.abrupt("return",t.Ls(r,null));case 6:if(!(i=t.ks(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ls(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.qs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Qs(a));case 16:e.next=41;break;case 18:if(!t.ps.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ks(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.$s(o));case 23:e.next=41;break;case 25:if(n.key!==t.ys){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.bs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ds(u));case 30:e.next=41;break;case 32:if(n.key!==t.Vs){e.next=37;break}s=function(e){var t=Fs.ae;if(null!=e)try{var n=JSON.parse(e);zu("number"==typeof n),t=n}catch(e){Fu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Fs.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.ws){e.next=41;break}return c=t.Us(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ws(e)})));case 41:e.next=44;break;case 43:t.As.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ms",get:function(){return this.ds.get(this.Is)}},{key:"Ss",value:function(){this.setItem(this.Rs,this.Ms.ls())}},{key:"Cs",value:function(e,t,n){var r=new vv(this.currentUser,e,t,n),i=dv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ls())}},{key:"Fs",value:function(e){var t=dv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Os",value:function(e){var t={clientId:this.Is,onlineState:e};this.storage.setItem(this.ys,JSON.stringify(t))}},{key:"xs",value:function(e,t,n){var r=pv(this.persistenceKey,e),i=new mv(e,t,n);this.setItem(r,i.ls())}},{key:"Ns",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.ws,t)}},{key:"Bs",value:function(e){var t=this.fs.exec(e);return t?t[1]:null}},{key:"ks",value:function(e,t){var n=this.Bs(e);return yv.cs(n,t)}},{key:"qs",value:function(e,t){var n=this.gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return vv.cs(new Ou(i),r,t)}},{key:"Ks",value:function(e,t){var n=this.ps.exec(e),r=Number(n[1]);return mv.cs(r,t)}},{key:"bs",value:function(e){return gv.cs(e)}},{key:"Us",value:function(e){return JSON.parse(e)}},{key:"Qs",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Gs(t.batchId,t.state,t.error));case 2:Mu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"$s",value:function(e){return this.syncEngine.zs(e.targetId,e.state,e.error)}},{key:"Ls",value:function(e,t){var n=this,r=t?this.ds.insert(e,t):this.ds.remove(e),i=this.vs(this.ds),a=this.vs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.js(o,u).then((function(){n.ds=r}))}},{key:"Ds",value:function(e){this.ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"vs",value:function(e){var t=yf();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),wv=function(){function e(){d(this,e),this.Hs=new kv,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hs.hs(e),this.Js[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Js[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hs.Ps(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Js[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hs.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hs=new kv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),_v=function(){function e(){d(this,e)}return y(e,[{key:"Ys",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),xv=function(){function e(){var t=this;d(this,e),this.Zs=function(){return t.Xs()},this.eo=function(){return t.no()},this.ro=[],this.io()}return y(e,[{key:"Ys",value:function(e){this.ro.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}},{key:"Xs",value:function(){Mu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=A(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){Mu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=A(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Iv=null;function Ev(){return null===Iv?Iv=268435456+Math.round(2147483648*Math.random()):Iv++,"0x"+Iv.toString(16)}var Tv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Av=function(){function e(t){d(this,e),this.so=t.so,this.oo=t.oo}return y(e,[{key:"_o",value:function(e){this.ao=e}},{key:"uo",value:function(e){this.co=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.so(e)}},{key:"ho",value:function(){this.ao()}},{key:"Po",value:function(e){this.co(e)}},{key:"Io",value:function(e){this.lo(e)}}]),e}(),Sv="WebChannelConnection",Cv=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return y(n,[{key:"po",value:function(e,t,n,r){var i=Ev();return new Promise((function(a,o){var u=new Su;u.setWithCredentials(!0),u.listenOnce(xu.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case _u.NO_ERROR:var t=u.getResponseJson();Mu(Sv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case _u.TIMEOUT:Mu(Sv,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Ku(qu.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:var n=u.getStatus();if(Mu(Sv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(qu).indexOf(t)>=0?t:qu.UNKNOWN}(s.status);o(new Ku(c,s.message))}else o(new Ku(qu.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Ku(qu.UNAVAILABLE,"Connection failed."));break;default:Bu()}}finally{Mu(Sv,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Mu(Sv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=Ev(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=bu(),o=wu(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new Tu({})),this.fo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");Mu(Sv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new Av({so:function(t){h?Mu(Sv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Mu(Sv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Mu(Sv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Au.EventType.OPEN,(function(){h||Mu(Sv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Au.EventType.CLOSE,(function(){h||(h=!0,Mu(Sv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Po())})),p(l,Au.EventType.ERROR,(function(t){h||(h=!0,Uu(Sv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Po(new Ku(qu.UNAVAILABLE,"The operation could not be completed")))})),p(l,Au.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];zu(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Mu(Sv,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Qf[e];if(void 0!==t)return rh(t)}(u),c=o.message;void 0===s&&(s=qu.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.Po(new Ku(s,c)),l.close()}else Mu(Sv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Io(i)}})),p(o,Iu.STAT_EVENT,(function(t){t.stat===Eu.PROXY?Mu(Sv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Eu.NOPROXY&&Mu(Sv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.ho()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.To=n+"://"+t.host,this.Eo="projects/".concat(r,"/databases/").concat(i),this.Ao="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return y(e,[{key:"Ro",get:function(){return!1}},{key:"Vo",value:function(e,t,n,r,i){var a=Ev(),o=this.mo(e,t);Mu("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,r,i),this.po(e,o,u,n).then((function(t){return Mu("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Uu("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"yo",value:function(e,t,n,r,i,a){return this.Vo(e,t,n,r,i)}},{key:"fo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Du,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"mo",value:function(e,t){var n=Tv[e];return"".concat(this.To,"/v1/").concat(t,":").concat(n)}}]),e}());function Nv(){return"undefined"!=typeof window?window:null}function Rv(){return"undefined"!=typeof document?document:null}function Ov(e){return new Ih(e,!0)}var Dv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=a,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.vo=0}},{key:"Mo",value:function(){this.vo=this.Do}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&Mu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Fo=Date.now(),e()})),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}},{key:"No",value:function(){null!==this.Co&&(this.Co.skipDelay(),this.Co=null)}},{key:"cancel",value:function(){null!==this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"Oo",value:function(){return(Math.random()-.5)*this.vo}}]),e}(),Pv=function(){function e(t,n,r,i,a,o,u,s){d(this,e),this.ii=t,this.Bo=r,this.Lo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new Dv(t,n)}return y(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Wo()}},{key:"stop",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Ko.reset()}},{key:"zo",value:function(){var e=this;this.Uo()&&null===this.qo&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,(function(){return e.jo()})))}},{key:"Ho",value:function(e){this.Jo(),this.stream.send(e)}},{key:"jo",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){this.qo&&(this.qo.cancel(),this.qo=null)}},{key:"Yo",value:function(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}},{key:"close",value:function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,4!==t?this.Ko.reset():n&&n.code===qu.RESOURCE_EXHAUSTED?(Fu(n.toString()),Fu("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===qu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.uo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.ko===n&&e.e_(i,a)}),(function(n){t((function(){var t=new Ku(qu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.t_(t)}))}))}},{key:"e_",value:function(e,t){var n=this,r=this.Xo(this.ko);this.stream=this.n_(e,t),this.stream._o((function(){r((function(){return n.state=2,n.Qo=n.ii.enqueueAfterDelay(n.Lo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener._o()}))})),this.stream.uo((function(e){r((function(){return n.t_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Wo",value:function(){var e=this;this.state=5,this.Ko.xo(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"t_",value:function(e){return Mu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.ko===e?n():(Mu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Lv=function(e){k(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return y(n,[{key:"n_",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(zu(void 0===t||"string"==typeof t),Ac.fromBase64String(t||"")):(zu(void 0===t||t instanceof Uint8Array),Ac.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?qu.UNKNOWN:rh(e.code);return new Ku(t,e.message||"")}(o);n=new mh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Dh(e,s.document.name),l=Ch(s.document.updateTime),f=s.document.createTime?Ch(s.document.createTime):os.min(),h=new il({mapValue:{fields:s.document.fields}}),d=ol.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new ph(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Dh(e,m.document),g=m.readTime?Ch(m.readTime):os.min(),k=ol.newNoDocument(y,g),b=m.removedTargetIds||[];n=new ph([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=Dh(e,w.document),x=w.removedTargetIds||[];n=new ph([],x,_,null)}else{if(!("filter"in t))return Bu();t.filter;var I=t.filter;I.targetId;var E=I.count,T=void 0===E?0:E,A=I.unchangedNames,S=new th(T,A),C=I.targetId;n=new vh(C,S)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return os.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?os.min():t.readTime?Ch(t.readTime):os.min()}(e);return this.listener.r_(t,n)}},{key:"i_",value:function(e){var t={};t.database=Mh(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Ll(r)?{documents:qh(e,r)}:{query:Kh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ah(e,t.resumeToken);var i=Eh(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(os.min())>0){n.readTime=Th(e,t.snapshotVersion.toTimestamp());var a=Eh(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Ho(t)}},{key:"s_",value:function(e){var t={};t.database=Mh(this.serializer),t.removeTarget=e,this.Ho(t)}}]),n}(Pv),Mv=function(e){k(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.o_=!1,s}return y(n,[{key:"__",get:function(){return this.o_}},{key:"start",value:function(){this.o_=!1,this.lastStreamToken=void 0,ur(b(n.prototype),"start",this).call(this)}},{key:"Zo",value:function(){this.o_&&this.a_([])}},{key:"n_",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(zu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();var t=function(e,t){return e&&e.length>0?(zu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ch(e.updateTime):Ch(t);return n.isEqual(os.min())&&(n=Ch(t)),new Pf(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ch(e.commitTime);return this.listener.u_(n,t)}return zu(!e.writeResults||0===e.writeResults.length),this.o_=!0,this.listener.c_()}},{key:"l_",value:function(){var e={};e.database=Mh(this.serializer),this.Ho(e)}},{key:"a_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return zh(t.serializer,e)}))};this.Ho(n)}}]),n}(Pv),Fv=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.h_=!1,o}return y(n,[{key:"P_",value:function(){if(this.h_)throw new Ku(qu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Vo",value:function(e,t,n){var r=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.connection.Vo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ku(qu.UNKNOWN,e.toString())}))}},{key:"yo",value:function(e,t,n,r){var i=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.connection.yo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Ku(qu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.h_=!0}}]),n}(y((function e(){d(this,e)})));var Uv=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}return y(e,[{key:"A_",value:function(){var e=this;0===this.T_&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.E_=null,e.V_("Backend didn't respond within 10 seconds."),e.R_("Offline"),Promise.resolve()})))}},{key:"m_",value:function(e){"Online"===this.state?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.R_("Offline")))}},{key:"set",value:function(e){this.f_(),this.T_=0,"Online"===e&&(this.d_=!1),this.R_(e)}},{key:"R_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"V_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.d_?(Fu(t),this.d_=!1):Mu("OnlineStateTracker",t)}},{key:"f_",value:function(){null!==this.E_&&(this.E_.cancel(),this.E_=null)}}]),e}(),jv=y((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=a,this.S_.Ys((function(e){r.enqueueAndForget(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Xv(o),!e.t0){e.next=5;break}return Mu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Vu(t)).y_.add(4),e.next=4,Vv(n);case 4:return n.b_.set("Unknown"),n.y_.delete(4),e.next=8,Bv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.b_=new Uv(r,i)}));function Bv(e){return zv.apply(this,arguments)}function zv(){return(zv=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xv(t)){e.next=18;break}n=A(t.w_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Vv(e){return qv.apply(this,arguments)}function qv(){return(qv=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=A(t.w_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Kv(e,t){var n=Vu(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),Jv(n)?Qv(n):Em(n).Uo()&&Wv(n,t))}function Hv(e,t){var n=Vu(e),r=Em(n);n.p_.delete(t),r.Uo()&&Gv(n,t),0===n.p_.size&&(r.Uo()?r.zo():Xv(n)&&n.b_.set("Unknown"))}function Wv(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(os.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Em(e).i_(t)}function Gv(e,t){e.D_.Be(t),Em(e).s_(t)}function Qv(e){e.D_=new gh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.p_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),Em(e).start(),e.b_.A_()}function Jv(e){return Xv(e)&&!Em(e).$o()&&e.p_.size>0}function Xv(e){return 0===Vu(e).y_.size}function Yv(e){e.D_=void 0}function Zv(e){return $v.apply(this,arguments)}function $v(){return($v=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.p_.forEach((function(e,n){Wv(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function em(e,t){return tm.apply(this,arguments)}function tm(){return(tm=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yv(t),Jv(t)?(t.b_.m_(n),Qv(t)):t.b_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nm(e,t,n){return rm.apply(this,arguments)}function rm(){return rm=Ze(Xe().mark((function e(t,n,r){var i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.b_.set("Online"),!(n instanceof mh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=A(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.p_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.p_.delete(o),t.D_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Mu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,im(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ph?t.D_.We(n):n instanceof vh?t.D_.Ze(n):t.D_.je(n),r.isEqual(os.min())){e.next=29;break}return e.prev=14,e.next=17,Yp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.D_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.p_.get(r);i&&e.p_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.p_.get(t);if(r){e.p_.set(t,r.withResumeToken(Ac.EMPTY_BYTE_STRING,r.snapshotVersion)),Gv(e,t);var i=new td(r.target,t,n,r.sequenceNumber);Wv(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Mu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,im(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),rm.apply(this,arguments)}function im(e,t,n){return am.apply(this,arguments)}function am(){return(am=Ze(Xe().mark((function e(t,n,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ns(n)){e.next=2;break}throw n;case 2:return t.y_.add(1),e.next=5,Vv(t);case 5:t.b_.set("Offline"),r||(r=function(){return Yp(t.localStore)}),t.asyncQueue.enqueueRetryable(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.y_.delete(1),e.next=6,Bv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function om(e,t){return t().catch((function(n){return im(e,n,t)}))}function um(e){return sm.apply(this,arguments)}function sm(){return sm=Ze(Xe().mark((function e(t){var n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vu(t),r=Tm(n),i=n.g_.length>0?n.g_[n.g_.length-1].batchId:-1;case 2:if(!cm(n)){e.next=19;break}return e.prev=3,e.next=6,ev(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.g_.length&&r.zo(),e.abrupt("break",19);case 10:i=a.batchId,lm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,im(n,e.t0);case 17:e.next=2;break;case 19:fm(n)&&hm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),sm.apply(this,arguments)}function cm(e){return Xv(e)&&e.g_.length<10}function lm(e,t){e.g_.push(t);var n=Tm(e);n.Uo()&&n.__&&n.a_(t.mutations)}function fm(e){return Xv(e)&&!Tm(e).$o()&&e.g_.length>0}function hm(e){Tm(e).start()}function dm(e){return pm.apply(this,arguments)}function pm(){return(pm=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Tm(t).l_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vm(e){return mm.apply(this,arguments)}function mm(){return(mm=Ze(Xe().mark((function e(t){var n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tm(t),r=A(t.g_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.a_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ym(e,t,n){return gm.apply(this,arguments)}function gm(){return gm=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.g_.shift(),a=$f.from(i,n,r),e.next=3,om(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,um(t);case 5:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}function km(e,t){return bm.apply(this,arguments)}function bm(){return bm=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Tm(t).__,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return nh(e)&&e!==qu.ABORTED}(n.code)){e.next=7;break}return r=t.g_.shift(),Tm(t).Go(),e.next=5,om(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,um(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fm(t)&&hm(t);case 5:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e,t){return _m.apply(this,arguments)}function _m(){return _m=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Vu(t)).asyncQueue.verifyOperationInProgress(),Mu("RemoteStore","RemoteStore received new credentials"),i=Xv(r),r.y_.add(3),e.next=6,Vv(r);case 6:return i&&r.b_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.y_.delete(3),e.next=12,Bv(r);case 12:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function xm(e,t){return Im.apply(this,arguments)}function Im(){return(Im=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vu(t),!n){e.next=7;break}return r.y_.delete(2),e.next=5,Bv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.y_.add(2),e.next=12,Vv(r);case 12:r.b_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Em(e){return e.v_||(e.v_=function(e,t,n){var r=Vu(e);return r.P_(),new Lv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:Zv.bind(null,e),uo:em.bind(null,e),r_:nm.bind(null,e)}),e.w_.push(function(){var t=Ze(Xe().mark((function t(n){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.v_.Go(),Jv(e)?Qv(e):e.b_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.v_.stop();case 6:Yv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.v_}function Tm(e){return e.C_||(e.C_=function(e,t,n){var r=Vu(e);return r.P_(),new Mv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:dm.bind(null,e),uo:km.bind(null,e),c_:vm.bind(null,e),u_:ym.bind(null,e)}),e.w_.push(function(){var t=Ze(Xe().mark((function t(n){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.C_.Go(),t.next=4,um(e);case 4:t.next=9;break;case 6:return t.next=8,e.C_.stop();case 8:e.g_.length>0&&(Mu("RemoteStore","Stopping write stream with ".concat(e.g_.length," pending writes")),e.g_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.C_}var Am=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ku(qu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Sm(e,t){if(Fu("AsyncQueue","".concat(t,": ").concat(e)),Ns(e))return new Ku(qu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Cm=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||fs.comparator(e.key,n.key)}:function(e,t){return fs.comparator(e.key,t.key)},this.keyedMap=sf(),this.sortedSet=new kc(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Nm=function(){function e(){d(this,e),this.F_=new kc(fs.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.F_.get(t);n?0!==e.type&&3===n.type?this.F_=this.F_.insert(t,e):3===e.type&&1!==n.type?this.F_=this.F_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.F_=this.F_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.F_=this.F_.remove(t):1===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):Bu():this.F_=this.F_.insert(t,e)}},{key:"M_",value:function(){var e=[];return this.F_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Rm=function(){function e(t,n,r,i,a,o,u,s,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Cm.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Om=y((function e(){d(this,e),this.x_=void 0,this.listeners=[]})),Dm=y((function e(){d(this,e),this.queries=new rf((function(e){return Yl(e)}),Xl),this.onlineState="Unknown",this.O_=new Set}));function Pm(e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=Ze(Xe().mark((function e(t,n){var r,i,a,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Om),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.x_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Sm(e.t0,"Initialization of query '".concat(Zl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.N_(r.onlineState),o.x_&&n.B_(o.x_)&&Bm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Lm.apply(this,arguments)}function Mm(e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=Ze(Xe().mark((function e(t,n){var r,i,a,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Um(e,t){var n,r=Vu(e),i=!1,a=A(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=A(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.B_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.x_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Bm(r)}function jm(e,t,n){var r=Vu(e),i=r.queries.get(t);if(i){var a,o=A(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Bm(e){e.O_.forEach((function(e){e.next()}))}var zm=function(){function e(t,n,r){d(this,e),this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"B_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=A(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Rm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),a=!0):this.K_(e,this.onlineState)&&(this.U_(e),a=!0),this.q_=e,a}},{key:"onError",value:function(e){this.L_.error(e)}},{key:"N_",value:function(e){this.onlineState=e;var t=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),t=!0),t}},{key:"K_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.W_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Q_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"U_",value:function(e){e=Rm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}]),e}(),Vm=function(){function e(t,n){d(this,e),this.G_=t,this.byteLength=n}return y(e,[{key:"z_",value:function(){return"metadata"in this.G_}}]),e}(),qm=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"os",value:function(e){return Dh(this.serializer,e)}},{key:"_s",value:function(e){return e.metadata.exists?jh(this.serializer,e.document,!1):ol.newNoDocument(this.os(e.metadata.name),this.us(e.metadata.readTime))}},{key:"us",value:function(e){return Ch(e)}}]),e}(),Km=function(){function e(t,n,r){d(this,e),this.j_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hm(t)}return y(e,[{key:"H_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.G_.namedQuery)this.queries.push(e.G_.namedQuery);else if(e.G_.documentMetadata){this.documents.push({metadata:e.G_.documentMetadata}),e.G_.documentMetadata.exists||++t;var n=ss.fromString(e.G_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.G_.document&&(this.documents[this.documents.length-1].document=e.G_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"J_",value:function(e){var t,n=new Map,r=new qm(this.serializer),i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.os(a.metadata.name),s=A(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||vf()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sv(this.localStore,new qm(this.serializer),this.documents,this.j_.id);case 2:t=e.sent,n=this.J_(this.documents),r=A(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,lv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Y_:this.collectionGroups,Z_:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Wm=y((function e(t){d(this,e),this.key=t})),Gm=y((function e(t){d(this,e),this.key=t})),Qm=function(){function e(t,n){d(this,e),this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=vf(),this.mutatedKeys=vf(),this.na=tf(t),this.ra=new Cm(this.na)}return y(e,[{key:"ia",get:function(){return this.X_}},{key:"sa",value:function(e,t){var n=this,r=t?t.oa:new Nm,i=t?t.ra:this.ra,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=$l(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n._a(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.na(f,s)>0||c&&n.na(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ra:o,oa:r,zi:u,mutatedKeys:a}}},{key:"_a",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;var a=e.oa.M_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bu()}};return n(e)-n(t)}(e.type,t.type)||r.na(e.doc,t.doc)})),this.aa(n);var o=t?this.ua():[],u=0===this.ta.size&&this.current?1:0,s=u!==this.ea;return this.ea=u,0!==a.length||s?{snapshot:new Rm(this.query,e.ra,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}},{key:"N_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ra:this.ra,oa:new Nm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}},{key:"la",value:function(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}},{key:"aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.X_=t.X_.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.X_=t.X_.delete(e)})),this.current=e.current)}},{key:"ua",value:function(){var e=this;if(!this.current)return[];var t=this.ta;this.ta=vf(),this.ra.forEach((function(t){e.la(t.key)&&(e.ta=e.ta.add(t.key))}));var n=[];return t.forEach((function(t){e.ta.has(t)||n.push(new Gm(t))})),this.ta.forEach((function(e){t.has(e)||n.push(new Wm(e))})),n}},{key:"ha",value:function(e){this.X_=e.ss,this.ta=vf();var t=this.sa(e.documents);return this.applyChanges(t,!0)}},{key:"Pa",value:function(){return Rm.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,0===this.ea,this.hasCachedResults)}}]),e}(),Jm=y((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),Xm=y((function e(t){d(this,e),this.key=t,this.Ia=!1})),Ym=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new rf((function(e){return Yl(e)}),Xl),this.da=new Map,this.Aa=new Set,this.Ra=new kc(fs.comparator),this.Va=new Map,this.ma=new Sp,this.fa={},this.ga=new Map,this.pa=rp.On(),this.onlineState="Unknown",this.ya=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.ya}}]),e}();function Zm(e,t){return $m.apply(this,arguments)}function $m(){return $m=Ze(Xe().mark((function e(t,n){var r,i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hy(t),!(o=r.Ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Pa(),e.next=15;break;case 6:return e.next=8,tv(r.localStore,Gl(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,ey(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Kv(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),$m.apply(this,arguments)}function ey(e,t,n,r,i){return ty.apply(this,arguments)}function ty(){return ty=Ze(Xe().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.wa=function(e,n,r){return function(){var e=Ze(Xe().mark((function e(t,n,r,i){var a,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sa(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,iv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sa(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(wy(t,n.targetId,u.ca),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,iv(t.localStore,n,!0);case 3:return o=e.sent,u=new Qm(n,o.ss),s=u.sa(o.documents),c=dh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),wy(t,r,l.ca),f=new Jm(n,r,u),e.abrupt("return",(t.Ea.set(n,f),t.da.has(r)?t.da.get(r).push(n):t.da.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t){return ry.apply(this,arguments)}function ry(){return ry=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vu(t),i=r.Ea.get(n),!((a=r.da.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.da.set(i.targetId,a.filter((function(e){return!Xl(e,n)}))),void r.Ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,nv(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Hv(r.remoteStore,i.targetId),ky(r,i.targetId)})).catch(xs);case 9:e.next=14;break;case 11:return ky(r,i.targetId),e.next=14,nv(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(e,t,n){return ay.apply(this,arguments)}function ay(){return ay=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wy(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Vu(e),a=as.now(),o=t.reduce((function(e,t){return e.add(t.key)}),vf());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=of(),s=vf();return i.Xi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=A(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=zf(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Kf(c.key,l,al(l.value.mapValue),Lf.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:cf(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fa[e.currentUser.toKey()];r||(r=new kc(ns)),r=r.insert(t,n),e.fa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Iy(i,a.changes);case 9:return e.next=11,um(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Sm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ay.apply(this,arguments)}function oy(e,t){return uy.apply(this,arguments)}function uy(){return uy=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vu(t),e.prev=1,e.next=4,Zp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Va.get(t);n&&(zu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ia=!0:e.modifiedDocuments.size>0?zu(n.Ia):e.removedDocuments.size>0&&(zu(n.Ia),n.Ia=!1))})),e.next=8,Iy(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,xs(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),uy.apply(this,arguments)}function sy(e,t,n){var r=Vu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ea.forEach((function(e,n){var r=n.view.N_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Vu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=A(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.N_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Bm(n)}(r.eventManager,t),i.length&&r.Ta.r_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function cy(e,t,n){return ly.apply(this,arguments)}function ly(){return ly=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s,c;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Vu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Va.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new kc(fs.comparator)).insert(o,ol.newNoDocument(o,os.min())),s=vf().add(o),c=new hh(os.min(),new Map,new kc(ns),u,s),e.next=9,oy(i,c);case 9:i.Ra=i.Ra.remove(o),i.Va.delete(n),xy(i),e.next=16;break;case 14:return e.next=16,nv(i.localStore,n,!1).then((function(){return ky(i,n,r)})).catch(xs);case 16:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}function fy(e,t){return hy.apply(this,arguments)}function hy(){return hy=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vu(t),i=n.batch.batchId,e.prev=1,e.next=4,Xp(r.localStore,n);case 4:return a=e.sent,gy(r,i,null),yy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Iy(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hy.apply(this,arguments)}function dy(e,t,n){return py.apply(this,arguments)}function py(){return py=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vu(t),e.prev=1,e.next=4,function(e,t){var n=Vu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return zu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,gy(i,n,r),yy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Iy(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),py.apply(this,arguments)}function vy(e,t){return my.apply(this,arguments)}function my(){return my=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xv((r=Vu(t)).remoteStore)||Mu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Vu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ga.get(i)||[]).push(n),r.ga.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Sm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),my.apply(this,arguments)}function yy(e,t){(e.ga.get(t)||[]).forEach((function(e){e.resolve()})),e.ga.delete(t)}function gy(e,t,n){var r=Vu(e),i=r.fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fa[r.currentUser.toKey()]=i}}function ky(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=A(e.da.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ea.delete(a),n&&e.Ta.Sa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach((function(t){e.ma.containsKey(t)||by(e,t)}))}function by(e,t){e.Aa.delete(t.path.canonicalString());var n=e.Ra.get(t);null!==n&&(Hv(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),xy(e))}function wy(e,t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Wm?(e.ma.addReference(a.key,t),_y(e,a)):a instanceof Gm?(Mu("SyncEngine","Document no longer in limbo: "+a.key),e.ma.removeReference(a.key,t),e.ma.containsKey(a.key)||by(e,a.key)):Bu()}}catch(o){i.e(o)}finally{i.f()}}function _y(e,t){var n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(Mu("SyncEngine","New document in limbo: "+n),e.Aa.add(r),xy(e))}function xy(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){var t=e.Aa.values().next().value;e.Aa.delete(t);var n=new fs(ss.fromString(t)),r=e.pa.next();e.Va.set(r,new Xm(n)),e.Ra=e.Ra.insert(n,r),Kv(e.remoteStore,new td(Gl(zl(n.path)),r,"TargetPurposeLimboResolution",Fs.ae))}}function Iy(e,t,n){return Ey.apply(this,arguments)}function Ey(){return Ey=Ze(Xe().mark((function e(t,n,r){var i,a,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Vu(t),a=[],o=[],u=[],e.t0=i.Ea.isEmpty(),e.t0){e.next=9;break}return i.Ea.forEach((function(e,t){u.push(i.wa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Kp.qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ta.r_(a),e.next=9,function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Es.forEach(n,(function(t){return Es.forEach(t.Li,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Es.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ns(e.t0)){e.next=10;break}throw e.t0;case 10:Mu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=A(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ey.apply(this,arguments)}function Ty(e,t){return Ay.apply(this,arguments)}function Ay(){return(Ay=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Vu(t)).currentUser.isEqual(n)){e.next=11;break}return Mu("SyncEngine","User change. New user:",n.toKey()),e.next=5,Qp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ga.forEach((function(e){e.forEach((function(e){e.reject(new Ku(qu.CANCELLED,t))}))})),e.ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Iy(r,i.ts);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sy(e,t){var n=Vu(e),r=n.Va.get(t);if(r&&r.Ia)return vf().add(r.key);var i=vf(),a=n.da.get(t);if(!a)return i;var o,u=A(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ea.get(s);i=i.unionWith(c.view.ia)}}catch(l){u.e(l)}finally{u.f()}return i}function Cy(e,t){return Ny.apply(this,arguments)}function Ny(){return Ny=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vu(t),e.next=3,iv(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ha(i),e.abrupt("return",(r.isPrimaryClient&&wy(r,n.targetId,a.ca),a));case 6:case"end":return e.stop()}}),e)}))),Ny.apply(this,arguments)}function Ry(e,t){return Oy.apply(this,arguments)}function Oy(){return(Oy=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vu(t),e.abrupt("return",ov(r.localStore,n).then((function(e){return Iy(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dy(e,t,n,r){return Py.apply(this,arguments)}function Py(){return Py=Ze(Xe().mark((function e(t,n,r,i){var a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vu(t),e.next=3,function(e,t){var n=Vu(e),r=Vu(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Dn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Es.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,um(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(gy(a,n,i||null),yy(a,n),function(e,t){Vu(Vu(e).mutationQueue).Cn(t)}(a.localStore,n)):Bu();case 11:return e.next=13,Iy(a,o);case 13:e.next=16;break;case 15:Mu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Ly(e,t){return My.apply(this,arguments)}function My(){return(My=Ze(Xe().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hy(r=Vu(t)),Wy(r),!0!==n||!0===r.ya){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Fy(r,i.toArray());case 5:return a=e.sent,r.ya=!0,e.next=9,xm(r.remoteStore,!0);case 9:o=A(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Kv(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ya){e.next=25;break}return c=[],l=Promise.resolve(),r.da.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return ky(r,t),nv(r.localStore,t,!0)})),Hv(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Fy(r,c);case 21:return function(e){var t=Vu(e);t.Va.forEach((function(e,n){Hv(t.remoteStore,n)})),t.ma.Rr(),t.Va=new Map,t.Ra=new kc(fs.comparator)}(r),r.ya=!1,e.next=25,xm(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fy(e,t,n){return Uy.apply(this,arguments)}function Uy(){return Uy=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Vu(t),a=[],o=[],u=A(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.da.get(c))||0===f.length){e.next=34;break}return e.next=11,tv(i.localStore,Gl(f[0]));case 11:l=e.sent,h=A(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Ea.get(p),e.next=20,Cy(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,av(i.localStore,c);case 36:return y=e.sent,e.next=39,tv(i.localStore,y);case 39:return l=e.sent,e.next=42,ey(i,jy(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ta.r_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Uy.apply(this,arguments)}function jy(e){return Bl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function By(e){return function(e){return Vu(Vu(e).persistence).Ni()}(Vu(e).localStore)}function zy(e,t,n,r){return Vy.apply(this,arguments)}function Vy(){return Vy=Ze(Xe().mark((function e(t,n,r,i){var a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Vu(t)).ya){e.next=3;break}return e.abrupt("return",void Mu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.da.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ov(a.localStore,ef(o[0]));case 10:return u=e.sent,s=hh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ac.EMPTY_BYTE_STRING),e.next=14,Iy(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,nv(a.localStore,n,!0);case 17:return ky(a,n,i),e.abrupt("break",20);case 19:Bu();case 20:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function qy(e,t,n){return Ky.apply(this,arguments)}function Ky(){return Ky=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Hy(t)).ya){e.next=45;break}a=A(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.da.has(u)){e.next=10;break}return Mu("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,av(i.localStore,u);case 12:return s=e.sent,e.next=15,tv(i.localStore,s);case 15:return c=e.sent,e.next=18,ey(i,jy(s),c.targetId,!1,c.resumeToken);case 18:Kv(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=A(r),e.prev=30,h=Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.da.has(t),!e.t0){e.next=5;break}return e.next=5,nv(i.localStore,t,!1).then((function(){Hv(i.remoteStore,t),ky(i,t)})).catch(xs);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ky.apply(this,arguments)}function Hy(e){var t=Vu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=oy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cy.bind(null,t),t.Ta.r_=Um.bind(null,t.eventManager),t.Ta.Sa=jm.bind(null,t.eventManager),t}function Wy(e){var t=Vu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dy.bind(null,t),t}function Gy(e,t,n){var r=Vu(e);(function(){var e=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Vu(e),r=Ch(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Hm(i)),a=new Km(i,t.localStore,n.serializer),e.next=15,n.ba();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.H_(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ba();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Iy(t,s.Z_,void 0);case 31:return e.next=33,function(e,t){var n=Vu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Y_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Uu("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Qy=function(){function e(){d(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Ov(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Gp(this.persistence,new Hp,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Pp(Mp.zr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new wv}},{key:"terminate",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Jy=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Da=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=Ze(Xe().mark((function e(t){var r=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Da.initialize(this,t);case 4:return e.next=6,Wy(this.Da.syncEngine);case 6:return e.next=8,um(this.Da.remoteStore);case 8:return e.next=10,this.persistence.Vi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Gp(this.persistence,new Hp,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new lp(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Ms(t,this.persistence);return new Ls(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=qp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Jd.withCacheSize(this.cacheSizeBytes):Jd.DEFAULT;return new Bp(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Nv(),Rv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new wv}}]),n}(Qy),Xy=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Da=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=Ze(Xe().mark((function e(t){var r,i=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Da.syncEngine,e.t0=this.sharedClientState instanceof bv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Gs:Dy.bind(null,r),zs:zy.bind(null,r),js:qy.bind(null,r),Ni:By.bind(null,r),Ws:Ry.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Vi(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ly(i.Da.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Nv();if(!bv.v(t))throw new Ku(qu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=qp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Jy),Yy=function(){function e(){d(this,e)}return y(e,[{key:"initialize",value:function(){var e=Ze(Xe().mark((function e(t,n){var r=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return sy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ty.bind(null,this.syncEngine),e.next=12,xm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Dm}},{key:"createDatastore",value:function(e){var t=Ov(e.databaseInfo.databaseId),n=function(e){return new Cv(e)}(e.databaseInfo);return function(e,t,n,r){return new Fv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new jv(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return sy(t.syncEngine,e,0)}),xv.v()?new xv:new _v)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Ym(e,t,n,r,i,a);return o&&(u.ya=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vu(t),Mu("RemoteStore","RemoteStore shutting down."),n.y_.add(5),e.next=5,Vv(n);case 5:n.S_.shutdown(),n.b_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Zy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ze(Xe().mark((function r(){var i;return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var $y=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.va(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.va(this.observer.error,e):Fu("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ca",value:function(){this.muted=!0}},{key:"va",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),eg=function(){function e(t,n){var r=this;d(this,e),this.Fa=t,this.serializer=n,this.metadata=new Hu,this.buffer=new Uint8Array,this.Ma=new TextDecoder("utf-8"),this.xa().then((function(e){e&&e.z_()?r.metadata.resolve(e.G_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.G_))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.Fa.cancel()}},{key:"getMetadata",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xa",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ma.decode(t),r=Number(n),isNaN(r)&&this.Na("length string (".concat(n,") is not valid number")),e.next=9,this.Ba(r);case 9:return i=e.sent,e.abrupt("return",new Vm(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"La",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Oa",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.La()<0)){e.next=7;break}return e.next=3,this.ka();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.La())<0&&this.Na("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ba",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ka();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Na("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ma.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Na",value:function(e){throw this.Fa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ka",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Fa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),tg=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=Ze(Xe().mark((function e(t){var n,r=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ku(qu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vu(t),i=Mh(r.serializer)+"/documents",a={documents:n.map((function(e){return Oh(r.serializer,e)}))},e.next=5,r.yo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Bh(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());zu(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Xf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ze(Xe().mark((function e(){var t,n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=fs.fromPath(t);n.mutations.push(new Yf(r,n.precondition(r)))})),e.next=7,function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vu(t),i=Mh(r.serializer)+"/documents",a={writes:n.map((function(e){return zh(r.serializer,e)}))},e.next=3,r.Vo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bu();t=os.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ku(qu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(os.min())?Lf.exists(!1):Lf.updateTime(t):Lf.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(os.min()))throw new Ku(qu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lf.updateTime(t)}return Lf.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ng=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.qa=r.maxAttempts,this.Ko=new Dv(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.qa-=1,this.Qa()}},{key:"Qa",value:function(){var e=this;this.Ko.xo(Ze(Xe().mark((function t(){var n,r;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new tg(e.datastore),(r=e.Ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.$a(t)}))}))})).catch((function(t){e.$a(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ka",value:function(e){try{var t=this.updateFunction(e);return!Us(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"$a",value:function(e){var t=this;this.qa>0&&this.Ua(e)?(this.qa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Qa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ua",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!nh(t)}return!1}}]),e}(),rg=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ou.UNAUTHENTICATED,this.clientId=ts.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Mu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ku(qu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ze(Xe().mark((function n(){var r;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Sm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ig(e,t){return ag.apply(this,arguments)}function ag(){return ag=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Mu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Qp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),ag.apply(this,arguments)}function og(e,t){return ug.apply(this,arguments)}function ug(){return ug=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,cg(t);case 3:return r=e.sent,Mu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return wm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wm(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function sg(e){return"FirebaseError"===e.name?e.code===qu.FAILED_PRECONDITION||e.code===qu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function cg(e){return lg.apply(this,arguments)}function lg(){return(lg=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Mu("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,ig(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),sg(n=e.t0)){e.next=13;break}throw n;case 13:return Uu("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,ig(t,new Qy);case 16:e.next=21;break;case 18:return Mu("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,ig(t,new Qy);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function fg(e){return hg.apply(this,arguments)}function hg(){return(hg=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Mu("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,og(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Mu("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,og(t,new Yy);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dg(e){return cg(e).then((function(e){return e.persistence}))}function pg(e){return cg(e).then((function(e){return e.localStore}))}function vg(e){return fg(e).then((function(e){return e.remoteStore}))}function mg(e){return fg(e).then((function(e){return e.syncEngine}))}function yg(e){return fg(e).then((function(e){return e.datastore}))}function gg(e){return kg.apply(this,arguments)}function kg(){return(kg=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Zm.bind(null,n.syncEngine),r.onUnlisten=ny.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hu;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function i(){return Xe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $y({next:function(a){t.enqueueAndForget((function(){return Mm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Ku(qu.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Ku(qu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new zm(zl(n.path),a,{includeMetadataChanges:!0,W_:!0});return Pm(e,o)},i.next=3,gg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function wg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hu;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function i(){return Xe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $y({next:function(n){t.enqueueAndForget((function(){return Mm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ku(qu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new zm(n,a,{includeMetadataChanges:!0,W_:!0});return Pm(e,o)},i.next=3,gg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function _g(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var xg=new Map;function Ig(e,t,n){if(!n)throw new Ku(qu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Eg(e,t,n,r){if(!0===t&&!0===r)throw new Ku(qu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Tg(e){if(!fs.isDocumentKey(e))throw new Ku(qu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ag(e){if(fs.isDocumentKey(e))throw new Ku(qu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Bu()}function Cg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ku(qu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sg(e);throw new Ku(qu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ng(e,t){if(t<=0)throw new Ku(qu.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Rg=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ku(qu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ku(qu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Eg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_g(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ku(qu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ku(qu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ku(qu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Og=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rg({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new Ku(qu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ku(qu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Gu;switch(e.type){case"firstParty":return new Yu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ku(qu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=xg.get(e);t&&(Mu("ComponentProvider","Removing Datastore"),xg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Dg(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Cg(e,Og))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Ou.MOCK_USER;else{u=lt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Ku(qu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Ou(c)}e._authCredentials=new Qu(new Wu(u,s))}}var Pg=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Lg=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Mg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Mg=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,zl(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Lg(this.firestore,null,new fs(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Pg);function Fg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nt(e),Ig("collection","path",t),e instanceof Og){var a=ss.fromString.apply(ss,[t].concat(r));return Ag(a),new Mg(e,null,a)}if(!(e instanceof Lg||e instanceof Mg))throw new Ku(qu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ss.fromString.apply(ss,[t].concat(r)));return Ag(o),new Mg(e.firestore,null,o)}function Ug(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nt(e),1===arguments.length&&(t=ts.V()),Ig("doc","path",t),e instanceof Og){var a=ss.fromString.apply(ss,[t].concat(r));return Tg(a),new Lg(e,null,new fs(a))}if(!(e instanceof Lg||e instanceof Mg))throw new Ku(qu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ss.fromString.apply(ss,[t].concat(r)));return Tg(o),new Lg(e.firestore,e instanceof Mg?e.converter:null,new fs(o))}function jg(e,t){return e=Nt(e),t=Nt(t),(e instanceof Lg||e instanceof Mg)&&(t instanceof Lg||t instanceof Mg)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bg(e,t){return e=Nt(e),t=Nt(t),e instanceof Pg&&t instanceof Pg&&e.firestore===t.firestore&&Xl(e._query,t._query)&&e.converter===t.converter}var zg=function(){function e(){var t=this;d(this,e),this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new Dv(this,"async_queue_retry"),this.Xa=function(){var e=Rv();e&&Mu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ko.No()};var n=Rv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xa)}return y(e,[{key:"isShuttingDown",get:function(){return this.za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.eu(),this.tu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.za){this.za=!0,this.Ya=e||!1;var t=Rv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xa)}}},{key:"enqueue",value:function(e){var t=this;if(this.eu(),this.za)return new Promise((function(){}));var n=new Hu;return this.tu((function(){return t.za&&t.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ga.push(e),t.nu()}))}},{key:"nu",value:function(){var e=Ze(Xe().mark((function e(){var t=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ga.length){e.next=14;break}return e.prev=1,e.next=4,this.Ga[0]();case 4:this.Ga.shift(),this.Ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ns(e.t0)){e.next=12;break}throw e.t0;case 12:Mu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ga.length>0&&this.Ko.xo((function(){return t.nu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"tu",value:function(e){var t=this,n=this.Wa.then((function(){return t.Ja=!0,e().catch((function(e){t.Ha=e,t.Ja=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ja=!1,e}))}));return this.Wa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.eu(),this.Za.indexOf(e)>-1&&(t=0);var i=Am.createAndSchedule(this,e,t,n,(function(e){return r.ru(e)}));return this.ja.push(i),i}},{key:"eu",value:function(){this.Ha&&Bu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"iu",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Wa,e.next=3,t;case 3:if(t!==this.Wa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(e){var t,n=A(this.ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ou",value:function(e){var t=this;return this.iu().then((function(){t.ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=A(t.ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.iu()}))}},{key:"_u",value:function(e){this.Za.push(e)}},{key:"ru",value:function(e){var t=this.ja.indexOf(e);this.ja.splice(t,1)}}]),e}();function Vg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=A(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var qg=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new Hu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Kg=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new zg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||Wg(this),this._firestoreClient.terminate()}}]),n}(Og);function Hg(e){return e._firestoreClient||Wg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Wg(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Lc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_g(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new rg(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Gg(e,t,n){var r=new Hu;return e.asyncQueue.enqueue(Ze(Xe().mark((function i(){var a;return Xe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ig(e,n);case 3:return i.next=5,og(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),sg(a=i.t0)){i.next=13;break}throw a;case 13:Uu("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Qg(e){return function(e){var t=new Hu;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=vy,n.next=3,mg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Hg(e=Cg(e,Kg)))}function Jg(e){return function(e){return e.asyncQueue.enqueue(Ze(Xe().mark((function t(){var n,r;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dg(e);case 2:return n=t.sent,t.next=5,vg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Vu(e);return t.y_.delete(0),Bv(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Hg(e=Cg(e,Kg)))}function Xg(e){return function(e){return e.asyncQueue.enqueue(Ze(Xe().mark((function t(){var n,r;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dg(e);case 2:return n=t.sent,t.next=5,vg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Vu(t)).y_.add(0),e.next=4,Vv(n);case 4:n.b_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Hg(e=Cg(e,Kg)))}function Yg(e,t){var n=Hg(e=Cg(e,Kg)),r=new qg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new eg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Zy(e,t);if(e instanceof ArrayBuffer)return Zy(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?oh().encode(e):e),t)}(n,Ov(t));e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gy,t.next=3,mg(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Zg(e,t){return function(e,t){return e.asyncQueue.enqueue(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Vu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qr.getNamedQuery(e,t)}))},n.next=3,pg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Hg(e=Cg(e,Kg)),t).then((function(t){return t?new Pg(e,null,t.query):null}))}function $g(e){if(e._initialized||e._terminated)throw new Ku(qu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ek=function(){function e(t){d(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ac.fromBase64String(t))}catch(t){throw new Ku(qu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ac.fromUint8Array(t))}}]),e}(),tk=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ku(qu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ls(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nk=y((function e(t){d(this,e),this._methodName=t})),rk=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new Ku(qu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ku(qu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ns(this._lat,e._lat)||ns(this._long,e._long)}}]),e}(),ik=/^__.*__$/,ak=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Kf(e,this.data,this.fieldMask,t,this.fieldTransforms):new qf(e,this.data,t,this.fieldTransforms)}}]),e}(),ok=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new Kf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function uk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bu()}}var sk=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.au(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"uu",get:function(){return this.settings.uu}},{key:"cu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"lu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.Pu(e),r}},{key:"Iu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.au(),r}},{key:"Tu",value:function(e){return this.cu({path:void 0,hu:!0})}},{key:"Eu",value:function(e){return Sk(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"au",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}},{key:"Pu",value:function(e){if(0===e.length)throw this.Eu("Document fields must not be empty");if(uk(this.uu)&&ik.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}]),e}(),ck=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ov(t)}return y(e,[{key:"Ru",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sk({uu:e,methodName:t,Au:n,path:ls.emptyPath(),hu:!1,du:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function lk(e){var t=e._freezeSettings(),n=Ov(e._databaseId);return new ck(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Ru(a.merge||a.mergeFields?2:0,t,n,i);Ik("Data must be an object, but it was:",o,r);var u,s,c=_k(r,o);if(a.merge)u=new Ec(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=A(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Ek(t,l.value,n);if(!o.contains(d))throw new Ku(qu.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Ck(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Ec(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new ak(new il(c),u,s)}var hk=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.uu)throw 1===e.uu?e.Eu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Eu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nk);function dk(e,t,n){return new sk({uu:3,Au:t.settings.Au,methodName:e._methodName,hu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var pk=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new Df(e.path,new Ef)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nk),vk=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Vu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=dk(this,e,!0),n=this.Vu.map((function(e){return wk(e,t)})),r=new Tf(n);return new Df(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nk),mk=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Vu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=dk(this,e,!0),n=this.Vu.map((function(e){return wk(e,t)})),r=new Sf(n);return new Df(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nk),yk=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).mu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new Nf(e.serializer,bf(e.serializer,this.mu));return new Df(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nk);function gk(e,t,n,r){var i=e.Ru(1,t,n);Ik("Data must be an object, but it was:",i,r);var a=[],o=il.empty();yc(r,(function(e,r){var u=Ak(t,e,n);r=Nt(r);var s=i.Iu(u);if(r instanceof hk)a.push(u);else{var c=wk(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ec(a);return new ok(o,u,i.fieldTransforms)}function kk(e,t,n,r,i,a){var o=e.Ru(1,t,n),u=[Ek(t,r,n)],s=[i];if(a.length%2!=0)throw new Ku(qu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Ek(t,a[c])),s.push(a[c+1]);for(var l=[],f=il.empty(),h=u.length-1;h>=0;--h)if(!Ck(l,u[h])){var d=u[h],p=s[h];p=Nt(p);var v=o.Iu(d);if(p instanceof hk)l.push(d);else{var m=wk(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ec(l);return new ok(f,y,o.fieldTransforms)}function bk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wk(n,e.Ru(r?4:3,t))}function wk(e,t){if(xk(e=Nt(e)))return Ik("Unsupported field value:",t,e),_k(e,t);if(e instanceof nk)return function(e,t){if(!uk(t.uu))throw t.Eu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Eu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&4!==t.uu)throw t.Eu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=A(e);try{for(a.s();!(n=a.n()).done;){var o=wk(n.value,t.Tu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Nt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=as.fromDate(e);return{timestampValue:Th(t.serializer,n)}}if(e instanceof as){var r=new as(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Th(t.serializer,r)}}if(e instanceof rk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ek)return{bytesValue:Ah(t.serializer,e._byteString)};if(e instanceof Lg){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Eu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Nh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Eu("Unsupported field value: ".concat(Sg(e)))}(e,t)}function _k(e,t){var n={};return gc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yc(e,(function(e,r){var i=wk(r,t.lu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof as||e instanceof rk||e instanceof ek||e instanceof Lg||e instanceof nk)}function Ik(e,t,n){if(!xk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Sg(n);throw"an object"===r?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function Ek(e,t,n){if((t=Nt(t))instanceof tk)return t._internalPath;if("string"==typeof t)return Ak(e,t);throw Sk("Field path arguments must be of type string or ",e,!1,void 0,n)}var Tk=new RegExp("[~\\*/\\[\\]]");function Ak(e,t,n){if(t.search(Tk)>=0)throw Sk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(tk,h(t.split(".")))._internalPath}catch(wr){throw Sk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Sk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Ku(qu.INVALID_ARGUMENT,u+e+s)}function Ck(e,t){return e.some((function(e){return e.isEqual(t)}))}var Nk=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Lg(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Rk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Ok("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Rk=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return ur(b(n.prototype),"data",this).call(this)}}]),n}(Nk);function Ok(e,t){return"string"==typeof t?Ak(e,t):t instanceof tk?t._internalPath:t._delegate._internalPath}function Dk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ku(qu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pk=y((function e(){d(this,e)})),Lk=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(Pk);function Mk(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Pk&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Uk})).length,n=e.filter((function(e){return e instanceof Fk})).length;if(t>1||t>0&&n>0)throw new Ku(qu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=A(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var Fk=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Xk(e._query,t),new Pg(e.firestore,e.converter,Ql(e._query,t))}},{key:"_parse",value:function(e){var t=lk(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ku(qu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Jk(o,a);var s,c=[],l=A(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Qk(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Qk(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Jk(o,a),u=bk(n,t,o,"in"===a||"not-in"===a);return dl.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Lk);var Uk=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:pl.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=A(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Xk(r,a),r=Ql(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Pg(e.firestore,e.converter,Ql(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Pk);var jk=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ll(t,n);return function(e,t){if(null===ql(e)){var n=Kl(e);null!==n&&Yk(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Pg(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new jl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Lk);var Bk=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new Pg(e.firestore,e.converter,Jl(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Lk);var zk=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=Gk(e,this.type,this._docOrFields,this._inclusive);return new Pg(e.firestore,e.converter,function(e,t){return new jl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Lk);function Vk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zk._create("startAt",t,!0)}function qk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zk._create("startAfter",t,!1)}var Kk=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=Gk(e,this.type,this._docOrFields,this._inclusive);return new Pg(e.firestore,e.converter,function(e,t){return new jl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Lk);function Hk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kk._create("endBefore",t,!1)}function Wk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kk._create("endAt",t,!0)}function Gk(e,t,n,r){if(n[0]=Nt(n[0]),n[0]instanceof Nk)return function(e,t,n,r,i){if(!r)throw new Ku(qu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=A(Wl(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Wc(t,r.key));else{var c=r.data.field(s.field);if(Oc(c))throw new Ku(qu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ul(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=lk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ku(qu.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Hl(e)&&-1!==c.indexOf("/"))throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ss.fromString(c));if(!fs.isDocumentKey(l))throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new fs(l);u.push(Wc(t,f))}else{var h=bk(n,r,c);u.push(h)}}return new ul(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Qk(e,t,n){if("string"==typeof(n=Nt(n))){if(""===n)throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hl(t)&&-1!==n.indexOf("/"))throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ss.fromString(n));if(!fs.isDocumentKey(r))throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wc(e,new fs(r))}if(n instanceof Lg)return Wc(e,n._key);throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Sg(n),"."))}function Jk(e,t){if(!Array.isArray(e)||0===e.length)throw new Ku(qu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Xk(e,t){if(t.isInequality()){var n=Kl(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=ql(e);null!==i&&Yk(e,r,i)}var a=function(e,t){var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var i,a=A(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Ku(qu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ku(qu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Yk(e,t,n){if(!n.isEqual(t))throw new Ku(qu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Zk=function(){function e(){d(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bu()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return yc(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new rk(Nc(e.latitude),Nc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Cc(e);return new as(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ss.fromString(e);zu(ed(n));var r=new Mc(n.get(1),n.get(3)),i=new fs(n.popFirst(5));return r.isEqual(t)||Fu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function $k(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eb=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new ek(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lg(this.firestore,null,t)}}]),n}(Zk);var tb=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),nb=function(e){k(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return y(n,[{key:"exists",value:function(){return ur(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new rb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Ok("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Nk),rb=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ur(b(n.prototype),"data",this).call(this,e)}}]),n}(nb),ib=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new tb(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new rb(n._firestore,n._userDataWriter,r.key,r,new tb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ku(qu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new rb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new rb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ab(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ab(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bu()}}function ob(e,t){return e instanceof nb&&t instanceof nb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ib&&t instanceof ib&&e._firestore===t._firestore&&Bg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var ub=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new ek(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lg(this.firestore,null,t)}}]),n}(Zk);function sb(e){e=Cg(e,Lg);var t=Cg(e.firestore,Kg),n=Hg(t),r=new ub(t);return function(e,t){var n=new Hu;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function r(){return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Vu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ku(qu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Sm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,pg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new nb(t,r,e._key,n,new tb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function cb(e){e=Cg(e,Pg);var t=Cg(e.firestore,Kg),n=Hg(t),r=new ub(t);return Dk(e._query),wg(n,e._query).then((function(n){return new ib(t,r,e,n)}))}function lb(e){e=Cg(e,Pg);var t=Cg(e.firestore,Kg),n=Hg(t),r=new ub(t);return function(e,t){var n=new Hu;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function r(){return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iv(t,n,!0);case 3:i=e.sent,a=new Qm(n,i.ss),o=a.sa(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Sm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,pg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new ib(t,r,e,n)}))}function fb(e){e=Cg(e,Pg);var t=Cg(e.firestore,Kg),n=Hg(t),r=new ub(t);return wg(n,e._query,{source:"server"}).then((function(n){return new ib(t,r,e,n)}))}function hb(e,t,n){e=Cg(e,Lg);var r=Cg(e.firestore,Kg),i=$k(e.converter,t,n);return mb(r,[fk(lk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lf.none())])}function db(e,t,n){e=Cg(e,Lg);for(var r=Cg(e.firestore,Kg),i=lk(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return mb(r,[("string"==typeof(t=Nt(t))||t instanceof tk?kk(i,"updateDoc",e._key,t,n,o):gk(i,"updateDoc",e._key,t)).toMutation(e._key,Lf.exists(!0))])}function pb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Nt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Vg(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Vg(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Lg)l=Cg(e.firestore,Kg),f=zl(e._key.path),c={next:function(t){n[s]&&n[s](yb(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Cg(e,Pg);l=Cg(p.firestore,Kg),f=p._query;var v=new ub(l);c={next:function(e){n[s]&&n[s](new ib(l,v,p,e))},error:n[s+1],complete:n[s+2]},Dk(e._query)}return function(e,t,n,r){var i=new $y(r),a=new zm(t,i,n);return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Pm,t.next=3,gg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ca(),e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Mm,t.next=3,gg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Hg(l),f,h,c)}function vb(e,t){return function(e,t){var n=new $y(t);return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Vu(e).O_.add(t),t.next()},t.next=3,gg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ca(),e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Vu(e).O_.delete(t)},t.next=3,gg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Hg(e=Cg(e,Kg)),Vg(t)?t:{next:t})}function mb(e,t){return function(e,t){var n=new Hu;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function r(){return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=iy,r.next=3,mg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Hg(e),t)}function yb(e,t,n){var r=n.docs.get(t._key),i=new ub(e);return new nb(e,i,t._key,r,new tb(n.hasPendingWrites,n.fromCache),t.converter)}var gb={maxAttempts:5},kb=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lk(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=bb(e,this._firestore),i=$k(r.converter,t,n),a=fk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Lf.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=bb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nt(t))||t instanceof tk?kk(this._dataReader,"WriteBatch.update",i._key,t,n,o):gk(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Lf.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=bb(e,this._firestore);return this._mutations=this._mutations.concat(new Xf(t._key,Lf.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ku(qu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function bb(e,t){if((e=Nt(e)).firestore!==t)throw new Ku(qu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var wb=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=bb(e,this._firestore),i=new ub(this._firestore);return ur(b(n.prototype),"get",this).call(this,e).then((function(e){return new nb(t._firestore,i,r._key,e._document,new tb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=lk(t)}return y(e,[{key:"get",value:function(e){var t=this,n=bb(e,this._firestore),r=new eb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Bu();var i=e[0];if(i.isFoundDocument())return new Nk(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Nk(t._firestore,r,n._key,null,n.converter);throw Bu()}))}},{key:"set",value:function(e,t,n){var r=bb(e,this._firestore),i=$k(r.converter,t,n),a=fk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=bb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nt(t))||t instanceof tk?kk(this._dataReader,"Transaction.update",i._key,t,n,o):gk(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=bb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function _b(e,t,n){e=Cg(e,Kg);var r=Object.assign(Object.assign({},gb),n);return function(e){if(e.maxAttempts<1)throw new Ku(qu.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Hu;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function i(){var a;return Xe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,yg(e);case 2:a=i.sent,new ng(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Hg(e),(function(n){return t(new wb(e,n))}),r)}function xb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vk("arrayUnion",t)}function Ib(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Du=e}(Sn),wn(new Rt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Kg(new Ju(e.getProvider("auth-internal")),new $u(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ku(qu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Pn(Ru,"4.1.0",e),Pn(Ru,"4.1.0","esm2017")}();function Eb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ku("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Tb(){if("undefined"===typeof Uint8Array)throw new Ku("unimplemented","Uint8Arrays are not available in this environment.")}function Ab(){if("undefined"==typeof atob)throw new Ku("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Sb=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return Ab(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Tb(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Ab(),new e(ek.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Tb(),new e(ek.fromUint8Array(t))}}]),e}();function Cb(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=A(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Nb=function(){function e(){d(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){$g(e=Cg(e,Kg));var n=Hg(e);if(n._uninitializedComponentsProvider)throw new Ku(qu.FAILED_PRECONDITION,"SDK cache is already specified.");Uu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new Yy;return Gg(n,i,new Jy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){$g(e=Cg(e,Kg));var t=Hg(e);if(t._uninitializedComponentsProvider)throw new Ku(qu.FAILED_PRECONDITION,"SDK cache is already specified.");Uu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new Yy;return Gg(t,r,new Xy(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ku(qu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Hu;return e._queue.enqueueAndForgetEvenWhileRestricted(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(As.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,As.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(qp(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Rb=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Mc||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Uu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Dg(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Jg(this._delegate)}},{key:"disableNetwork",value:function(){return Xg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Eg("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Qg(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return vb(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ku("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Hb(this,Fg(this._delegate,e))}catch(t){throw Fb(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Mb(this,Ug(this._delegate,e))}catch(t){throw Fb(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Vb(this,function(e,t){if(e=Cg(e,Og),Ig("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ku(qu.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Pg(e,null,function(e){return new jl(ss.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Fb(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return _b(this._delegate,(function(n){return e(new Db(t,n))}))}},{key:"batch",value:function(){var e=this;return Hg(this._delegate),new Pb(new kb(this._delegate,(function(t){return mb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Yg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Zg(this._delegate,e).then((function(e){return e?new Vb(t,e):null}))}}]),e}(),Ob=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new Sb(new ek(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Mb.forKey(t,this.firestore,null)}}]),n}(Zk);var Db=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Ob(t)}return y(e,[{key:"get",value:function(e){var t=this,n=Wb(e);return this._delegate.get(n).then((function(e){return new Bb(t._firestore,new nb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Wb(e);return n?(Eb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Wb(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Wb(e);return this._delegate.delete(t),this}}]),e}(),Pb=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=Wb(e);return n?(Eb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Wb(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Wb(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Lb=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new rb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zb(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Ob(t),n),i.set(n,a)),a}}]),e}();Lb.INSTANCES=new WeakMap;var Mb=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ob(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Hb(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Hb(this.firestore,Fg(this._delegate,e))}catch(t){throw Fb(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Nt(e))instanceof Lg&&jg(this._delegate,e)}},{key:"set",value:function(e,t){t=Eb("DocumentReference.set",t);try{return t?hb(this._delegate,e,t):hb(this._delegate,e)}catch(n){throw Fb(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?db(this._delegate,e):db.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Fb(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return mb(Cg((e=this._delegate).firestore,Kg),[new Xf(e._key,Lf.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ub(n),a=jb(n,(function(t){return new Bb(e.firestore,new nb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return pb(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?sb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Cg(e,Lg);var t=Cg(e.firestore,Kg);return bg(Hg(t),e._key,{source:"server"}).then((function(n){return yb(t,e,n)}))}(this._delegate):function(e){e=Cg(e,Lg);var t=Cg(e.firestore,Kg);return bg(Hg(t),e._key).then((function(n){return yb(t,e,n)}))}(this._delegate)).then((function(e){return new Bb(t.firestore,new nb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Lb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ku("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Lg(n._delegate,r,new fs(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Lg(n._delegate,r,t))}}]),e}();function Fb(e,t,n){return e.message=e.message.replace(t,n),e}function Ub(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Cb(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function jb(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Cb(e[0])?e[0]:Cb(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Bb=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new Mb(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return ob(this._delegate,e._delegate)}}]),e}(),zb=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Bu(),t}}]),n}(Bb),Vb=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ob(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Mk(this._delegate,function(e,t,n){var r=t,i=Ok("where",e);return Fk._create(i,r,n)}(t,n,r)))}catch(i){throw Fb(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Mk(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ok("orderBy",e);return jk._create(n,t)}(t,n)))}catch(r){throw Fb(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Mk(this._delegate,(Ng("limit",n=t),Bk._create("limit",n,"F"))))}catch(n){throw Fb(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Mk(this._delegate,(Ng("limitToLast",n=t),Bk._create("limitToLast",n,"L"))))}catch(n){throw Fb(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,Mk(this._delegate,Vk.apply(void 0,arguments)))}catch(t){throw Fb(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Mk(this._delegate,qk.apply(void 0,arguments)))}catch(t){throw Fb(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Mk(this._delegate,Hk.apply(void 0,arguments)))}catch(t){throw Fb(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Mk(this._delegate,Wk.apply(void 0,arguments)))}catch(t){throw Fb(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Bg(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?lb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?fb(this._delegate):cb(this._delegate)).then((function(e){return new Kb(t.firestore,new ib(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ub(n),a=jb(n,(function(t){return new Kb(e.firestore,new ib(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return pb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Lb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),qb=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new zb(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Kb=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new Vb(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new zb(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new qb(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new zb(n._firestore,r))}))}},{key:"isEqual",value:function(e){return ob(this._delegate,e._delegate)}}]),e}(),Hb=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Mb(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Mb(this.firestore,void 0===e?Ug(this._delegate):Ug(this._delegate,e))}catch(t){throw Fb(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Cg(e.firestore,Kg),r=Ug(e),i=$k(e.converter,t);return mb(n,[fk(lk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lf.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Mb(t.firestore,e)}))}},{key:"isEqual",value:function(e){return jg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Lb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Vb);function Wb(e){return Cg(e,Lg)}var Gb,Qb=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(tk,n)}return y(e,[{key:"isEqual",value:function(e){return(e=Nt(e))instanceof tk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ls.keyField().canonicalString())}}]),e}(),Jb=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new pk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new hk("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=xb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Ib.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new yk("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Xb={Firestore:Rb,GeoPoint:rk,Timestamp:as,Blob:Sb,Transaction:Db,WriteBatch:Pb,DocumentReference:Mb,DocumentSnapshot:Bb,Query:Vb,QueryDocumentSnapshot:zb,QuerySnapshot:Kb,CollectionReference:Hb,FieldPath:Qb,FieldValue:Jb,setLogLevel:function(e){var t;t=e,Pu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Rt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Xb)))})(Gb=or,(function(e,t){return new Rb(e,t,new Nb)})),Gb.registerVersion("@firebase/firestore-compat","0.3.14");function Yb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Zb,$b={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ew="EMAIL_SIGNIN",tw="PASSWORD_RESET",nw="RECOVER_EMAIL",rw="REVERT_SECOND_FACTOR_ADDITION",iw="VERIFY_AND_CHANGE_EMAIL",aw="VERIFY_EMAIL";function ow(){return $e({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var uw=function(){var e;return $e(e={},"admin-restricted-operation","This operation is restricted to administrators only."),$e(e,"argument-error",""),$e(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),$e(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),$e(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),$e(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),$e(e,"cordova-not-ready","Cordova framework is not ready."),$e(e,"cors-unsupported","This browser is not supported."),$e(e,"credential-already-in-use","This credential is already associated with a different user account."),$e(e,"custom-token-mismatch","The custom token corresponds to a different audience."),$e(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),$e(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),$e(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),$e(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),$e(e,"email-already-in-use","The email address is already in use by another account."),$e(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),$e(e,"expired-action-code","The action code has expired."),$e(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),$e(e,"internal-error","An internal AuthError has occurred."),$e(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),$e(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),$e(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),$e(e,"invalid-auth-event","An internal AuthError has occurred."),$e(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),$e(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),$e(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),$e(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),$e(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),$e(e,"invalid-email","The email address is badly formatted."),$e(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),$e(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),$e(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),$e(e,"invalid-credential","The supplied auth credential is malformed or has expired."),$e(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),$e(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),$e(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),$e(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),$e(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),$e(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),$e(e,"wrong-password","The password is invalid or the user does not have a password."),$e(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),$e(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),$e(e,"invalid-provider-id","The specified provider ID is invalid."),$e(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),$e(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),$e(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),$e(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),$e(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),$e(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),$e(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),$e(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),$e(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),$e(e,"missing-continue-uri","A continue URL must be provided in the request."),$e(e,"missing-iframe-start","An internal AuthError has occurred."),$e(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),$e(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),$e(e,"missing-password","A non-empty password must be provided"),$e(e,"missing-multi-factor-info","No second factor identifier is provided."),$e(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),$e(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),$e(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),$e(e,"app-deleted","This instance of FirebaseApp has been deleted."),$e(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),$e(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),$e(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),$e(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),$e(e,"no-auth-event","An internal AuthError has occurred."),$e(e,"no-such-provider","User was not linked to an account with the given provider."),$e(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),$e(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),$e(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),$e(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),$e(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),$e(e,"provider-already-linked","User can only be linked to one identity for the given provider."),$e(e,"quota-exceeded","The project's quota for this operation has been exceeded."),$e(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),$e(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),$e(e,"rejected-credential","The request contains malformed or mismatching credentials."),$e(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),$e(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),$e(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),$e(e,"timeout","The operation has timed out."),$e(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),$e(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),$e(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),$e(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),$e(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),$e(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),$e(e,"unverified-email","The operation requires a verified email."),$e(e,"user-cancelled","The user did not grant your application the permissions it requested."),$e(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),$e(e,"user-disabled","The user account has been disabled by an administrator."),$e(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),$e(e,"user-signed-out",""),$e(e,"weak-password","The password must be 6 characters long or more."),$e(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),$e(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),$e(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),$e(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),$e(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),$e(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),$e(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),$e(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),$e(e,"invalid-req-type","Invalid request parameters."),$e(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},sw=ow,cw=new gt("auth","Firebase",ow()),lw=new Vt("@firebase/auth");function fw(e){if(lw.logLevel<=Lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lw.warn.apply(lw,["Auth (".concat(Sn,"): ").concat(e)].concat(n))}}function hw(e){if(lw.logLevel<=Lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lw.error.apply(lw,["Auth (".concat(Sn,"): ").concat(e)].concat(n))}}function dw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw yw.apply(void 0,[e].concat(n))}function pw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return yw.apply(void 0,[e].concat(n))}function vw(e,t,n){var r=Object.assign(Object.assign({},sw()),$e({},t,n));return new gt("auth","Firebase",r).create(t,{appName:e.name})}function mw(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dw(e,"argument-error"),vw(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function yw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return cw.create.apply(cw,[e].concat(n))}function gw(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw yw.apply(void 0,[t].concat(r))}}function kw(e){var t="INTERNAL ASSERTION FAILED: "+e;throw hw(t),new Error(t)}function bw(e,t){e||kw(t)}function ww(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _w(){return"http:"===xw()||"https:"===xw()}function xw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Iw=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,bw(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())||pt()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_w()||dt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ew(e,t){bw(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Tw=function(){function e(){d(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void kw("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void kw("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void kw("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Aw=($e(Zb={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),$e(Zb,"MISSING_CUSTOM_TOKEN","internal-error"),$e(Zb,"INVALID_IDENTIFIER","invalid-email"),$e(Zb,"MISSING_CONTINUE_URI","internal-error"),$e(Zb,"INVALID_PASSWORD","wrong-password"),$e(Zb,"MISSING_PASSWORD","missing-password"),$e(Zb,"EMAIL_EXISTS","email-already-in-use"),$e(Zb,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),$e(Zb,"INVALID_IDP_RESPONSE","invalid-credential"),$e(Zb,"INVALID_PENDING_TOKEN","invalid-credential"),$e(Zb,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),$e(Zb,"MISSING_REQ_TYPE","internal-error"),$e(Zb,"EMAIL_NOT_FOUND","user-not-found"),$e(Zb,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),$e(Zb,"EXPIRED_OOB_CODE","expired-action-code"),$e(Zb,"INVALID_OOB_CODE","invalid-action-code"),$e(Zb,"MISSING_OOB_CODE","internal-error"),$e(Zb,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),$e(Zb,"INVALID_ID_TOKEN","invalid-user-token"),$e(Zb,"TOKEN_EXPIRED","user-token-expired"),$e(Zb,"USER_NOT_FOUND","user-token-expired"),$e(Zb,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),$e(Zb,"INVALID_CODE","invalid-verification-code"),$e(Zb,"INVALID_SESSION_INFO","invalid-verification-id"),$e(Zb,"INVALID_TEMPORARY_PROOF","invalid-credential"),$e(Zb,"MISSING_SESSION_INFO","missing-verification-id"),$e(Zb,"SESSION_EXPIRED","code-expired"),$e(Zb,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),$e(Zb,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),$e(Zb,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),$e(Zb,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),$e(Zb,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),$e(Zb,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),$e(Zb,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),$e(Zb,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),$e(Zb,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),$e(Zb,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),$e(Zb,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),$e(Zb,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),$e(Zb,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),$e(Zb,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),$e(Zb,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),$e(Zb,"MISSING_CLIENT_TYPE","missing-client-type"),$e(Zb,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),$e(Zb,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),$e(Zb,"INVALID_REQ_TYPE","invalid-req-type"),Zb),Sw=new Iw(3e4,6e4);function Cw(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Nw(e,t,n,r){return Rw.apply(this,arguments)}function Rw(){return Rw=Ze(Xe().mark((function e(t,n,r,i){var a,o=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ow(t,a,Ze(Xe().mark((function e(){var a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=It(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Tw.fetch()(Mw(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Ow(e,t,n){return Dw.apply(this,arguments)}function Dw(){return Dw=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Aw),n),e.prev=2,a=new Fw(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Uw(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Uw(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Uw(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Uw(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw vw(t,p,d);case 34:dw(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof yt)){e.next=41;break}throw e.t0;case 41:dw(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Dw.apply(this,arguments)}function Pw(e,t,n,r){return Lw.apply(this,arguments)}function Lw(){return Lw=Ze(Xe().mark((function e(t,n,r,i){var a,o,u=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Nw(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&dw(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Mw(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ew(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Fw=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(pw(n.auth,"network-request-failed"))}),Sw.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Uw(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=pw(e,t,r);return i.customData._tokenResponse=n,i}function jw(e,t){return Bw.apply(this,arguments)}function Bw(){return Bw=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function zw(e,t){return Vw.apply(this,arguments)}function Vw(){return Vw=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vw.apply(this,arguments)}function qw(e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Hw(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ww(){return Ww=Ze(Xe().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Nt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,gw((a=Qw(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Hw(Gw(a.auth_time)),issuedAtTime:Hw(Gw(a.iat)),expirationTime:Hw(Gw(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Gw(e){return 1e3*Number(e)}function Qw(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return hw("JWT malformed, contained fewer than 3 sections"),null;try{var a=it(r);return a?JSON.parse(a):(hw("Failed to decode base64 JWT payload"),null)}catch(o){return hw("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Jw(e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=Ze(Xe().mark((function e(t,n){var r=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof yt&&Yw(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Xw.apply(this,arguments)}function Yw(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Zw=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),$w=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Hw(this.lastLoginAt),this.creationTime=Hw(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function e_(e){return t_.apply(this,arguments)}function t_(){return t_=Ze(Xe().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Jw(t,qw(r,{idToken:i}));case 6:gw(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Yb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=r_(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new $w(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(){return(n_=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nt(t),e.next=3,e_(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r_(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ow(t,{},Ze(Xe().mark((function e(){var r,i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=It({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Mw(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Tw.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}var o_=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){gw(e.idToken,"internal-error"),gw("undefined"!==typeof e.idToken,"internal-error"),gw("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Qw(e);return gw(t,"internal-error"),gw("undefined"!==typeof t.exp,"internal-error"),gw("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ze(Xe().mark((function e(t){var n,r=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],gw(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i_(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return kw("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(gw("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(gw("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(gw("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function u_(e,t){gw("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var s_=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Yb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new $w(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jw(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(gw(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ww.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return n_.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(gw(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){gw(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,e_(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Jw(this,jw(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;gw(k&&x,t,"internal-error");var I=o_.fromJSON(this.name,x);gw("string"===typeof k,t,"internal-error"),u_(f,t.name),u_(h,t.name),gw("boolean"===typeof b,t,"internal-error"),gw("boolean"===typeof w,t,"internal-error"),u_(d,t.name),u_(p,t.name),u_(v,t.name),u_(m,t.name),u_(y,t.name),u_(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ze(Xe().mark((function t(n,r){var i,a,o,u=arguments;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new o_).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,e_(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),c_=new Map;function l_(e){bw(e instanceof Function,"Expected a class definition");var t=c_.get(e);return t?(bw(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,c_.set(e,t),t)}var f_=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();f_.type="NONE";var h_=f_;function d_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var p_=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=d_(this.userKey,a.apiKey,o),this.fullPersistenceKey=d_("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?s_._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ze(Xe().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(l_(h_),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||l_(h_),u=d_(i,n.config.apiKey,n.name),s=null,c=A(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=s_._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function v_(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(m_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(w_(t))return"Blackberry";if(__(t))return"Webos";if(y_(t))return"Safari";if((t.includes("chrome/")||g_(t))&&!t.includes("edge/"))return"Chrome";if(b_(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function m_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/firefox\//i.test(e)}function y_(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/crios\//i.test(e)}function k_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/iemobile/i.test(e)}function b_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/android/i.test(e)}function w_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/blackberry/i.test(e)}function __(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/webos/i.test(e)}function x_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function I_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return x_(e)||b_(e)||__(e)||w_(e)||/windows phone/i.test(e)||k_(e)}function E_(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=v_(ft());break;case"Worker":t="".concat(v_(ft()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sn,"/").concat(r)}function T_(e){return A_.apply(this,arguments)}function A_(){return A_=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nw(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),A_.apply(this,arguments)}function S_(e,t){return C_.apply(this,arguments)}function C_(){return C_=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"GET","/v2/recaptchaConfig",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),C_.apply(this,arguments)}function N_(e){return void 0!==e&&void 0!==e.getResponse}function R_(e){return void 0!==e&&void 0!==e.enterprise}var O_=y((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function D_(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=pw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function P_(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var L_=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=B_(t)}return y(e,[{key:"verify",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;R_(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Ze(Xe().mark((function e(n,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S_(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new O_(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&R_(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));D_("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function M_(e,t,n){return F_.apply(this,arguments)}function F_(){return F_=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new L_(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),F_.apply(this,arguments)}var U_=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return y(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=A(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=A(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),j_=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new U_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=l_(t)),this._initializationPromise=this.queue(Ze(Xe().mark((function r(){var i,a;return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,p_.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return gw(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,e_(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Nt(t):null)&&gw(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ze(Xe().mark((function e(t){var n,r=this,i=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&gw(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(l_(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S_(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new O_(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new L_(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new gt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return gw(n=t&&l_(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,p_.create(this,[l_(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ze(Xe().mark((function e(t){var n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return gw(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return gw(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E_(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$e({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&fw("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function B_(e){return Nt(e)}var z_=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=At((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return gw(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function V_(e,t,n){var r=B_(e);gw(r._canInitEmulator,r,"emulator-config-failed"),gw(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=q_(t),o=function(e){var t=q_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:K_(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:K_(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function q_(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function K_(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var H_=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return kw("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return kw("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return kw("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return kw("not implemented")}}]),e}();function W_(e,t){return G_.apply(this,arguments)}function G_(){return G_=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:resetPassword",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function Q_(e,t){return J_.apply(this,arguments)}function J_(){return J_=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),J_.apply(this,arguments)}function X_(e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:update",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Y_.apply(this,arguments)}function Z_(e,t){return $_.apply(this,arguments)}function $_(){return $_=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pw(t,"POST","/v1/accounts:signInWithPassword",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function ex(e,t){return tx.apply(this,arguments)}function tx(){return tx=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:sendOobCode",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ex(t,n));case 1:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e,t){return ax.apply(this,arguments)}function ax(){return ax=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ex(t,n));case 1:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e,t){return ux.apply(this,arguments)}function ux(){return ux=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ex(t,n));case 1:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e,t){return cx.apply(this,arguments)}function cx(){return cx=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ex(t,n));case 1:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(e,t){return fx.apply(this,arguments)}function fx(){return fx=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pw(t,"POST","/v1/accounts:signInWithEmailLink",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function hx(e,t){return dx.apply(this,arguments)}function dx(){return dx=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pw(t,"POST","/v1/accounts:signInWithEmailLink",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}var px=function(e){k(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,M_(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Z_(t,i));case 11:return e.abrupt("return",Z_(t,r).catch(function(){var e=Ze(Xe().mark((function e(n){var i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,M_(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Z_(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",lx(t,{email:this._email,oobCode:this._password}));case 13:dw(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Q_(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",hx(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:dw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(H_);function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pw(t,"POST","/v1/accounts:signInWithIdp",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}var yx=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return vx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vx(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=It(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dw("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Yb(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(H_);function gx(e,t){return kx.apply(this,arguments)}function kx(){return kx=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:sendVerificationCode",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(){return bx=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pw(t,"POST","/v1/accounts:signInWithPhoneNumber",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),bx.apply(this,arguments)}function wx(){return wx=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pw(t,"POST","/v1/accounts:signInWithPhoneNumber",Cw(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Uw(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}var _x=$e({},"USER_NOT_FOUND","user-not-found");function xx(){return xx=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Pw(t,"POST","/v1/accounts:signInWithPhoneNumber",Cw(t,r),_x));case 2:case"end":return e.stop()}}),e)}))),xx.apply(this,arguments)}var Ix=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return bx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return wx.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return xx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(H_);var Ex=function(){function e(t){var n,r,i,a,o,u;d(this,e);var s=Et(Tt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);gw(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Et(Tt(e)).link,n=t?Et(Tt(t)).deep_link_id:null,r=Et(Tt(e)).deep_link_id;return(r?Et(Tt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Tx=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return px._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ex.parseLink(t);return gw(n,"argument-error"),px._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Tx.PROVIDER_ID="password",Tx.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ax=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Sx=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Ax),Cx=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return gw(e.idToken||e.accessToken,"argument-error"),yx._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return gw("providerId"in t&&"signInMethod"in t,"argument-error"),yx._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Sx),Nx=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return yx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Sx);Nx.FACEBOOK_SIGN_IN_METHOD="facebook.com",Nx.PROVIDER_ID="facebook.com";var Rx=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return yx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Sx);Rx.GOOGLE_SIGN_IN_METHOD="google.com",Rx.PROVIDER_ID="google.com";var Ox=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return yx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Sx);Ox.GITHUB_SIGN_IN_METHOD="github.com",Ox.PROVIDER_ID="github.com";var Dx=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return vx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vx(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(H_),Px=function(e){k(n,e);var t=x(n);function n(e){return d(this,n),gw(e.startsWith("saml."),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Dx.fromJSON(e);return gw(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Dx._create(r,n)}catch(i){return null}}}]),n}(Ax),Lx=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return yx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Sx);function Mx(e,t){return Fx.apply(this,arguments)}function Fx(){return Fx=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pw(t,"POST","/v1/accounts:signUp",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}Lx.TWITTER_SIGN_IN_METHOD="twitter.com",Lx.PROVIDER_ID="twitter.com";var Ux=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ze(Xe().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,s_._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=jx(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ze(Xe().mark((function t(n,r,i){var a;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=jx(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function jx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Bx(){return Bx=Ze(Xe().mark((function e(t){var n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B_(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ux({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Mx(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ux._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}var zx=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o,u;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(yt);function Vx(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw zx._fromErrorAndOperation(e,n,t,r);throw n}))}function qx(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Kx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nt(t),e.next=3,Qx(!0,r,n);case 3:return e.t0=zw,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=qx(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Wx(e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=Ze(Xe().mark((function e(t,n){var r,i,a=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Jw,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ux._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Qx(e,t,n){return Jx.apply(this,arguments)}function Jx(){return(Jx=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,e_(n);case 2:i=qx(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",gw(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xx(e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=Ze(Xe().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Jw(t,Vx(i,a,n,t),r);case 6:return gw((o=e.sent).idToken,i,"internal-error"),gw(u=Qw(o.idToken),i,"internal-error"),s=u.sub,gw(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ux._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&dw(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Yx.apply(this,arguments)}function Zx(e,t){return $x.apply(this,arguments)}function $x(){return $x=Ze(Xe().mark((function e(t,n){var r,i,a,o,u=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Vx(t,i,n);case 4:return a=e.sent,e.next=7,Ux._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zx(B_(t),n));case 1:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t){return rI.apply(this,arguments)}function rI(){return(rI=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nt(t),e.next=3,Qx(!1,r,n.providerId);case 3:return e.abrupt("return",Wx(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iI(e,t){return aI.apply(this,arguments)}function aI(){return(aI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xx(Nt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oI(e,t){return uI.apply(this,arguments)}function uI(){return uI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pw(t,"POST","/v1/accounts:signInWithCustomToken",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function sI(){return sI=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B_(t),e.next=3,oI(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ux._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}var cI=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?lI._fromServerResponse(e,t):"totpInfo"in t?fI._fromServerResponse(e,t):dw(e,"internal-error")}}]),e}(),lI=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(cI),fI=function(e){k(n,e);var t=x(n);function n(e){return d(this,n),t.call(this,"totp",e)}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(cI);function hI(e,t,n){var r;gw((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gw("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gw(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gw(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function dI(){return dI=Ze(Xe().mark((function e(t,n,r){var i,a,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=B_(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,M_(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&hI(a,u,r),e.next=9,ix(a,u);case 9:e.next=14;break;case 11:return r&&hI(a,o,r),e.next=14,ix(a,o).catch(function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,M_(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&hI(a,n,r),e.next=8,ix(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(){return pI=Ze(Xe().mark((function e(t,n,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W_(Nt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(){return vI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X_(Nt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e,t){return yI.apply(this,arguments)}function yI(){return yI=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nt(t),e.next=3,W_(r,{oobCode:n});case 3:i=e.sent,gw(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return gw(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:gw(i.mfaInfo,r,"internal-error");case 13:gw(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=cI._fromServerResponse(B_(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(){return gI=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mI(Nt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function kI(e,t,n){return bI.apply(this,arguments)}function bI(){return bI=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s,c,l;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=B_(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,M_(a,o,"signUpPassword");case 5:s=e.sent,u=Mx(a,s),e.next=10;break;case 9:u=Mx(a,o).catch(function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,M_(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Mx(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Ux._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function wI(){return wI=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){gw(t.handleCodeInApp,a,"argument-error"),t&&hI(a,e,t)},a=B_(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,M_(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,ox(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,ox(a,o).catch(function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,M_(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,ox(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function _I(){return _I=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),gw((a=Tx.credentialWithLink(n,r||ww()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",eI(i,a));case 4:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function xI(e,t){return II.apply(this,arguments)}function II(){return II=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:createAuthUri",Cw(t,n)));case 1:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function EI(){return EI=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_w()?ww():"http://localhost",i={identifier:n,continueUri:r},e.next=4,xI(Nt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function TI(){return(TI=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&hI(r.auth,a,n),e.next=8,nx(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AI(){return(AI=Ze(Xe().mark((function e(t,n,r){var i,a,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&hI(i.auth,o,r),e.next=8,sx(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SI(e,t){return CI.apply(this,arguments)}function CI(){return CI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),CI.apply(this,arguments)}function NI(){return(NI=Ze(Xe().mark((function e(t,n){var r,i,a,o,u,s,c;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Nt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Jw(a,SI(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RI(e,t,n){return OI.apply(this,arguments)}function OI(){return OI=Ze(Xe().mark((function e(t,n,r){var i,a,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Jw(t,Q_(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}var DI=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),PI=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(DI),LI=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(DI),MI=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(PI),FI=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return y(n)}(DI),UI=function(e){k(n,e);var t=x(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(PI);function jI(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Qw(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new DI(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new LI(a,i);case"github.com":return new MI(a,i);case"google.com":return new FI(a,i);case"twitter.com":return new UI(a,i,e.screenName||null);case"custom":case"anonymous":return new DI(a,null);default:return new DI(a,r,i)}}(n)}var BI=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.user=r}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:$e({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),zI=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return y(e,[{key:"resolveSignIn",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=B_(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return cI._fromServerResponse(r,e)}));gw(i.mfaPendingCredential,r,"internal-error");var o=BI._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ze(Xe().mark((function e(t){var a,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ux._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return gw(n.user,r,"internal-error"),e.abrupt("return",Ux._forOperation(n.user,n.operationType,u));case 17:dw(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function VI(e,t){return Nw(e,"POST","/v2/accounts/mfaEnrollment:start",Cw(e,t))}function qI(e,t){return Nw(e,"POST","/v2/accounts/mfaEnrollment:start",Cw(e,t))}function KI(e,t){return Nw(e,"POST","/v2/accounts/mfaEnrollment:finalize",Cw(e,t))}function HI(e,t){return Nw(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Cw(e,t))}var WI=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return cI._fromServerResponse(t.auth,e)})))}))}return y(e,[{key:"getSession",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=BI,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Jw(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Jw(this.user,HI(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),GI=new WeakMap;var QI="__sak",JI=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(QI,"1"),this.storage.removeItem(QI),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var XI=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ft();return y_(e)||x_(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=I_(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);vt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ze(Xe().mark((function e(t,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ze(Xe().mark((function e(t){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(JI);XI.type="LOCAL";var YI=XI,ZI=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(JI);ZI.type="SESSION";var $I=ZI;function eE(e){return Promise.all(e.map(function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var tE=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i,a,o,u,s,c;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,eE(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function nE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}tE.receivers=[];var rE=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=nE("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function iE(){return window}function aE(e){iE().location.href=e}function oE(){return"undefined"!==typeof iE().WorkerGlobalScope&&"function"===typeof iE().importScripts}function uE(){return sE.apply(this,arguments)}function sE(){return(sE=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function cE(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var lE="firebaseLocalStorageDb",fE="firebaseLocalStorage",hE="fbase_key",dE=function(){function e(t){d(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function pE(e,t){return e.transaction([fE],t?"readwrite":"readonly").objectStore(fE)}function vE(){var e=indexedDB.deleteDatabase(lE);return new dE(e).toPromise()}function mE(){var e=indexedDB.open(lE,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(fE,{keyPath:hE})}catch(r){n(r)}})),e.addEventListener("success",Ze(Xe().mark((function n(){var r;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(fE)){n.next=12;break}return r.close(),n.next=5,vE();case 5:return n.t0=t,n.next=8,mE();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function yE(e,t,n){return gE.apply(this,arguments)}function gE(){return gE=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pE(t,!0).put(($e(i={},hE,n),$e(i,"value",r),i)),e.abrupt("return",new dE(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t,!1).get(n),e.next=3,new dE(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){var n=pE(e,!0).delete(t);return new dE(n).toPromise()}var _E=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,mE();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ze(Xe().mark((function e(){var t=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=tE._getInstance(oE()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ze(Xe().mark((function e(n,r){var i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uE();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new rE(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&cE()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,mE();case 5:return t=e.sent,e.next=8,yE(t,QI,"1");case 8:return e.next=10,wE(t,QI);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ze(Xe().mark((function e(t,n){var r=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return yE(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return kE(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ze(Xe().mark((function e(t){var n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return wE(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=pE(e,!1).getAll();return new dE(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=A(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();_E.type="LOCAL";var xE=_E;function IE(e,t){return Nw(e,"POST","/v2/accounts/mfaSignIn:start",Cw(e,t))}function EE(e,t){return Nw(e,"POST","/v2/accounts/mfaSignIn:finalize",Cw(e,t))}var TE=1e12,AE=function(){function e(t){d(this,e),this.auth=t,this.counter=TE,this._widgets=new Map}return y(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new SE(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||TE;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||TE;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||TE,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),SE=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;gw(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var CE=P_("rcb"),NE=new Iw(3e4,6e4),RE=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=iE().grecaptcha)||void 0===t?void 0:t.render)}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return gw(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&N_(iE().grecaptcha)?Promise.resolve(iE().grecaptcha):new Promise((function(r,i){var a=iE().setTimeout((function(){i(pw(e,"network-request-failed"))}),NE.get());iE()[CE]=function(){iE().clearTimeout(a),delete iE()[CE];var o=iE().grecaptcha;if(o&&N_(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(pw(e,"internal-error"))},D_("".concat("https://www.google.com/recaptcha/api.js?","?").concat(It({onload:CE,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(pw(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=iE().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var OE=function(){function e(){d(this,e)}return y(e,[{key:"load",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new AE(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),DE="recaptcha",PE={theme:"light",type:"image"},LE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},PE);d(this,e),this.parameters=r,this.type=DE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=B_(t),this.isInvisible="invisible"===this.parameters.size,gw("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;gw(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new OE:new RE,this.validateStartingState()}return y(e,[{key:"verify",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){gw(!this.parameters.sitekey,this.auth,"argument-error"),gw(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gw("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=iE()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){gw(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gw(_w()&&!oE(),this.auth,"internal-error"),e.next=3,ME();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,T_(this.auth);case 8:gw(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return gw(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ME(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var FE=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=Ix._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function UE(){return UE=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=B_(t),e.next=3,VE(i,n,Nt(r));case 3:return a=e.sent,e.abrupt("return",new FE(a,(function(e){return eI(i,e)})));case 5:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function jE(e,t,n){return BE.apply(this,arguments)}function BE(){return(BE=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),e.next=3,Qx(!1,i,"phone");case 3:return e.next=5,VE(i.auth,n,Nt(r));case 5:return a=e.sent,e.abrupt("return",new FE(a,(function(e){return nI(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zE(){return(zE=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),e.next=3,VE(i.auth,n,Nt(r));case 3:return a=e.sent,e.abrupt("return",new FE(a,(function(e){return iI(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VE(e,t,n){return qE.apply(this,arguments)}function qE(){return qE=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,gw("string"===typeof a,t,"argument-error"),gw(r.type===DE,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return gw("enroll"===u.type,t,"internal-error"),e.next=13,VI(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return gw("signin"===u.type,t,"internal-error"),gw(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,IE(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,gx(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),qE.apply(this,arguments)}function KE(){return(KE=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wx(Nt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HE=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=B_(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return VE(this.auth,e,Nt(t))}}],[{key:"credential",value:function(e,t){return Ix._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ix._fromTokenResponse(n,r):null}}]),e}();function WE(e,t){return t?l_(t):(gw(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}HE.PROVIDER_ID="phone",HE.PHONE_SIGN_IN_METHOD="phone";var GE=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return vx(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return vx(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return vx(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(H_);function QE(e){return Zx(e.auth,new GE(e),e.bypassAuthState)}function JE(e){var t=e.auth,n=e.user;return gw(n,t,"internal-error"),Xx(n,new GE(e),e.bypassAuthState)}function XE(e){return YE.apply(this,arguments)}function YE(){return YE=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,gw(r=t.user,n,"internal-error"),e.abrupt("return",Wx(r,new GE(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}var ZE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ze(Xe().mark((function t(n,r){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QE;case"linkViaPopup":case"linkViaRedirect":return XE;case"reauthViaPopup":case"reauthViaRedirect":return JE;default:dw(this.auth,"internal-error")}}},{key:"resolve",value:function(e){bw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){bw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),$E=new Iw(2e3,1e4);function eT(e,t,n){return tT.apply(this,arguments)}function tT(){return tT=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=B_(t),mw(t,n,Ax),a=WE(i,r),o=new aT(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(){return(nT=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mw((i=Nt(t)).auth,n,Ax),a=WE(i.auth,r),o=new aT(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rT(e,t,n){return iT.apply(this,arguments)}function iT(){return(iT=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mw((i=Nt(t)).auth,n,Ax),a=WE(i.auth,r),o=new aT(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aT=function(e){k(n,e);var t=x(n);function n(e,r,i,a,o){var u;return d(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_(u),u}return y(n,[{key:"executeNotNull",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return gw(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ze(Xe().mark((function e(){var t,n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bw(1===this.filter.length,"Popup operations only handle one event"),t=nE(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(pw(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(pw(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(pw(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,$E.get())}()}}]),n}(ZE);aT.currentPopupAction=null;var oT="pendingRedirect",uT=new Map,sT=function(e){k(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=Ze(Xe().mark((function e(){var t,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=uT.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,cT(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ur(b(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:uT.set(this.auth._key(),t);case 21:return this.bypassAuthState||uT.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ze(Xe().mark((function e(t){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ur(b(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ur(b(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ZE);function cT(e,t){return lT.apply(this,arguments)}function lT(){return lT=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vT(n),i=pT(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e,t){return hT.apply(this,arguments)}function hT(){return hT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pT(t)._set(vT(n),"true"));case 1:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function dT(e,t){uT.set(e._key(),t)}function pT(e){return l_(e._redirectPersistence)}function vT(e){return d_(oT,e.config.apiKey,e.name)}function mT(e,t,n){return function(e,t,n){return yT.apply(this,arguments)}(e,t,n)}function yT(){return yT=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=B_(t),mw(t,n,Ax),e.next=4,i._initializationPromise;case 4:return a=WE(i,r),e.next=7,fT(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function gT(e,t,n){return function(e,t,n){return kT.apply(this,arguments)}(e,t,n)}function kT(){return(kT=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mw((i=Nt(t)).auth,n,Ax),e.next=4,i.auth._initializationPromise;case 4:return a=WE(i.auth,r),e.next=7,fT(a,i.auth);case 7:return e.next=9,TT(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bT(e,t,n){return function(e,t,n){return wT.apply(this,arguments)}(e,t,n)}function wT(){return(wT=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mw((i=Nt(t)).auth,n,Ax),e.next=4,i.auth._initializationPromise;case 4:return a=WE(i.auth,r),e.next=7,Qx(!1,i,n.providerId);case 7:return e.next=9,fT(a,i.auth);case 9:return e.next=11,TT(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _T(e,t){return xT.apply(this,arguments)}function xT(){return xT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B_(t)._initializationPromise;case 2:return e.abrupt("return",IT(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function IT(e,t){return ET.apply(this,arguments)}function ET(){return ET=Ze(Xe().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=B_(t),a=WE(i,n),o=new sT(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function TT(e){return AT.apply(this,arguments)}function AT(){return(AT=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nE("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ST=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!NT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pw(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(CT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(CT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function CT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function NT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function RT(e){return OT.apply(this,arguments)}function OT(){return OT=Ze(Xe().mark((function e(t){var n,r=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Nw(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}var DT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PT=/^https?/;function LT(){return LT=Ze(Xe().mark((function e(t){var n,r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,RT(t);case 4:n=e.sent,r=n.authorizedDomains,i=A(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!MT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:dw(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),LT.apply(this,arguments)}function MT(e){var t=ww(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!PT.test(r))return!1;if(DT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var FT=new Iw(3e4,6e4);function UT(){var e=iE().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var jT=null;function BT(e){return jT=jT||function(e){return new Promise((function(t,n){var r,i,a;function o(){UT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){UT(),n(pw(e,"network-request-failed"))},timeout:FT.get()})}if(null===(i=null===(r=iE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=iE().gapi)||void 0===a?void 0:a.load)){var u=P_("iframefcb");return iE()[u]=function(){gapi.load?o():n(pw(e,"network-request-failed"))},D_("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw jT=null,e}))}(e),jT}var zT=new Iw(5e3,15e3),VT="__/auth/iframe",qT="emulator/auth/iframe",KT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WT(e){var t=e.config;gw(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ew(t,qT):"https://".concat(e.config.authDomain,"/").concat(VT),r={apiKey:t.apiKey,appName:e.name,v:Sn},i=HT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(It(r).slice(1))}function GT(e){return QT.apply(this,arguments)}function QT(){return QT=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BT(t);case 2:return n=e.sent,gw(r=iE().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:WT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KT,dontclear:!0},(function(e){return new Promise(function(){var n=Ze(Xe().mark((function n(r,i){var a,o,u;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){iE().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=pw(t,"network-request-failed"),o=iE().setTimeout((function(){i(a)}),zT.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}var JT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XT=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function YT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},JT),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ft().toLowerCase();n&&(u=g_(c)?"_blank":n),m_(c)&&(t=t||"http://localhost",s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return x_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new XT(null);var h=window.open(t||"",u,f);gw(h,e,"popup-blocked");try{h.focus()}catch(d){}return new XT(h)}var ZT="__/auth/handler",$T="emulator/auth/handler",eA=encodeURIComponent("fac");function tA(e,t,n,r,i,a){return nA.apply(this,arguments)}function nA(){return nA=Ze(Xe().mark((function e(t,n,r,i,a,o){var u,s,c,f,h,d,p,v,m,y,g,k,b;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gw(t.config.authDomain,t,"auth-domain-config-required"),gw(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Sn,eventId:a},n instanceof Ax)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",wt(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)f=l(c[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof Sx&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(eA,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(rA(t),"?").concat(It(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),nA.apply(this,arguments)}function rA(e){var t=e.config;return t.emulator?Ew(t,$T):"https://".concat(t.authDomain,"/").concat(ZT)}var iA="webStorageSupport",aA=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$I,this._completeRedirectFn=IT,this._overrideRedirectResult=dT}return y(e,[{key:"_openPopup",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){var a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bw(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,tA(t,n,r,ww(),i);case 3:return o=e.sent,e.abrupt("return",YT(t,o,nE()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,tA(t,n,r,ww(),i);case 4:return aE(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(bw(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GT(t);case 2:return n=e.sent,r=new ST(t),n.register("authEvent",(function(e){return gw(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(iA,{type:iA},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[iA];void 0!==i&&t(!!i),dw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return LT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return I_()||y_()||x_()}}]),e}(),oA=aA,uA=function(){function e(t){d(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return kw("unexpected MultiFactorSessionType")}}}]),e}(),sA=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Nw(e,"POST","/v2/accounts/mfaEnrollment:finalize",Cw(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Nw(e,"POST","/v2/accounts/mfaSignIn:finalize",Cw(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(uA),cA=function(){function e(){d(this,e)}return y(e,null,[{key:"assertion",value:function(e){return sA._fromCredential(e)}}]),e}();cA.FACTOR_ID="phone";var lA=function(){function e(){d(this,e)}return y(e,null,[{key:"assertionForEnrollment",value:function(e,t){return fA._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return fA._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gw("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,qI(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",hA._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();lA.FACTOR_ID="totp";var fA=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return y(n,[{key:"_finalizeEnroll",value:function(){var e=Ze(Xe().mark((function e(t,n,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gw("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",KI(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gw(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",EE(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(uA),hA=function(){function e(t,n,r,i,a,o,u){d(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return y(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(dA(e)||dA(t))&&(r=!0),r&&(dA(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),dA(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function dA(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var pA="@firebase/auth",vA="1.1.0",mA=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){gw(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var yA;!function(e){var t;null===(t=ut())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function gA(){return window}yA="Browser",wn(new Rt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;gw(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:yA,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E_(yA)},l=new j_(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(l_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),wn(new Rt("auth-internal",(function(e){return function(e){return new mA(e)}(B_(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(pA,vA,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(yA)),Pn(pA,vA,"esm2017");var kA=2e3;function bA(e,t,n){return wA.apply(this,arguments)}function wA(){return wA=Ze(Xe().mark((function e(t,n,r){var i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gA(),o=a.BuildInfo,bw(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,AA(n.sessionId);case 4:return u=e.sent,s={},x_()?s.ibi=o.packageName:b_()?s.apn=o.packageName:dw(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",tA(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function _A(){return _A=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gA(),r=n.BuildInfo,i={},x_()?i.iosBundleId=r.packageName:b_()?i.androidPackageName=r.packageName:dw(t,"operation-not-supported-in-this-environment"),e.next=5,RT(t,i);case 5:case"end":return e.stop()}}),e)}))),_A.apply(this,arguments)}function xA(e){var t=gA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function IA(e,t,n){return EA.apply(this,arguments)}function EA(){return EA=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(pw(t,"redirect-cancelled-by-user"))}),kA))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),b_()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),EA.apply(this,arguments)}function TA(e){var t,n,r,i,a,o,u,s,c,l,f=gA();gw("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gw("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gw("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gw("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gw("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function AA(e){return SA.apply(this,arguments)}function SA(){return(SA=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=CA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CA(e){if(bw(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var NA=20,RA=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ur(b(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ST);function OA(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:FA(),postBody:null,tenantId:e.tenantId,error:pw(e,"no-auth-event")}}function DA(e,t){return UA()._set(jA(e),t)}function PA(e){return LA.apply(this,arguments)}function LA(){return LA=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UA()._get(jA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,UA()._remove(jA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(e,t){var n,r,i=function(e){var t=BA(e),n=t.link?decodeURIComponent(t.link):void 0,r=BA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return BA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=BA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?pw(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function FA(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<NA;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function UA(){return l_(YI)}function jA(e){return d_("authEvent",e.config.apiKey,e.name)}function BA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return Et(t.slice(1).join("?"))}var zA=function(){function e(){d(this,e),this._redirectPersistence=$I,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=IT,this._overrideRedirectResult=dT}return y(e,[{key:"_initialize",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new RA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){dw(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){var a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),uT.clear(),e.next=10,this._originValidation(t);case 10:return o=OA(t,r,i),e.next=13,DA(t,o);case 13:return e.next=15,bA(t,o,n);case 15:return u=e.sent,e.next=18,xA(u);case 18:return s=e.sent,e.abrupt("return",IA(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _A.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=gA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,PA(e);case 2:t.onEvent(qA());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ze(Xe().mark((function n(r){var i,a;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,PA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=MA(i,r.url)),t.onEvent(a||qA());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");gA().handleOpenURL=function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),VA=zA;function qA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pw("no-auth-event")}}var KA=1e3;function HA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function WA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return!("file:"!==HA()&&"ionic:"!==HA()&&"capacitor:"!==HA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function GA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return vt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/Edge\/\d+/.test(e)}(e)}function QA(){try{var e=self.localStorage,t=nE();if(e)return e.setItem(t,"1"),e.removeItem(t),!GA()||mt()}catch(n){return JA()&&mt()}return!1}function JA(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function XA(){return("http:"===HA()||"https:"===HA()||dt()||WA())&&!(pt()||ht())&&QA()&&!JA()}function YA(){return WA()&&"undefined"!==typeof document}function ZA(){return $A.apply(this,arguments)}function $A(){return($A=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(YA()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),KA);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var eS={LOCAL:"local",NONE:"none",SESSION:"session"},tS=gw,nS="persistence";function rS(e,t){tS(Object.values(eS).includes(t),e,"invalid-persistence-type"),pt()?tS(t!==eS.SESSION,e,"unsupported-persistence-type"):ht()?tS(t===eS.NONE,e,"unsupported-persistence-type"):JA()?tS(t===eS.NONE||t===eS.LOCAL&&mt(),e,"unsupported-persistence-type"):tS(t===eS.NONE||QA(),e,"unsupported-persistence-type")}function iS(e){return aS.apply(this,arguments)}function aS(){return aS=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=oS(),r=d_(nS,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var uS=gw,sS=function(){function e(){d(this,e),this.browserResolver=l_(oA),this.cordovaResolver=l_(VA),this.underlyingResolver=null,this._redirectPersistence=$I,this._completeRedirectFn=IT,this._overrideRedirectResult=dT}return y(e,[{key:"_initialize",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return YA()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return uS(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ZA();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cS(e){return e.unwrap()}function lS(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new vS(e,function(e,t){var n,r=Nt(e),i=t;return gw(t.customData.operationType,r,"argument-error"),gw(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),zI._fromError(r,i)}(e,t));else if(r){var i=fS(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function fS(e){var t=(e instanceof yt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof yt)&&"temporaryProof"in t&&"phoneNumber"in t)return HE.credentialFromResult(e);var n,r=t.providerId;if(!r||r===$b.PASSWORD)return null;switch(r){case $b.GOOGLE:n=Rx;break;case $b.FACEBOOK:n=Nx;break;case $b.GITHUB:n=Ox;break;case $b.TWITTER:n=Lx;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Dx._create(r,u):yx._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Cx(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof yt?n.credentialFromError(e):n.credentialFromResult(e)}function hS(e,t){return t.catch((function(t){throw t instanceof yt&&lS(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,fS(t)),additionalUserInfo:jI(e),user:mS.getOrCreate(r)}}))}function dS(e,t){return pS.apply(this,arguments)}function pS(){return pS=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return hS(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}var vS=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return hS(cS(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),mS=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=Nt(e);return GI.has(t)||GI.set(t,WI._fromUser(t)),GI.get(t)}(t)}return y(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(this.auth,nI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dS(this.auth,jE(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(this.auth,rT(this._delegate,t,sS)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iS(B_(this.auth));case 2:return e.abrupt("return",bT(this._delegate,t,sS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(this.auth,iI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return dS(this.auth,function(e,t,n){return zE.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return hS(this.auth,function(e,t,n){return nT.apply(this,arguments)}(this._delegate,e,sS))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iS(B_(this.auth));case 2:return e.abrupt("return",gT(this._delegate,t,sS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return TI.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kx(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return RI(Nt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return RI(Nt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return KE.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return NI.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return AI.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();mS.USER_MAP=new WeakMap;var yS=gw,gS=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;yS(r,"invalid-api-key",{appName:t.name}),yS(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?sS:void 0;this._delegate=n.initialize({options:{persistence:bS(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(uw),this.linkUnderlyingAuth()}return y(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?mS.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){V_(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return vI.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return mI(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return pI.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(this._delegate,kI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return EI.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ex.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yS(XA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,_T(this._delegate,sS);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",hS(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){B_(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=kS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=kS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return wI.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return dI.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rS(this._delegate,t),e.t0=t,e.next=e.t0===eS.SESSION?4:e.t0===eS.LOCAL?6:e.t0===eS.NONE?11:13;break;case 4:return n=$I,e.abrupt("break",14);case 6:return e.next=8,l_(xE)._isAvailable();case 8:return r=e.sent,n=r?xE:YI,e.abrupt("break",14);case 11:return n=h_,e.abrupt("break",14);case 13:return e.abrupt("return",dw("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return hS(this._delegate,function(e){return Bx.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return hS(this._delegate,eI(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return hS(this._delegate,function(e,t){return sI.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return hS(this._delegate,function(e,t,n){return eI(Nt(e),Tx.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return hS(this._delegate,function(e,t,n){return _I.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return dS(this._delegate,function(e,t,n){return UE.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yS(XA(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",hS(this._delegate,eT(this._delegate,t,sS)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yS(XA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,iS(this._delegate);case 3:return e.abrupt("return",mT(this._delegate,t,sS));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return gI.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function kS(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&mS.getOrCreate(e))},error:t,complete:n}}function bS(e,t){var n=function(e,t){var n=oS();if(!n)return[];var r=d_(nS,e,t);switch(n.getItem(r)){case eS.NONE:return[h_];case eS.LOCAL:return[xE,$I];case eS.SESSION:return[$I];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(xE)||n.push(xE),"undefined"!==typeof window)for(var r=0,i=[YI,$I];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(h_)||n.push(h_),n}gS.Persistence=eS;var wS=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new HE(cS(or.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return HE.credential(e,t)}}]),e}();wS.PHONE_SIGN_IN_METHOD=HE.PHONE_SIGN_IN_METHOD,wS.PROVIDER_ID=HE.PROVIDER_ID;var _S=gw,xS=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or.app();d(this,e),_S(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new LE(i.auth(),t,n),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Rt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new gS(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ew,PASSWORD_RESET:tw,RECOVER_EMAIL:nw,REVERT_SECOND_FACTOR_ADDITION:rw,VERIFY_AND_CHANGE_EMAIL:iw,VERIFY_EMAIL:aw}},EmailAuthProvider:Tx,FacebookAuthProvider:Nx,GithubAuthProvider:Ox,GoogleAuthProvider:Rx,OAuthProvider:Cx,SAMLAuthProvider:Px,PhoneAuthProvider:wS,PhoneMultiFactorGenerator:cA,RecaptchaVerifier:xS,TwitterAuthProvider:Lx,Auth:gS,AuthCredential:H_,Error:yt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.4")}(or);var IS,ES="firebasestorage.googleapis.com",TS="storageBucket",AS=function(e){k(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,SS(e),"Firebase Storage: ".concat(r," (").concat(SS(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_(i),n.prototype),i}return y(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return SS(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(yt);function SS(e){return"storage/"+e}function CS(){return new AS(IS.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function NS(){return new AS(IS.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RS(){return new AS(IS.CANCELED,"User canceled the upload/download.")}function OS(){return new AS(IS.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DS(e){return new AS(IS.INVALID_ARGUMENT,e)}function PS(){return new AS(IS.APP_DELETED,"The Firebase app was deleted.")}function LS(e){return new AS(IS.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function MS(e,t){return new AS(IS.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function FS(e){throw new AS(IS.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(IS||(IS={}));var US,jS=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return y(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new AS(IS.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===ES?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new AS(IS.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),BS=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return y(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function zS(e){return"string"===typeof e||e instanceof String}function VS(e){return qS()&&e instanceof Blob}function qS(){return"undefined"!==typeof Blob&&!ht()}function KS(e,t,n,r){if(r<t)throw DS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw DS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function HS(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function WS(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function GS(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(US||(US={}));var QS=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return y(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=CS();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?PS():RS());else i(NS())}};this.canceled_?t(0,new JS(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new JS(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===US.NO_ERROR,a=r.getStatus();if(!n||GS(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===US.ABORT;t(!1,new JS(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new JS(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),JS=y((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function XS(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function YS(){for(var e=XS(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(qS())return new Blob(n);throw new AS(IS.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ZS(e){if("undefined"===typeof atob)throw t="base-64",new AS(IS.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var $S={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},eC=y((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function tC(e,t){switch(e){case $S.RAW:return new eC(nC(t));case $S.BASE64:case $S.BASE64URL:return new eC(rC(e,t));case $S.DATA_URL:return new eC(function(e){var t=new iC(e);return t.base64?rC($S.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw MS($S.DATA_URL,"Malformed data URL.")}return nC(t)}(t.rest)}(t),new iC(t).contentType)}throw CS()}function nC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function rC(e,t){switch(e){case $S.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw MS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case $S.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw MS(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=ZS(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw MS(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var iC=y((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw MS($S.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var aC=function(){function e(t,n){d(this,e);var r=0,i="";VS(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return y(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(VS(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(qS()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(YS.apply(null,i))}var a=n.map((function(e){return zS(e)?tC($S.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function oC(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function uC(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function sC(e,t){return t}var cC=y((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||sC})),lC=null;function fC(){if(lC)return lC;var e=[];e.push(new cC("bucket")),e.push(new cC("generation")),e.push(new cC("metageneration")),e.push(new cC("name","fullPath",!0));var t=new cC("name");t.xform=function(e,t){return function(e){return!zS(e)||e.length<2?e:uC(e)}(t)},e.push(t);var n=new cC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new cC("timeCreated")),e.push(new cC("updated")),e.push(new cC("md5Hash",null,!0)),e.push(new cC("cacheControl",null,!0)),e.push(new cC("contentDisposition",null,!0)),e.push(new cC("contentEncoding",null,!0)),e.push(new cC("contentLanguage",null,!0)),e.push(new cC("contentType",null,!0)),e.push(new cC("metadata","customMetadata",!0)),lC=e}function hC(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new jS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function dC(e,t,n){var r=oC(t);return null===r?null:hC(e,r,n)}function pC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var vC="prefixes",mC="items";function yC(e,t,n){var r=oC(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[vC]){var i,a=A(n[vC]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new jS(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n[mC]){var s,c=A(n[mC]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new jS(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var gC=y((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function kC(e){if(!e)throw CS()}function bC(e,t){return function(n,r){var i=dC(e,r,t);return kC(null!==i),i}}function wC(e,t){return function(n,r){var i=dC(e,r,t);return kC(null!==i),function(e,t,n,r){var i=oC(t);if(null===i)return null;if(!zS(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return HS("/b/"+o(i)+"/o/"+o(a),n,r)+WS({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function _C(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new AS(IS.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new AS(IS.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new AS(IS.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new AS(IS.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function xC(e){var t=_C(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new AS(IS.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function IC(e,t,n){var r=HS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new gC(r,"GET",bC(e,n),i);return a.errorHandler=xC(t),a}function EC(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=HS(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new gC(o,"GET",function(e,t){return function(n,r){var i=yC(e,t,r);return kC(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=_C(t),s}function TC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function AC(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=TC(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pC(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=aC.getBlob(c,r,l);if(null===f)throw OS();var h={name:s.fullPath},d=HS(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new gC(d,"POST",bC(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=_C(t),v}var SC=y((function e(t,n,r,i){d(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function CC(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){kC(!1)}return kC(!!n&&-1!==(t||["active"]).indexOf(n)),n}var NC=262144;function RC(e,t,n,r,i,a,o,u){var s=new SC(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new AS(IS.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw OS();var v=t.maxUploadRetryTime,m=new gC(n,"POST",(function(e,n){var i,o=CC(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?bC(t,a)(e,n):null,new SC(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=_C(e),m}var OC={STATE_CHANGED:"state_changed"},DC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PC(e){switch(e){case"running":case"pausing":case"canceling":return DC.RUNNING;case"paused":return DC.PAUSED;case"success":return DC.SUCCESS;case"canceled":return DC.CANCELED;default:return DC.ERROR}}var LC=y((function e(t,n,r){d(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function MC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var FC=null,UC=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=US.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=US.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=US.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return y(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw FS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw FS("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw FS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw FS("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw FS("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),jC=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(UC);function BC(){return FC?FC():new jC}var zC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=fC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(IS.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(GS(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=NS()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(IS.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return y(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=TC(t,r,i),u={name:o.fullPath},s=HS(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=pC(o,n),f=e.maxUploadRetryTime,h=new gC(s,"POST",(function(e){var t;CC(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){kC(!1)}return kC(zS(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=_C(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,BC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new gC(n,"POST",(function(e){var t=CC(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){kC(!1)}n||kC(!1);var i=Number(n);return kC(!isNaN(i)),new SC(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=_C(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,BC,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=NC*this._chunkMultiplier,n=new SC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=RC(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,BC,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(NC*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=IC(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,BC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=AC(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,BC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=RS(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=PC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new LC(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(PC(this._state)){case DC.SUCCESS:MC(this._resolve.bind(null,this.snapshot))();break;case DC.CANCELED:case DC.ERROR:MC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(PC(this._state)){case DC.RUNNING:case DC.PAUSED:e.next&&MC(e.next.bind(e,this.snapshot))();break;case DC.SUCCESS:e.complete&&MC(e.complete.bind(e))();break;default:e.error&&MC(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),VC=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof jS?n:jS.makeFromUrl(n,t.host)}return y(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new jS(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return uC(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new jS(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw LS(e)}}]),e}();function qC(e,t,n){return KC.apply(this,arguments)}function KC(){return(KC=Ze(Xe().mark((function e(t,n,r){var i,a,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,HC(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,h(u.prefixes)),(a=n.items).push.apply(a,h(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,qC(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HC(e,t){null!=t&&"number"===typeof t.maxResults&&KS("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=EC(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,BC)}function WC(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=HS(t.fullServerUrl(),e.host,e._protocol),a=pC(n,r),o=e.maxOperationRetryTime,u=new gC(i,"PATCH",bC(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=xC(t),u}(e.storage,e._location,t,fC());return e.storage.makeRequestWithTokens(n,BC)}function GC(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=HS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new gC(r,"GET",wC(e,n),i);return a.errorHandler=xC(t),a}(e.storage,e._location,fC());return e.storage.makeRequestWithTokens(t,BC).then((function(e){if(null===e)throw new AS(IS.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function QC(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=HS(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new gC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=xC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,BC)}function JC(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new jS(e._location.bucket,n);return new VC(e.storage,r)}function XC(e,t){if(e instanceof $C){var n=e;if(null==n._bucket)throw new AS(IS.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TS+"' property when initializing the app?");var r=new VC(n,n._bucket);return null!=t?XC(r,t):r}return void 0!==t?JC(e,t):e}function YC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof $C)return new VC(e,t);throw DS("To use ref(service, url), the first argument must be a Storage instance.")}return XC(e,t)}function ZC(e,t){var n=null===t||void 0===t?void 0:t[TS];return null==n?null:jS.makeFromBucketSpec(n,e)}var $C=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=ES,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?jS.makeFromBucketSpec(i,this._host):ZC(this._host,this.app.options)}return y(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=jS.makeFromBucketSpec(this._url,e):this._bucket=ZC(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){KS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){KS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new VC(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new BS(PS());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=WS(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new QS(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),eN="@firebase/storage",tN="0.11.2",nN="storage";function rN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new zC(e,new aC(t),n)}(e=Nt(e),t,n)}function iN(e){return function(e){e._throwIfRoot("getMetadata");var t=IC(e.storage,e._location,fC());return e.storage.makeRequestWithTokens(t,BC)}(e=Nt(e))}function aN(e){return function(e){var t={prefixes:[],items:[]};return qC(e,t).then((function(){return t}))}(e=Nt(e))}function oN(e,t){return YC(e=Nt(e),t)}function uN(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:lt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function sN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new $C(r,i,a,n,Sn)}wn(new Rt(nN,sN,"PUBLIC").setMultipleInstances(!0)),Pn(eN,tN,""),Pn(eN,tN,"esm2017");var cN=function(){function e(t,n,r){d(this,e),this._delegate=t,this.task=n,this.ref=r}return y(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),lN=function(){function e(t,n){d(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return y(e,[{key:"snapshot",get:function(){return new cN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new cN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new cN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new cN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),fN=function(){function e(t,n){d(this,e),this._delegate=t,this._service=n}return y(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new hN(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new hN(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),hN=function(){function e(t,n){d(this,e),this._delegate=t,this.storage=n}return y(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return JC(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new lN(rN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$S.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=tC(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new lN(new zC(this._delegate,new aC(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return aN(this._delegate).then((function(t){return new fN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return HC(e=Nt(e),t)}(this._delegate,e||void 0).then((function(e){return new fN(e,t.storage)}))}},{key:"getMetadata",value:function(){return iN(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return WC(e=Nt(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return GC(Nt(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),QC(Nt(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw LS(e)}}]),e}(),dN=function(){function e(t,n){d(this,e),this.app=t,this._delegate=n}return y(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(pN(e))throw DS("ref() expected a child path but got a URL, use refFromURL instead.");return new hN(oN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!pN(e))throw DS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{jS.makeFromUrl(e,this._delegate.host)}catch(t){throw DS("refFromUrl() expected a valid full URL but got an invalid one.")}return new hN(oN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};uN(this._delegate,e,t,n)}}]),e}();function pN(e){return/^[A-Za-z]+:\/\//.test(e)}function vN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new dN(r,i)}!function(e){var t={TaskState:DC,TaskEvent:OC,StringFormat:$S,Storage:dN,Reference:hN};e.INTERNAL.registerComponent(new Rt("storage-compat",vN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(or);or.initializeApp({apiKey:"AIzaSyB_GqifS9WcILupC5xNqIyNnyCnkQ1Laqg",authDomain:"back-up-back-up-6b024.firebaseapp.com",projectId:"back-up-back-up-6b024",storageBucket:"back-up-back-up-6b024.appspot.com",messagingSenderId:"16045824952",appId:"1:16045824952:web:e02f3d5e682d528e0c8d4d",measurementId:"G-0CVS6FHV7T"});var mN=or.firestore(),yN=or.auth(),gN=or.storage(),kN=n.p+"static/media/lwhite.414d85f53252b73b8534.png",bN=(n.p,n(184));var wN=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1],i=ke();(0,r.useEffect)((function(){var e=yN.onAuthStateChanged((function(e){n(e)}));return function(){return e()}}),[]);var a=function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yN.signOut();case 3:console.log("user signed out"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error signing out:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return"/"===i.pathname?null:(0,bN.jsx)("nav",{className:"background-dark p-4",children:(0,bN.jsx)("div",{className:"container mx-auto",children:(0,bN.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bN.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZ0AAADDCAYAAABZLMyRAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAJGdJREFUeJztnW9Mlef5x/tqe7G+mS9+6mrTrhWbLKZVQzO3LOpmzdq9aMx+NWpjom1MNFvX2FBSJozKDMgkgDkMfqcixRQiAoUSCX9GITAgamDSE7BUESrWP53R2qpY0drxO197TndU/l7Xc/95nuf6JKRNGzjf+7nv8zzP9/7e93U/9FCYwsLCV4LB4Aa//Ozdu3fTQ4InSUtLewr9yxkfeXl5q6f6nJdeemns7bffvvuTk5Pz/b/f/xP7/zIyMsb+8Ic/jOm4DoI3mDt37p5XX311zCs/zz333Hfjv6+v77Mxn3HmzBn58nuMoqKiLf/5z39Y4+Lbb78dy8/PXzPVZ8XFxY198803pM9YvXq1jD1hWtTU1LDGs018/vnn9477y5cvm9aknba2tgZDY0lwmEAg8OKdO3dY4wEPHDy4pvuZxcXFpM/p6emRh44wJYsXLx7jvkTZxPr16+8d98nJyXOpb25uZjpvtYLd7Ny5c+Ht27fZY6GioiJ9Jp+7YMEC8k1B3I4wFV5yOZcuXRp/vONLZ1qcbr7++mv58ruYpKSkWehDLvX19fspn//++++TPi8UCsm4EybEay5ny5YtE4/33t7eYdMCdSP5jnu5fv06u/8506xLliwh3xw2bdok404YFy+5nAsXLkw9zr/44gvTOrXT2tpaq2EsCQ5y5coVdr93d3eHuDqoN4iuri556AgP8Mwzz7DHtU28/PLLU4/zlJSUeX7Ld/C2Op2lsoIdYCUMl+PHj59zQkt8fDzZ7Tz//PPy4BHuwUsuZ8IsZzwqKyt3mRasmxs3bsgNwAVgOpTL0NDQLSc1NTY2knS0tbXJmBO+x2su5/XXX5/Z+Pbj/p3h4WG5CVjMiRMn2HO/586dc7yPOTeLFStWyJgT7kJ9ebGRL7/8kjaunZg3dxstLS01Do8lwQFCodApbt/OyO7PkA8++ICkqb29XR46gudWrG3bto02rlNTUx/3Y76zZ8+eFxweUwKDI2G4/frVV18pvbk/++yzku0IZLyU5ZBdTpSqqqos043QjeQ79tDc3FzN7c+RkREt/SnZjkBBXM44YKUPRwRKlGBDXHt7+/7Ozs5S1T8dHR3vnThx4lNOR54+ffpbB8aTwCD89hfgjDswOjo6hhWZOvQuX76crBO/q0OjYB9UlzM4OHg3E1TxQ910zXY5sXDznby8vN85JmaahB90nRzNku+Yo7S09C3u2x+mhnfv3v0rnbrhWij885//lIeOD+G4HFXllOBUqDjicqLs2LEjjlNU8dq1a0a+VJxippLvmKGgoGAtCnBywO/jqALd2vGWSEVqsvkPqstRWUoJC24oOOpyolRXV+eQ1EQYGBi44LioKUhOTp7DWQyhKw8QvgPOhLt4BS8LcEqm2kB1O1KTzV9wltrb6HKUnRfFzXfq6+szlQibhIqKigSOZqc3Ewrjg+wFGQwXZEEm2yFuR5gOVJej8ngMLKKi8MB5OU4DG0UF0x6ZmZnxSgWOQ29vbxdZdJimpqZy3Zr9BlwlF6x2M90OQHU7R48elYeOD1i2bBl5jKt6MQkE6Ot2Nm/erHbc4lhgN+Y7nGKmmLLJyclZZUK3H8A+Gi7Yz2O6HVE4bkeqFHgfL7kcJVnOeHCXs5rId1JSUh6RfMc+qMFlLKhYYLod90N1O9jvY1q7oA4bV6yF740kPQC/q0LTuPT3918kKw1TV1eXoU1shMrKyjc5miXfcRbUQuOCmmym2zEenCkUqVLgXWxcsUaNTIzMWnGmRZDvZGRkLNKtua+v7xhZ9JjkO06BBzinH4Dth/DZeIMRzDF//nzrXI41+3KmC86o5+Q7V69eNfLl4mx2xaDJyspaZkK3V+CuggTKV8w4wNKlS8ntk5Vs3mP//v2ksWCjy1FZQHdKuPkOStbo1pyamvoY52GJo5J1a/YKOLGTM14AXhpMt2O6ULOd8HVyTRuFqYHLoWbKNroc4y9F3Hyntrb2r7o1V1VVvcXRLPnOzAnfgBs41xy47YGPfIaKZDvegepyVK5Yc6XLiYWb76Snpz+tW/Px48dZb92NjY0lujW7lbq6unc51xqgEGFSUtIs022ZKaitRkEqUHsDjstZt26ddS7HSJYzHuGHxiJOzSzVZ55MBCffQXsl35maioqKdPJFjnD79u0xZIim20JB9u34G6rLOXXqlD9qrHGora19h9SSCCbynR07djwp+Y46ioqKtnALeKJ/AoHAi6bbwkHO2/EnTzzxxBj1/rJp0yYlff/yyy+T9ABrXE4s3LPsDx06lKZbc3V19XaO5oGBgWu6NbsBVOnmPNABVgsWFxe/ZrotXDgFHsXtuBcbXQ5WflKwzuXEgqXQVHCT2rlz5890a+bmOw0NDe/p1mwzmAq7dYu9FWessrJyl+m2OIW4HX9ho8tZv349SQ+w0uVEycjIWOLGfMeBYqY/N6HbNhITEx+mnj4Yi9ce5JLt+AtxOZrhrlbq7+//RLfmtLQ0Vx5WZxu4Dlza29s/NN0OFUhNNn8QFxdHXrFmo8vZtWuXO8YfN9+pqan5i27N+EyOZr/nO5xq3lGwgdR0O1RBdTvItuLj493xxRceCgaDpH620eWgArUqTUrg5jtwH7o1w2WRRY/dPaxuv27NNkAd1LFgo7HpdqiG6nZQy820dmFq5s6du4c6vazK5axZs4akB7jG5URBzsHJd0zNJXI3u/ot3xkeHiZfryh+qfLAcTtLlixx1w3Ah+zZs4c6/q1zOdgfp0qTUvDmT2pxBBP5DlbQubGYqQm406gAxxyYbodOcEooBXE7djN79uxtVJezceNG61zOvn373DvekHWQWx4Ge2l0a+bmO7ae9eIkPT09rKlIYE0tJ41Qa7KJ27EbG10OtfqAa11OLJxVTXAdqB6gWzOqJJBFj90tZvqObs266OzspIUTMfjJEd4PKklTELdjJ3PmzNlx8+ZNUp9u3brVuhVrrnY5Ubj5jqmS9g4cVrfEhG6V4DA78kWJ4LpVMQ6D8vAU4HZw7LFp/cK9UF3OhQsXJMtRCTb8ka5CBFQO0K0ZFbA5D0uvvc1XV1fncPoQjI6OjqWmpj5uui2mOXnyJOn6iduxC47LUbXTn+NyAoGAt8aXG/MdnPnD0eyVfKekpCSReuRuFGyak+rc34HS9RTE7dgFdV+OytW5VJeDhRCqNBkF1ZmpIN/B6Z+6Nfs93ykoKFjLrRiN3w9/QTeYbotNhF/CSNdSqhTYAWdfzo4dO6xzOa7blzNd8KbLeWM2le9wNrvihuvWM2GQx2GelwP6u6ysLNV0W2wDGwKpLF261Js3CBdBzXJU1pgUlzMBOHmTdGUi9PX1HdOtOSMjw5WH1XFITk6eiwyGy6FDh/7PdFtshep2JNsxC8flJCUlWbcvx7MuJxbsQidfobG7pe/f1K25rq4ug6PZbfnOyMgIp7l3aWlpqTHdDpvhZDuyb8ccVJcDJ6JKk7icacDJdxBKp6SkPKJbc/jN9AJZ9NjdN9SAbs0UOMc9RDkSxnQ73EBPTw91LPnnZmEZVJejasXan/70J5Ie4AuXEyU7O/s3nHwHlY1N6HbgsDqr852LFy+S2xelt7d32HQ73AJn3464Hf1gEQAFG/fl+MrlROFuNgzf3Lp0a87MzIz3ar5z9uxZTnfcxe/HPFAQt+MeqLMANu7L8ZXLiYWb71RUVCTo1lxfX5/J0WxjKf/BwUH2sZ9nzpzx5yBmIlUK3IG4HA/BCa2R7yQnJ8/RrdlL+U5fX99nnLYATMuZboebOXbsGHUcyXXXBNXl/PnPf1bSRytXriTpAb51OVFycnJWuTHf4RYzTUtLe8qE7li6urpod7sYTO2f8hLiduyG6nJUVh8YHBwkafK9y4nS3NxcTbqCEUKhUKduzdx8x9RhdVFaW1trOdccYBWiyTZ4CXE79kJ1OaqqD4jLcQhuvlNeXv6Gbs2NjY27OZqPHz9+TrdmgPI8HN0AxQ6TkpJmmdDvRThuJz4+Xm4kihCX43G4+U74Jvhj3ZrDA+AKWfTY3WKmOTr1oiwNRy9AeRwvHt9gGupKtoMHD8rNRBFecjmeqyTtBHv27HmBk+9cvnzZyEXlFjMND9A4HToLCwtf4RbwhN68vLzVOvT6DarbwQvXggUL5IbiMCkpKaT+ULk1gupyPHVejtOgfArpqkYwke9kZWX90vZiprm5ub/FzYkD2rh///7XVWv1M1S3E+4Xuak4DJY7U1DlcpYvX07SAzxxKqhKTp8+zXodLysr035jtDnfwUq5W7dYkdldKisrd6nSKHwHx+3ExcXJjcUhsKGTgo1ZjricaYKjjangIpvId4aGhujzbGGqqqqynNaUkJDwQ2q9qFhQIdxpbcL4dHd3k/pI3I5zUF1OZmamuBy3EggEXuRMWV26dMl1+Q7eVp0+0plTLy5KR0dHi5OahMmhVqAWt+MMVJeDlzscfaBCk7gcTXDznZ6enlbdmrOzs605rA4LK7iEr+EnTukRps/JkydJ/SVuhw/V5eTm5iq59qtWrSLpAeJyCAwPD5MvODCR7zQ1NeVyNKM0DVcD9YsTi4114vwC9XRRuJ358+fLjYaIjS7n448/JmkSl8OAm+8kJib+SLdmbr7DCe25CzEA/oaT10OYOdTTRcXt0KG+rOFwNxV6Fi1aRNIDxOUwwL4QzpSVqYKU3M2uKSkp82b6mXAn5A+NoLIyrjB9xO3oxUaX89FHH5E0ictxgLa2tgbS1Y9gIt/JyclZobOYKfIXzjUCpjbYCuMjbkcftrmchQsXkvSAwsJC6X8nwJktHEpLS7fq1tzc3Px3jubpnsTZ2dnZxro4YbDSTfHlEGYIx+1IlYLpIy5HmBDOnhNT+c7p06dZpQAqKirSJ/v72EPD+fsAuRn29Oi6JsL0ob6BB4NBuflME9tcztNPP03SAw4cOCD97iT5+flryL0x5t58Jzk5ee54fxcFQznXA6Baga76b8LMobodvKD95Cc/2W9av+14yeWgtuKsWbMeV6HJ17gx3wm/ET3ndDFT1EHj/E2AB1p2dvZvdF8PYWacOnWK1L+q3sS9hJdczgcffCD9rQpuvlNSUrJFt+aWlpZ8juZQKHQq+rewog8VnzngrWjv3r2bdF8HYeZs3LiR1Mcq38a9wB//+Efrrit1Xw5eQMXlKIaT72BKKSEh4Qe6NXM3u2L/DipGcwt4YoDibB3d7RfoiNtxnk8//dSqa8rZl9PW1ib9rJqCgoK15B4aM5fvcDa7wt1wHQ7A6aEm2i7Q2bp1K6mvxe2MDzXLUbkPiprl4CXy0UcfDanQJNxHe3v7h6ReitDd3V2vWzM33+GCmna62yw4w/nz50l9Lm7nQf7973+TrqWqPVAcl9PY2Cj9q5OzZ8+SOwu4Md+h0tXVdUx3WwXnsHGllRtJSkoiXUcbXQ6yWRV6hCm4efMmqcMA8hETmrn5zkyZ7kZTwW5QiZyCuJ3/giOlKahyOY899hhN0JisWDNGMBjcQO008Pnnn7su35kJAwMD10y0T3AeHIdMQdzOd9jocrAIgILsyzEMtxRMV1fXId2a8/Lyfqc638H0o+52CWrBscgUxO3Q9+WodDnUe4C4HAs4d+4cqfNiBtarujW3trYGWaInwdQKPUEt1Ld1v7sdaiaG6fuf/vSn4nKE8XFjvsPd7DoeeBs20RZBD9Q39szMTN+OC9uqD3Bczj/+8Q/f9qN1YJc9qRcjmMp3OJtd7+f69esyID0OZyWbae0m4Lic2bNnb1Ohiepy8KDCA0uFJoGIG/Od/Pz8Fzmao+BLsn379tm69Qv6ob65YzGCae268ZLLkeoDlsLNd4qKijbo1hweTPtYosMEAoEXdesWzEB9e/fb1CunUreqDExcjkfh5Dujo6OuzHdKS0vfMqFbMAN1JZuf3I5tdevE5XiYwsLCV0g9G8GN+Q4Oq5MD2fzD22+/TRonfnE7Nlbobm5uJmkSl+MSDh8+3EHq4QhHjhx5X7fmgoKC1RzNslTaX4jbmZihoSHStVHlcrDMGcudKYjLcRHUEDGKiXynvb19P0dzd3e3VJ31CdQqBV53O9QsR2X1AWzopCAux4Ugo6FiKt9xoJhpogndgn7E7TwI1eWoqj7AcTlHjhzxbD95lrBb2ULq7QhwSyZ0cze7Sr7jD8Tt3Av1/CEbXQ7A0QcqNAmKOYLXBQaHDx8+qFtzMBj8X45mU4shBP1QqyejrI5p7U6DcU/BRpfT09Pjuf7xFdTBGKWwsHCtbs0dHR3vcTRLvuMPUOKGgikXrwpqloPcRFyOoAROvoPpLhOaHShm+roJ3YJeqMvtsdHUtHan8FKWg8PdVGgSNFNcXPwaaQREwAPAhG43FjMV9IKlvhS84naoWc6dO3fGnnjiCXE5gjpwdDN5JITp7Ows1a1Z8h1hKrCh0c9ux0tZjrgcD8LNd/bu3as938HDjqMZD1vdmgW95ObmksaG290ONcsRlyNoBdNOVNya72B60YRuQQ9+dTvUGmvicgStIGAnjYoIpvIdN252FfTht2xHXI7gKtyY72DpNkez5Dvexm9uR1yO4Dq4+Q5Cft2asVmVoxmbZXVrFvThF7djo8spLy8naQLicnwCysW4Md9xoJjpFhO6BfX4xe3Y5nIAyulQEJfjM1AgkzRSIqBApwndku8IE+F1t7Nu3TpS+2ytsbZy5UpXXHfBQVAyhjxiwuBIAt2acfQCR7NbbjDCzOG4HWy0NK1/KlCXjIJKl0PNcgYHB62/3oIicAgaBxzCplszDpvjaJZ8x7sEg0HSmBgYGLD6Jrh6Ne2sQ5Uup7GxkaQJiMvxMdx8B2+WJnRz8x0c721Ct6CWJ598kjwmcNyzaf0TEQrRJiVUuZxHH300hKKhFMTlCOx858yZM5LvCNaAGy0FFM80rX08qC5HZSVpcTkCG26+09bWtk+3Zm6+Y2qzq6CWuLi4MeqKKhtXslFdTk1NjXX7csTlCPfAzXfy8/Nf1K25q6vrEEdzZ2dnm27Ngnqobse2jcQcl7N48WLrVqwtW7bMqusrGCYxMfHh27dvkweUqXzHgcPqJN/xGF5xO9QVaza6HNmXI4xLWVlZKmlERTCV77hxs6ugFre7HarLAUuXLrXO5SxcuNCK6ypYRmVl5S7yqIpgIt8J32Be5WiWfMd7cNxOUlKS8fFgm8sB4nIERwkGgxuogyoWzCfn5eX9Trd+yXeE+6G6HdObiDku55lnnlGifd++fWRNUmNNeICsrKxl1LfC8bhx44Yr8x08eE3oFtSAIpfUo89NZjs2uhxq3isuR3iA1NTUxzl7XiZieHhY8h3BOG6ryfb888+Tx68ql1NYWEjWJC5HeAC4ElW0tLTk626P5DtCLHPmzNnhJrfT1tZG0iouR3AFV69eJQ2m6YJ8JxAIPK+7Xd3d3fUc3R0dHS26NQvqoLqd8+fPa71prlixgqRT5b4cTpYj1QeEe7h06RJ5MM0EU/mOA8VM15rQLTgPpwI1Dk7TpdNLLkeqDwj3gCkknZjIdxISEn7gxmKmghqobufkyZNaxoGNLufAgQMkTUBcjvA9Q0ND9DsxAxP5TklJyRaOZlOH1QnOA7dDHQc6KlBTXQ5+T5UmqbEmsOnv7+fNOTHAG1n4bfM53W3m5jvt7e0f6tYsqIG6bwfHRKvURXU5AL+rQpNkOQIbbiVpgKXVnP08IyMjku8IxliwYAF5/KrMdmx0OZLlCCzwtk4aQTFgpRsOfePWZxsaGrquu/2JiYk/cmMxU8F5bHM7NrocTpazfPly+a74nYaGhvfIIygCbrqoQh39m6FQ6BTn7zU3N/9d93UoLS3dytFsqpip4Cy2uR2qyzl69KhkOYJ9OFHAEyvAdu7cufD+v3358mXy30S+k5OTs0L39ejp6WnlXIvwDaJBt2bBeQ4ePEjqf6fdDsfloD6bk1qicLIccTk+p7i4+DXqOeZR7ty5g/D/hfH+/vbt22f7Md/Jy8tbbUK34Bzx8fFj1O+Gk26no6ODpAG12ZzScD+S5QgkAoHAi3hgcIDFLioq2jLZ51RUVKRzPsON+Y6pza6Cs5h2O+JyBM+Qnp6+iHNTjVJeXv7X6Xxeb2/vMOdzmpqaclVfk/spKyt7naNZ8h33M3/+fKPZDjXLEZcjWEVSUtIsarmPWOrq6t6dyed+8cUX5M/CNEd2dvYyVddkIrj5Tmtra61uzYKzmFrJxnE5qELtVPtjEZcjkLh+/Tp54EShhOUpKSnzOPkOdKu4HlPBqT8XOaxO8h0XY8rtyL4cwRNcuXKFNGhiwQZS6udzV8qZyHfCzvDHku/4G6rbGRgYIPW9jftyAoEAWZNUH/Ap3BMzwfHjx89xdfT19X3G0dDY2LjbiesxE7j5jqnD6gRn0O12bHQ51Cl5cTk+BaE2FxQBdUoPN9/Jysr6pVNapksoFOrkXL+WlpYa3ZoF59DldpYuXUoeY6pczq5d9AkKcTk+5MSJE/Q7fASnT8rE8dec5dqm8h3uZteJ9jMJ9qPL7eDcGwricgQr4JaiAQjSVWirqqrK4ugKD+grKnRNxvbt2//HjZtdBWegup3pnreDM2+oG1LF5QjGORKGPFoifPXVV0oHDTIijr6Ghoa/qdQ3HuXl5W9wNJ8+ffpb3ZoFZ4iLiyO7nels1vSSy0GGrEqTYCHNzc3VpJESg663cs6KOlRE2L179y906IyFm++gf3RrFpyB6na6u7sn/T5xXI6qfTkcl7N+/Xp56PiF8NsSfW1jBJyJg301OvRy851r1665Mt/Jzc39rQndAg9Vbofqco4dOyYuRzBHaWnpW9wCnvhChd3Dr3Tqrq6uzuFoHhgYuKBTL0hOTp4j+Y4/odZkm6g8zaJFi8jjSFWNNY7L2bx5s4xtPxAMBjdQz7iIgt83dQImN9+pr6/P1K25oqIigaPZyWXogj44FajHe0hQXY7KGmvicoRJycrKWsZ56wb4EsEpmWzHl19+SdaPB2ZmZma8bs29vb1dnOve1NRUrluzwMepBwUny7HR5axZs0YeOl4H2QsyGC7Igky3JS0t7Sk35jvcza45OTmrTOgW6DjldsTlCK4D2QAXm1ZTcRdCmMh3wg/+RyTf8R+NjY2k/o6G/9hwSn1wrVu3TsmYCY9lkh4gLscHYB8Nl8OHD3eYbsf99Pf3s47urKury9CtubKy8k2OZsl33Af3kDXq8utQKKTs5k6d4haX4wM4JfdjBu8p0+2YCG6+k5GRsUi35r6+vmOc/pB8x31Q3c7x48eVbjSlsG3bNpIeIPtyPA5qoXFBTTbT7ZiMnTt3LuTkO1evXjXyJeBsdo0UM9V+WJ1Ah7MQgMJHH30kLkfQC6ZhuAPXLUcpc/Od8IP1U92aU1NTH3NjMVOBDnUxAAVVWY64HGFcuHtZgNveSrj5Tm1t7V91a66qqnqLo3lwcPBr3ZoFOrrcDvcI7Mmguhz8nipNgmFwYid30GLqx3Q7KHAWTCDfSU9Pf1q35vALAqu/GhsbS3RrFujocDuc468ng+Ny8LsqNAmGaWtra+AOWFN7WJwA+Q6n2oLqatkTwS1mKvmOe+AcvjYdxOUI2qivr6etq4wBm72SkpJmmW4Lh9ra2nc418BEvrNjx44n3bjZVaBBPWZ6OojLEbRQUVGRzh2st27dGoNTMN0WJ+Cegnro0KE03Zqrq6u3czQPDAxc061ZoMHZtzMZNrocWfDiQYqKirZwC3jiLdtrRyRjKTTneoQfwD/TrZmb7zQ0NLynW7NAQ4XbsdHloD6bCk2CIfCg4EzLAKymwYPLdFucJiMjY4kb8x0Hipn+3IRuYWY47XaGhoaUjVfqCxym61VpEgyAqTBMiXGprKzcZbotquDmO/39/Z/o1pyWlhYn+Y4/OHr0KGd43oO4HEEpiYmJD1MrvMbih+kYZB2ca1RTU/MX3ZrxmRzNku+4A5SpcYLBwUHrshxxOR4Db7Nc2tvbPzTdDl1w8x24D92a4bI4/VtXV/eubs3CzOnu7uZ08102btxonctBFWoVmgQDcM5kiYINpKbboRNuvmNqnwF3syvabUK3MH24bifsaq1zObIvx0OgNA0XlMgx3Q4TcPcxmch3sILOjcVMhZnBcTs2ZjmyL8cjoPgmF7+fxcLNd7CXRrdm7BniaLa9Srjw3emiVLAKToUmcTk+h7vZEeCYA9PtsAFOHgbXgeoBujWjSgKn77GKT7dmYWZQ3Q72+zitZfPmzeSxJi7HA+AANfIIiICD3Ey3wxawj0XyHcE2bHI71Gl8cTkeAEdEk0diBFObHG0GS8U51xSVA3RrRgVszsNS8h37scHt4MwbKuJyXA6OJCb3foQbN27IIJgAnEXDubYm8h2c+cPRLPmO3XDcDqpXO6FBXI5PCd/QcsijL8Lo6OhYamrq46bbYjPcfAenf+rWLPmOt6G6HZzTw/1sjsuRfTkupqSkJJF7uuA333wjZ6xMA1wjzrU2ddgdZ7Mrpui8Uk3ci1DdDsYxfpfz2VSXIzMqLqagoGAtt2I0fj8YDG4w3Ra3gJM3Ode7r6/vmG7NGRkZi9xYzFSYHibcztq1a8njSWqsuRSsqrp9+za54wHedkpLS98y3Ra3wc13Kisr39StmZvv9Pf3X9StWZiaefPmtXHczpIlS0gPAKrLkRprLiUlJWUeMhgu4TedgOm2uBUcNkUF05nhPnxEt+aBgYELMl68yb/+9S9Snx48eHDGDwFOliMux6WMjIyQOz1KS0tLjel2uBluvoOaeCZ0O3BYneQ7FkJ1O3gBiouLm9FYFJfjMzib/qIcCWO6HV6Au0y9t7e3S7fmzMzMeMl3vImObGflypXksRMIBGTsuI2LFy+SOzwKKhaYboeXQH06Tn+YyHfq6+szOZol37GTl156idynixcvntYDAWfxUBCX40JQC42LHNalBs50J6Y3kpOT5+jWLPmON8HRBcT+nPKhwHE5kuW4DO5qKYCq06bb4VVycnJWuTHf4W52TUtLe8qEbmFicHQBBYzfBQsWTDoOT52ilXUUl+MycJ4NqadjQPBnuh1eh5vvhEKhTt2ad+/e/Qs3FjMVJofqdvbv3z9hfy5fvpw8TiTLcRFdXV3HyD0dwdQueD9y+vRp1k7d8vLyN3Rrbmho+BtHs18P+bMZqtvBVO9Eboea5WAvoe72C0Ta2toaSL0cA/aSmG6H3+DmO0lJST/WrTl8Q7nCGWeo/adbszA51Kmw8dzOr3/9a/LY2Ldvn9yD3EBdXd275F6OcPPmTdzAZplui9/Ys2fPC5x85/Lly0a+pJzNrpFipo+b0C2MD8ft3L9vR1yOxykvL2eVK4l2dnp6+iLTbfEr2HjL6T8T+U5WVtYv3VjMVJiYjz/+mNSX77zzzvd9+fvf/548JsTluIDCwsJXuAU88daZl5e32nRb/A433ykrK3tdt+bGxsbdHM2S79gFx+3Mnz//7gMDq14piMtxAbm5ub/FA4MD3lSLi4tfM90W4TtQwp0KvrQm8p2hoSH6PFuYqqqqLN2ahYk5efIkqR+R7axatYo8DsTlWA72O9y6xdrYfpfKyspdptsi/BduvnPp0iXX5Tt4S5Z8xx6obgcMDw+Tfk9cjuUkJiY+jM1TXHDOi+m2CA/CzXd6enpadWvOzs525WF1wvhcuMAqPjFjxOVYDmdXeJSOjo4W0+0QJob6xhjFRL7T1NSUy9Hc19f3mW7Nwvhs27aNNf5mgrgcy0H5Ey7hN+FPTLdDmBo35jvcen8y3WsPutxOYWGhPHRshXomRSxS7dc9YEUhZ8oK5+Bgqq27u7te1w/K3HCIHFY3z/S1F/S4HXE5FsOdbgEoqW+6HcLMaG1trXXgu+0qTBUzFR7EiRfdyZAsx1JOnDjBnlODVTbdDoEGdd+Dm+nt7R02fd0FtW4H+wtNt08YB+Qv3M41VSZFcA4nViu6jYqKinTT112g12Sbiurqarkv2UZnZ2cbt2Mxr2+6HQKf/Pz8NU580d0E8p3t27fPNn3t/c7GjRsd71u4nFmzZj1uum1CDNyzVgBWPyUkJPzQdFsEZ3CiirjbEJduB9QqBRNx4MAB6VebQNl3bqeOjo7KLm8P4sd8JxQKnTJ93f3O1q1bHetPWbFmGSUlJYmcZbIA0xLZ2dm/Md0WQQ1+zHdQSd30dfc758+fd6QvZcWaRWDenlvAE3Ole/fu3WS6LYI6CgoK1jry7XcRkcPq5Kwng7zxxhvsfhSXYxGZmZk/R4dwgEMqKytLNd0WQT3t7e0fsu8ALsNUMVPhvyBj4yAuxxKSk5Pn4tROLrW1te+Ybougj7Nnz7LHjNuQfMcsnGwHbtW0fiHCyMgI+8uIysSm2yHox4/5jrh5s2DfDmIAzKzgn5jSxz9j/1v032Pp7++Xh44NYB8Nl66urmOm2yGYIRgMbmAPIJeBN2bMDpi+9oLgNv4fuD9UcZYvtpsAAAAASUVORK5CYII=",alt:"our logo",className:"w-20"}),t?(0,bN.jsxs)("ul",{className:"flex space-x-4 text-center",children:[(0,bN.jsx)("li",{children:(0,bN.jsx)(Ge,{to:"/feed",className:"text-white hover:text-black",children:(0,bN.jsxs)("div",{class:"px-2",children:[(0,bN.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAc4AAAGoCAYAAADPSwX3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABPuSURBVHhe7dvhchw3rgbQeN//nfeaN3RF0Y6k5jTZAIlz/lhdZVnTAIhvepT8BQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+dX/BB7039/6l0N+/da/BII4hLDYuyF5lTCFZzlwMNnqoPyOEIX1HDKYIDIsvyJEYQ0HC27IGJifCVCYy4GCN+wQmJ8J0ByiZ8cc3KeAMGDHwPzM4nxe1rkxC+9RNLjohND8yNJca7d5MQ/XKRT84LTA/MiynG/3eTETP1Mg+MbJofmRZXnfabNiJr6mMPBClcD8yKJ836nzYiZeUxT4pGJofmRZjjl9XszD/1IQ6KoH5keW5c+qzYuZ+IdCwG9C8zXL8rWq82Ie/qYIlCYwf2ZZ/lv1mTEPgpPChOYYC9PM/FF9Fv7T/4Qy2vJr+iUXqRn8zRMnpVj+91V92jA7/1b5qVNwUobFN1elxWl2XqsanoKT41l661RYnObnexXD0+84OZqlt1arb9MvoQRPnBzJMn/eiU8e5uiaak+dnjg5jmUXo9W96ZdwLE+cHMPSzuOEJxDzNKbSU6cnTo5gyeXS+tH0SziK4GR7FnReesOJfFTLtizlfez2MZ7Zek+Vj2s9cbIli20vrV9Nv4StCU620vevBbwpveMEPqplG5buWbJ+rGfO7qnwca0nTtJri6zplxxCT9mV4CQ1y/Vsrb9Nv4QtCE5S6vvUQi1Cr9mJ33GSTrUl+t3vhCoGSvTvyCrWfKbo/j1BcJJKlaX1znKptNAjl2+lOq8Q2bunCE5SEArXValV1AKuNIsrRPXtSYKTcIJgXKXl/vQirlTbFZ7uVwTBSRjL/74qNXxyGUfX9O697v76d+C/qiVE9OF+SlsiTb+cbuW/nUmbl6ZfQijByaP6/vOUNFH7OU2/PFqV2SE3wcljKgVm0y8fE/EzI7Q5avolPE5wslzfc54yH9B+ftMvj1ZlpshHcLJUpcBs+mW4TK9lpTZfTb+ERwhOlqmy0LKGVHtdTb88mvDkSYKT6doSa/rl0XYIJuEJcwlOpqoUmE2/TG+n13pHm7+mX8ISgpMp+r7ylJlYe91NvzxalVkkhuDktkqB2fTLbZ1wD1e0uWz6JUwjOHlb30ueMjfU7qfpl0erMqM8R3DylkqB2fTL45x8bx+1eW36JdwiOBlWZQFVCZV2n02/PJrwZAbByWVt6TT98lg9R0oEyUdV7rmPsQDlbYKTS6osmoqB+VG7/6ZfHk148i7Bybfacmn65dGqBMYVwhO+Jjj5UqXAbPolXZWatDlv+iX8SHDyP/oe8ZRJqTcVVWae+wQn/1IpMJt+yQ+q1Ep4coXg5P+1hdH0y6MJzPe0ujX9EsoSnHjKZIgaUp3gLM5TJu9o9Wz6JZQiOItqgdn0y6NZ8OuoLRUZ+oIEZg6jfTjtfnjtbp+j+5B9TmcQnIVUWmyZD+/dPpx8bwjOHQjOIqostMyHdnYPst5rlVlb5W5fo+ufdS5n8jvOw7VD1PTLo2U+sCt6kLWvrQ9Nv4TjGO6DZV2ss2Ve0k/1IGsNqszgTHd7GV3zrLM4kyfOA7WD0/TLo2U+pE/2IGu/W3+afglHMNCHybpAZ8u8jKN7kLU2VWbzrrv9M3/reeI8SJXFlPlgZuhB1jlofWv6JWzLEB8g66JcIevizRxW/ctUKs3sqLs9i65t1pmbyRPn5qosoHYYm36ZSuYeZH1tvZ3HL1jOZHA3lXlZz5Z1we7WA3Xcw90+Rdcz65zN5IlzQ1UWTTuATb9MZcceZH3NWXsMXzGwG9lxWb9LYK6lvnnd7U10DbPO1kyeODdRZaG0Q9f0y1RO6kHWe8nae/jIkG7gpIX9HYEZQ91zuduP6LplnaeZPHEm1g5A0y+P1Q5a0y9TqVD/rPeYdSbAYCZVYWE3AjMX/Yh3twfRtco6QzN54kymDX3TL4+W9YBVqf8rWe+9wjL+o/L87aLMMO6gyoERmHvQp1jv1j+6PlnnZiZPnAm0QW/65dGyHqoq9R+RtSYVFnNjJvMqMYCZVTkcAnNvGftXqXcj9Y+uS8ZZmU1wBnHo41XqwQz6GOtq/aPrkXVOZhKcARz0WFXqv0rGvlbq6U/1j65FxvmYze84H1blgGc9PFXqv1LGGrZ5a/rl0cxwvBKDlkGVYc+6vCybNTL2u1KvX9U/+v4zzsRsnjgfUOUgZz0wVeofIWNt2xw2/fJoZjtGieGKUmmoMy4qS+VZZiDWn/pH33PGOZhNcC5S5cBmPSRV6p+NeYjV6h99r1lnYCbBOVmVA9pkPCCV6p+Z2agrY+9nE5wTVTmYWQ+GxZhLxjkxI+tl3Q8zCc4JKh1Gy5BRZqaWjP2eTXDeVOUAZj0MFuAeMs6P2Vkj666YSXDeUOXgWXrMYpbOl7HHswnON1Q6aBYds5mps2Xs72yCc1CVA2a5sZoZO1PGvs4mOC+qdKAsNJ5i1s6TsaezCc4LqhwkSyzenx5Uve9MqvVgloy9nE1wfqPSwbG44n3uQfX7z6BaD2bI2MfZBOcXqhwYyyreTz1Qj1jV6n9Xtv6tIDg/qXRIMg54tSV1tQfqEq9aD96VsXezCc4PqhwMSyneuz1Qp1jV6v+ObD1bQXB2VQ5ExqGutozu9kC94lXrwYiM/ZqtfHBWOgDZBrra8pldf/WLVa3+V2Xr0wqlg7PK4Gcc5GpLZ1UP1DFetR78JGOPZisZnJUGPdsQV1syT9VfXWNVq/93svVmhXLBWWXAMw5vteXydA/UN161HrySsS+zlQnOSgNtocSKrn+lWjfZ5r1a/T/L1o8VSgRnlUHOOLDVlkiWHqh7rGr1/yhbL1Y4/garDHDGYa20PLIui0o9aLL1oVr9m6xnYaZjb7DKwGYc0mrLIvui0I9Y6n+eI2+wyqBmHNBKS2K3BVGpN022/lSp/27n4h1H3WClxWApxNp1OehTrEr13/WMXHHMjVUZyIzDaBnsp1LPmmx9q1L/U87LZ9vfVKUF4PDHOm0J6F+sSvU/7exsfTNVBi/j0Dn059DLWFXqf9I52vJGHPQ4lWrfnHTYv6OvsarU/5TztN1NGLA4VWrfnHLAR+lxHLXfx1YvvspgOdCxdj/Ud+l3rCr13/mcbfHCKx1khzjOzgd5Bb2Po/a5pX/BVQbIwY214+F9gjmIVaX+u52/tC+20oF1WOPsdmCjmIk4ap9PyhdZZVAc0Fi7HNIszEesKvXf4VwajCAOZZwdDmZmZiWO2ueQ5oVVGQgHMVbmw7gTcxOrSv2zntfwF1XpADp8cbIewN2ZoThVap/x7Ia+II2PUaXuf2Q8eCcxT3Eq1T5T3cNeSJWGZ2p246CxitmKU6X2Wer++ItwuGJUqnuTqfaVmLM4lWofXfdHf3iVxmY6TI0DxdPMXJwqtY+s+yM/2CGKUanuTabaY/4iVap9RN2X/8AqDcx0aJpKB6fJVn/+UWkW7YEYT9d92Q9zWGJUqnuTqfZ8zVzGqVT7p+q+5IdUaVSmw9FUOiBNtvrzs0ozaj/EeKLu03+A5jyvSs3/yFR7xpnXOFVqv7rm0/5xDYlRpe5/ZKs/76s0u5nmVt3vm/KPVmmE4Y+TqfbMY47jVKn9iprf+gcrDb2Bj5Op9sxnnuNUqv3Mur/9D1UpuCGPk6n2rGe+41Sp/ayaD/8jlYbbYMfJVHueY87jVKr93boPfXOVwhrmOJlqTxxzH6dK7e/U/PI3KubzqtT8j0y1J575j1Ol9u/W/NI3VSiioY2Tqfbk4zzEqVD7d+r94zco3LMq1PujTLUnL+ciToXaj9b72798esEMZ5xMtWcfzkmMCnUfqfV/+p/lZBnIxjKAa6rNTpbd0Ore9MvyvizEycs8ywCcXONXHDxmcn5inFz3qzUuFZxZBq85efheyVR7zuEcxTmx9lfrWyY4swzcicP2nSx152zOVYwT636lti//wknFyDJgzYlD9p1Mted8zleck2p/pa5HB2eWwTppqK7IUndqct5inFL3K/U8MjizDFJzyjBdlan21OXcxdm99ldqeVxwZhmg3YdnVJa6w0fOYYyd636lhkf9f5yGJkaWusNn1WYzy+45ve4vb263xZ+lSbvV7a7TDwdncT5j7Fb3K3Xb/onTcMTIUne4qtrMZtlJJ9b95Q3tEAJZmrFDrWY68RBQj3MbY4e6X6nVlk+chiBGlrrDXdVmOcuuOqXuL28iayBkKXrW+qxyyrDDK85zjKx1v1KfL/9CtpvS7BhZ6g4rOdcxstX9al3SB6cGx8hSd3iScx4jS92v1uPbvxR9M5oaI0vdIYLzHiO67iN1SBucGZoZ3cinZag5ZOH8Py+y5iP3/+NffPpGMjSviWxghCx1h0zsgRhP1330vi/95aduomrTImWpOWRmJzzvqZq/c7+Xv2HlTWRpVPNUszLIVHfIzm6IsbLu797n0DetuIEqDcokU81hN/bE81bU/M79DX/jrBvI1JRmRWMyylZ32JF9EWNW3e/e19vf/O4NZGtEM6sZmWWsO+zO7ojxbt1n3cuUf+TKTWQsfvNuA3aStfZwAjskzpXar3jtpRfq6QOfddjhRPZJHWULYciB2eyVGgTnYQw2xLNfzlayCIYaWM2eOVe5Apw4zAYZ8rJzzvOf/iebEpqQmzN6nlINPemdn8MI+7GDzuCJc0NCE/Z00tk96U3AqDIL+IQmC0w4h520rxI3bUCBjOymPQnO5AQmnM+O2ovfcSYmNKEGZ30vxzdrx3dyDhHUZWfl54kzGaEJtdkB+R3doJ3euTkswGd2WE6eOBMQmsArdkNOnjgDORTAVfZZHsfeqCEDTmOv5SA4HyYwgbvst1h+x/kgoQnMYJfEEpwPMejATHZKnCMLn+1jDAMOrGLfPc8T52JCE1jJjnme4ASAAYJzIe8EgSfYNc8SnAAwQHAu4h0g8CQ75zmCEwAGCE4AGCA4AWCA4ASAAYJzAb+kByLYPc8QnAAwQHACwADBCQADBCcADBCcADBAcALAAMEJAAMEJwAMEJwAMEBwAsAAwQkAAwQnAAwQnAAwQHACwADBCQADBCcADBCcADBAcALAAMEJAAMEJwAMEJwAMEBwAsAAwQkAAwQnAAwQnAAwQHACwADBCQADBCcADBCcADBAcALAAMEJAAMEJwAMEJwAMEBwAsAAwQkAAwQnAAwQnAAwQHACwADBCQADBCcADBCcADBAcALAAMEJAAN+9T+P8t/f+pchfv3Wv+Qg0XM1mzk9k/23nuBcwEI6Q/QcPc3cnsH+W09wLmAB7St6drIww/uy/9YTnAtYOnuJnpfszPNe7L/1/MdBlNUWTNMv+UIvkzpBJzgpp+eAIBjUy6ZulCc4KcXiv08NqU5wUkJb9k2/5KZeTvWkJMHJ8Sz4ddSWigQnx2pLvemXLNLLrM6UITg5kkX+PDWnCsHJcSzwOGpPBYKTo1jc8fSA0wlOjmFh56EXnExwcgSLOh894VSCk+1Z0HnpDScSnGzNYs5PjziN4GRbFvI+9IqTCE62ZBHvR884heAEgAGCk+14ctmX3nECwclWLN796SG7E5wAMEBwsg1PKufQS3YmONmCRXsePWVXghMABghO0vNkci69ZUeCEwAGCE5S80RyPj1mN4ITAAYITgAYIDhJy0d4deg1O/nV/zxK9CH89Vv/kht2XabR/Ve32qL7X6GPgnMBC2CO6D5esUuv1bKO6F5X6KOPakkp+6Jvy6Hpl+n1l5v69WbvOfwhOGFAz59t31H3l+/JDm4QnHDRSYEjPOF9ghMuODFohCe8R3CSTrbfdZ0cMNnuze852YHghG+cHJp/VLhHmElwAsAAwQlfqPQk5qkTrhOcADBAcMILFZ/APHXCNYITAAYITgAYIDgBYIDgBIABghM+qfwfyfgPhOBnghMABghOABggOAFggOAEgAGCEwAGCE4AGCA4AWCA4ASAAYITAAYITgAYIDgBYIDgBIABghMABghOABggOAFggOAEgAGCEwAGCE4AGCA4AWCA4ASAAYITAAYITgAYIDgBYIDgBIABghMABghOABggOAFggOAEgAGCEwAGCE4AGCA4AWCA4ASAAYITAAYITgAYIDgBYIDgBIABghMABghOABggOAFggOAEgAGCEwAGCE4AGCA4AWCA4ASAAYITAAYITgAYIDgBYIDgXOC/v/UvAR5j9zxDcALAAMEJAAMEJwAMEJwAMEBwLuKX9MCT7JznCE4AGCA4F/IOEHiCXfMswQkAAwTnYt4JAivZMc87Mjh//da/TMFgAytk2y3Zdu8qnjgfIjyBmeyUOILzQQYdmMEuiSU4H9YGvumXAJf19WF/BDs2OLN/1t7n3wEAftTXRep9UeX3m83RN5p90L5SaQBfie6b+qt/pOj6v6tS3wQnALcJzoMIT4C1KoVm4z8OAoABghMABpR4vPZxLcAa1T6mbTxxAsCAMu8UPHUCzFXxabPxxAkAA0q9W/DUCTBH1afNptyNC0+AeyqHZuOjWgAYUPJdg6dOgPdUf9psyhZAeAKMEZp/81EtAAwo/e7BUyfANZ42/1G+EMIT4HtC898U4zfhCfCa0PxfCtIJT4B/E5qvKcoHwhPgb0LzawrzifAEqhOa31OcF4QnUJXQ/JkCfUF4AtUIzWsU6RvCE6hCaF6nUBcIUOBUAnOcgl0kPIHTCM33KNogAQrsTmDeo3hvEJ7AroTmfQp4gwAFdiEw51HICQQokJXAnE9BJxOiQDRhuZbiLiREgacIy+co9IMEKTCLoAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADYwF9//R81NU4qaZGQmgAAAABJRU5ErkJggg==",alt:"feed",className:"h-14 m-auto feed-hover"}),"Feed"]})})}),(0,bN.jsx)("li",{children:(0,bN.jsx)(Ge,{to:"/hierarchy",className:"text-white hover:text-black",children:(0,bN.jsxs)("div",{class:"px-2",children:[(0,bN.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUIAAAF4CAMAAAAWkgBlAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAvdQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////GN55eAAAAP10Uk5TAAw0WX6jwMvU3ebv/3xYMwtBhMHq6YJAATJ2ufb1uHQwPZPn5ZE6OY/k4o02BF/V0lsDCW/gbBGA7OsQcfHwAtEVov6eE25qGMVz+/qxqxraFiHh3h4lL+3Wr4hhPyYZDWKJsNcsIvycZjFnndP9I3ASFHIXmTj3DwjK6HvD22gGB9y3kPSLTR9I82MbBdgnK5QKqWlP+FWb8pZlNWBrU4ffychdHB3ZSlSlqnh6ku5JQ6BtgSq6PHeymlqMqH+ktcK+ziguvE55rZXGSyCfJEaFROM3RXWOPlH5rCnPzNBQfZe/u1fEirO2g6FHtM2YhlKmri2nDkxkVkK9XCnh9dgAABPxSURBVHic7Z13YFVFFsYvSAu5IEiRDgKiIAEMJdQEDL0oTXoThCAlUpQqmqhhKVKVtirSdZEVUZqgrkgRBVaJwirCyuoCIq6664rb/ti8QEggZ8q9Z86578H8/mVmvjnfeby8mXvujONYLBaLxWKxWCwWi0VCnrw35ctfoGChqMLRrutGF44qVLBA/iJFby4W9MQig+K3lCjpiihVovStQU8wrClTtlz5CkL7sqhYqXKVMkFPNSwpc1vVakr7sqh+e42g5xt23HFnTW3/LlHrrtpBTzqMiKlT16N/l6h3d2zQUw8P6jeo5cvAEA0b1Q96+sET17iJbwNDNC3SLOgQgiW2eQuUgSHiGyUEHUaA1PD3HXgtLW/YPyyt7jFiYAaJrdsEHUwQJLSNN+VgBtHtbrz/ze07GDQwRIdWQYfETA3xOtgv1W6sb8SOnYw76Lqd2wYdFh/FuhAYGOLeG2U3rE1LIgczft7cGL+z7+tK5qDr1u0WdHgMdO9B6KDr9rw/6ADJ6VWK1EHXrd4r6BCJ6d1H04m+/foPGFh20OAhzpDBg8oOfGDosAc1ezYdHnSQpIzQ2JZJajnyoSrQRmDsqNFjxiarB2jyMHtcfHRT7wzWGzdeOsSEiYWUY/R4hCkefpr1VcRe4VGdFcakkZNVeZhCHkswTJ0mD3z6Y7qRxxVRrA9nTCWNJChiy0ujfvyJFA+DpT7xpHS0p67LpypPy0JOm+h1syq2ckXZgDNJYgiW38gCrnSfjxFnST/Ws41HEDSz5oijrTjX56CjJX9Xop8xOv/gmSfZWpi/wPewCyXfiNNiDM4/DFgkDrU15q/n4mfFA99pbPbhgPiLMPE55NDjEoVjLzEy9/CgWbQoyqX4MJd1Fg0efR3tHi4XBRl/h4HRB64QDf9bA6OHB3lFIVb3/4ckJ8OFVXWjjIwfPGXqif6jDTKksED0RTHNkEDQPC+Ir+ILxiRqi34gvmhMIkhSmsLRdTJZNT1b8FS1eopBkcBYCQeX/JJRlWWC3zYPGVUJhpjCcGylDeusgmVWXwe1NnPh0NaYDi1mLSy0zrAOPwnwM8/o9caVNsA/D1+O+Bcs7oY/G68QSL0ES/2OQIqTMo+DYW0kEXsV1BpLosVHcTCqioNJxAbD+9gR/pbPo2BQm4jUfg+qvUakxkPsZiimqHlEcvPAr43pEf0H5XXwY3ETmR78x2sLmR4Db0ARNaT7tZsAvsm3nEyPnnngTzXsPrWMNyHBzVRfHAxsgQJqmkKoWB/88h1IqEjMViie/qSSd0GSRUglSSkAxbONVLIsJLmdVJKSGGgjtB6xKPS7ZnLEbtfsgD4RO4lFi0CiEftWD7RYSDS/RXM1GyALKxOLklEJCKYluSpUB/oWuSoR04Fg6B/t7gJUa5Gr0pAK/ZfaTS67Dvr6iNASpYWQhbPIZbtDsqaeWDMD1SLNYdCFjnuI0ILNBkAoaxh0oar4dgy6BNwOhJKfQXcjoPs2gy4B7wCh5GPQfRfQ/QODLgHvAaEUZdDdDeh2YdAlYA8QCse2E/TI630GXQL2AqGUZdB9AdCN0Co5aM+E42XhfYDugwy6BEDru/YMuusB3ZoMugRAD8Y5jvCYAui2YNAlAIjEvb6FjZMGRMJxYmMxQDeNQZcA6CCLCQy6jwC60xl0CegJhEK/UeM4DwO6TzLoEjAWCIX28d0l9gO6LRl0CYAqd829JyGmBqDbgUGXgANAKB8w6ELVruUZdAmAzofjeJR2END9kEGXAKg8k6PICion+4hBl4DKQCglGHQPAbrjGHQJWAKEUo1BFzoF4jCDLgHbgFBcP0eBeOMIJBuhT/BioVjonyO/CKgmRerJP6uBYHaRq/4RUI3QxYnjbAeC6UquCiXuKXJVIsCXMz8mFgW/gW8hFiXjEyiad4lFj0Ki6cSiZEyFXlV/nFj0U0CzU+SexQee40/7EO8zSDJCNxlCgP+paI/FA4/4O0oqSUo6FE9Jys3/POBxK8cIFYmB336iXK8ehwTnRPDbT84YKKLqKWR68IEurcn0GAD/J7vPk+nBB7pE7E+aEGWgiga38GIiuSHgh7BURL+PLDgDdyiR2p9AtaeJ1JgAf6a5nUeQiC1IAtUi9tWny8BH0h8g0YJv5Ioi0WJkIhgWyVFajWCp5gRSrNSH74yevNC40rbOoFLTiL949XP4o+F2Nb3yXwwfKuQeNKzDzgbhFTFjDCsJTmeOzmNYh5tUqK7mMmZvresoUGlsVCUAoFdPskj8wqCQ6ARI8tefqQEX/Vc4McmY0A7h7Y5fGtMIBHDjPweb9xkSGi482dp16xjSCIQRytt7a540InRScNZpJmkR+hQ+RB7VTU8ZRJtYfOWVp+qUAYmA0Lo7tcInaJ101WVadxkIJhCg9zEBOmFfbFwG7y3kJEL3C6X3FOUkcSjm3IR5d2pINOF458o4+yT3FF3Lnzf4ljnylZZCJB44NSVK30HXjfdb/XdaN1HljEbHAlSQJONZP2WH6z/UF+B408Ao/T06mPHrbVOKR43Uv8DbaDA9I2y34bRnBzPo8VyqB4nUN6HaGQk0J2lT0dvLxyMH1cfp7iHWryy8Z0dIJJ31P159g6+IzYt0apZe+Fp4G5eEtO7kkRvjG98OhmjZQHE/cnPJFqSUgkzx43kN5aCruKW7nnotIoTq6bVp6iji6KwZr/+74sVExkIPfvSeTY9RUDU5E9U4XijH0kpxe/bS4U430ZVuDPw1aH/UzFujiOFMRqMhZwlNaij/54lBO6QEPNI/B+cyW6V+a8yxazmfCr0Enc2JcL+eUVCRcYUDl4+XTtiabM61HCTnS3AmCG7du0xPjoNy/LND8YMjasqVpumK70xflMw8U22L+LLfEG8EZo8G4sKFS8zJeYdqe7gKC0OByxur5+TNzN5gaJT6ilVD4utXNY89Kv+0eCX5u6xD6GNOSRuuCN+FXj9FjLkqM2rPN2egWzfHo8Aj8C1aWewN1wOayyliPJ+74DmmnDxWfdIqX7UgLCpvvYrLE29sUfyNnQ9ueW6AjrD3zrBr97wvSJsnfs5giGdUhQvxouLq0x53TgGqf59r1MXyVWS1OFo3/JBH8bWWLL4DbOpK3KI5CtzsrnJC2ulvdFb4pMx5RZzSB2ixd/tfNX+1W3AZjKDEOwuztY0GaKwItJ9qgMMzfBlYQnI5q2KhN9xk/Hjg+wKzGatRML6t9Mse/Zu/VXq0rmKh93JYveS9QPE8vI9msUKVVdCBhzA9+1dRDadY6I1ERm0SVeFC0g79sT6us6uuatGSWGhXHa2jnRUPs8NnoZcg/9Jx3UYeB5yySTjUih/eafzKFPUQl1At9PxX8hhGsaj3sTNyq2ioQx4HOiIpH85gbZjc7HZG4eAa7y+kCy0s4HWkL+Rz+87z1CgYvlQ+y5KtvI9pzkLw7KlswmKhpypc6OynlNqghYu7SqcXBgu9WNUvYl8vLBi00FkY7gu9RQoHq/oa1aSFzjj5DIO+EkpVuDDD36GBRi1ULPQmB7vQq91Z7mAteX2RELMWTpCX0QW60BuseAhXwW+CzVro7JAvd370OUsDzIOuJcrJab8jG7bQ+Uk+z+AOylUVLvivRDNtYYy8SmVzUAu9NxUOHvC/ejJtobM+LBd6HgoXPGPcQtVCj/pcTxBPhQteMW8hfPraFZI/Q8zWJx4LFzxCYKFioVeLf6GnKlzA/c8gsDDsFno7FQ4ChQteoLDQaSuf8mjUjD3jr3BBHxILwTtes5nMevqA78IFXWgsbCZf6I1NQc7aA4jCBU1oLFQt9BZhp62NsnDhOFqCyEL4hOhs2BZ6WxUOvoOXoLIwQbHQYzp9QFm44OWFWAFUFqoWeiVYjnw1VbgghcxC1ULvMQOTV2GycEEMnYXOcun0GRZ6ysKFlUZkCC2cqljoDcHPXs5MhYOGXukgtFC10KM+Zo6gcAGE0kLVC1pzDUiIGaUoXCjso3ABhNTCIBd642UH3GXQ2dgLgrQWBrfQoylcAKG1ULXQozvNvqrCwdfMSRFb6JSWRyKp30ZBVLgAQm2hYqHXlGahR1W4AEJtYSALvfbgrSXZVNhvUo3cQufv8nB2mtLJJpWscAGE3kLw8utsOpk/fUBVuLDKrByDhfXlJ/X2HGJM6RKKJzeYwgUQBgudhfIjdA0v9CgLF0A4LHTayYMyep74LEXhQpqpE9KvwGKh4ll4msH7c2kLF0B4LFQs9PammJOSv3fg5jOnlAWPhc5t8sDeNqdUQCqkfE3WB0wWql4Bxh/7noXUQmzhAgiXhaqFnrFj5mQWtiC5zo7LQme9vC7D2HniMgtp7sxls1B18rGpY+YkFnY0JHENfBY6X8s9NHSuktjCf5gRyAWjhVPryhxca0hFaOFeA4ULIIwWyhd6pvSEFpJdHs5poTM6SAtvNSSQC1YLnZ+thViaiU+8shZqUltY92wt1CWftTDs9ayFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFaKyFOKoc3C68T33NwX+akMiNMKRTU3j1DFhYY5po8Mt0yIsXyUXvqmLBPTuNp633JmGU8eWRckdeVRgY4pcNhiLJIm9BhWJBo2mjlLv49gkNB1136dAh5gJyjtzLmjZSubbRWgaG6NPWVEQXz2lKnhsS9nJxa7UNDFHAyNd8TNsm2ool28WGt9yIKE8Ouu78WdiA2NNGK3fzZk+jhyiJ/o5nThut3K+TPY4eYvISTECO8xlv2mjlRnse/BL/8h+Q47zkS9J32mjlPvE1eohjfgNiTxutXK80n8O7botB/gJynGPJPiWTi4efXNxqn6OH6HnRT0DsaaOVm3fI9+gh3vf1Y405bcRyGxGjh1juw0HmtBHLjUONHmKldwuZ00Yr1z0JObzrnvC8JGdOG7FcfvTwrjvGo4PMaSOWOynrmHbhg7Ld45y47mU/uCD9i+bxT+Q96JBcd2TYyH0p7rV22dQcDaf+e4246T88OcicNmK5ssIufXOvbL54UNja01b5h+KJrj1zVdrOSNL2S5jIVRL1aAQ2by5q/pZuPI40bb/marxEnLb9YSF3RNB8xX8E8zm2QtBjvV48IZjTRizXAG7d82PhhPY1hLu004vHEactfougQ3oLQQ+ttFHL/Rdsu/lhyZR6wY+Yy+uEkwlz2ojlLoI/mJIGSue0BdzySFqsE0+I98H5tTgi6bIATtv2MJDbDTYdoJhUW7DXGZ14HPa0Ucv9ArU8oJxWCajbRnU4mTCnjVguFvziVD8tqA11i9fcPGFOG7HcFqjdt+ppwb8TRL+DroY5bdRylaF2ryiHz/gBCnXsqNGRPW3UckOBVhVSNMZfDFXerNLoyJ42arkxQKthGsM7zntAz11aPZnTRi3XBWg1V2N4x3kO6PmzVs8xQE/CtFHLdQBa6T29vwPouUerJ3PaqOW6Aq26a42/AOjZV6snc9qo5aASE71apglAz1JaPZnTRi0HNHK1hkd07QN0JEwbtdx0oFU3rfG7AT2na/X07b2/rtRyLYFGejv4vYGeX2n19J+2R4CeyrRRy5UHWok2Iq8GqgSrpNWTOW3UctDDwYla45cDer6h1ZM5bdRyM4FWWtuY4G53f62ezGmjlusItFqaqjF8MWgfc5zWzJjTRi33P6CVO1tj+F+hjkW1ZsacNmq54ZATXTTGh9aP7j6NjuxpI5f7FGq3Qzl8DahbdY15OexpI5d7FGpXUDn8D1C3jzTmFYI5bdRy4L6ie1wx/EGw12F1OJn8CHWmSxu1HPid6SanS0f/PhHqdCJFHU4mzGkjlzsANo2XVTMMmgP20VubOOxpI5ebCNrhRi0Qjr5PUDqv/26tIG3iAg3HOQkXQ2mljVpuH+yHGy/K0veimh3ZlK6GOW3kcnDFiesmwe07il4h8nAmhKjotIUobcJSq15hIQf+bspkT+7jVNKhbfRMErfpRHMZ5rSRy10QueK636xrk6NhmwfOipt6KvnfLxzmbO5PxmzxS9jDw0TuGel7yKeGzi3e3RlRfO7QU7JmFQbrG+jI01b0qrStM5E2crmjMm802erJQe60kcsVg57QeKOkdnnmZX5CS7pu6TCSOwz+jvRAst42cA6Y00Yv9xhy+J1eHWRPG72c5N0WDfp5d5A9beRyi+shRh9b34+F3Gkjl7vf/5dFH59nWzGnjV7uc79nPySpdy8FMKeNXu55n8PrFZqBpPuOSf7GQ2Bys/2coJGm8yBHCHPa6OVEWzwSVus9tBOSDu/eypkj3y0NVC5OuA8joECc32CyYE4bvVxMa0+jt0YfJsieNga5tvrnQHSC3+b1CnPaGOS2af4ETfxSvG/uEea0MciNOq8x+HsmD0lmThuH3KQZisFnmD7XmjltHHILyp0VrVaSZxw39l84B8xpY5EbP6BfxVwDp/384nj80DDMaWOSWz9p2cSZ9x6q6dbs8OrM5ssmeTgExBfjB3TJvUVfYRhV2pjl2GBOG/enxGKxWK4n/g+/mtpnzM+5VwAAAABJRU5ErkJggg==",alt:"hierarchy",className:"h-14 m-auto",class:"hierarch-hover"}),"Hierarchy"]})})}),(0,bN.jsx)("li",{children:(0,bN.jsxs)(Ge,{to:"/friends",className:"text-white hover:text-black",children:[" ",(0,bN.jsxs)("div",{class:"px-2",children:[(0,bN.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhwAAAG8AQMAAACvxO5MAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFAAAA////pdmf3QAAAAJ0Uk5TAP9bkSK1AAAK4ElEQVR4nO2cX46kOA/AQUgfjxwhR8nRws2Wo3CDncdeqdR8Uw1J/D8uoGe3pfLLdIXwi2M7ARJnuu4tb/npMmzbNl9k9NtTLkLCF+TXDYpcVGU6IOsVSDogjwuMYcsyn4dMBbKeh8QC+TjN6LcqpyEjgCxnIQFATsdbBJDTRgGM7fMkY4CQs5EyIshyDhIQ5KRlI4Jwy46eMYUY3LK9R78eQ1jMRo+9BwIh1XuXqSYCWcXLjfgJBELazGa3+xMJhLhHUZBIIhDszkFhY6HOIe4JcjER6hzS+ygXExkZZIGXa/FqQKiHcW2gp2WUwCDQx0BPa/yUTv8tNQn0tMIt1SpCk9WupmWBIYQIT5rBkfTwxqM2u8ptJUL2CoFCUBDp7hlgf9GPp6Ag0t0zIjPQzqMg0t0zIU1jMXIH+8dsRSSg2yZiwYQgiwSobc/Hr4FYEDH00RNxbzGETBOqjxO2O/5JpgnVx6SJgBQj04Tm4550dkJuINOE5uMe2TV34EUIvolCA4ZogTLQFhAkEsjMAU8ZqdW/7luOH+m4+a/j34UDSq8ZZIVqPRU9+rVyQIGsSkFfb93/UqItUC1HULmv5gwWJFJ7DaDy7rpHYWshG6nnelB5BIaoPC6JxlAPKo/Ar/EVSAcqwzEQaEDJt3BsYFrpEGyuSCDHVTo+gAivl6FW5oE3q5AVFU0EsoBuypCBj4ixQtB9kVdtQObag1we1MEzcB0HDCleZaNM0j1LX5SDwYvHwzdAJiEMi9rY//rHxiQMiJQhA7YCj0s3ZEHlIiQIF2JWGzg7l4vDuA3BdVUINVYpm5yQqEA+MgS4TvJkgaykbIIQ0PR4ChI4RJxQkjAyx3wvsfpwGgIM1luQmZQNt0Kowfi0oZcP2QuvQGhZfztkARekvjch1HWSK2F9kUxbppr9QAgsDzqETxHpTgh1XRCG/F2QQYXMOwQZbPpmCH+UxDfkDXkNgiJx/And4e9y4b9o2DfkvwzxzvbfDEkCZPmjkAQgM4ErEP3h5YS03wpugSyk/GUIbZlqBiD6m1IkcbH9qxD6gfAyJAgQzuADFZFfgOiv5WHzfXk1IZ4PSclW5XvH+zUqxU8ZUN7vYhPi/cyXhsN4P6TqGTUIjeynlC907/pJG1KvbhZEXbXwrikFBfKr3OZY3QqCilU7Dlk7QdoQx4qfubrlXXu0IQkGSsQOJxB1xc+7HmuuPXpXhm1IAO4x1qjt9dgvSHu13F4Zdq7b2xDnDoK9Wu7cy7DX7cH+JN2qRMIvxdp37/4OVzIBA26lP/UvQeAtHLvf+lk2BE9B0n5va/ct0hBCM1HcsMwGBF4bICQQiMywd9+8e6MT9RyawJxbvfaOpBMy0osJ9s+5c23v0jr30O39Yuduvr1z7cwrEPfQa/cigsz8fqCwtpvvzbVI2D3kpzPrI+I2iCud+ScR9ZZOYM5MmIAsS7M+kI9X4XZ4Gx77oDZ0zyzcvoudCYMmA5XRyMlxJjvZ2UHO3C07T8mbRQaqSDmBqUAWA5JK81l1FJnVsgajkUXmzPGDToRGJt01TdLIrHPmPTZy/HwZmI1sQ18uaCPv0ZmVmgiDzj2u/NhIIMyXnkzdYHrYKY38WJ9QHy9nIK2cYZ9gxsm8cOzjk8cQsHtOZnRj9yznILdkud+Sb39P5j+07OkzCLechrjlXMYtJ0TuOatyy6mZW87v3HOSqH6oXVdFVqR3e81QxN9R/cRZvO634v5LB8lKNN+gyCVV6jRxwf93zBJwqjndHzjpne5PApCzoYKfJrc8105OFBFBbnlhOOdk+np6y5vYKaMQk5wzCmW0jNILscRftm2joPWoLPzbwZ5q9zorLgwMYg6fXB33KDGINXxK5+WPLp9lq96wlH8JOY7f0ErcrpZllW95btfmas4hay2OAkSNWW25RmKo7sHDrBTzeCWaIsFqL4KC/9Q/Ffdoa4PVOTNoSHGPttQZkG7p+KG4J2AIO2PywE3JkEQgKylf8M9ZYjAn5F6T7k2YaZqk9Jq+3PTkt2kSvKUC1E9YUdMk2ShsyWPC3TNNktsKVPuBUg2T5GqJ2fEoESB8Negww8ZuCQybJQqQpXYTWmCEJkMiML6qDdQkxsKQON4/arNI93oVizSPfll2EqwYWQ93kez6dWsQbphKE1iiCFnyBaz6IGj3lCRC1nxhlQw4E4Y8jz4VSFL9lPWUFNyVDOXvR/YEqR4E9aBd5w5QPuERL1Zd2v4H9IqUtzHlI2Ox6o96t8C91Sq9qB9WpDprnUQTdkdnBTIwYLbRR5CckxvBZVn90stMfUShyS7bEJflkVPVPoz0maTOZ02xgiF7lNTatiS5Iau+oLJIekNCeGUQukX2lMQrJwDBLX7JV7n4egiL4NwwcwjvpjCPotcmzhAyA4R5FE660hMmMMgkdb0aRXrWTYwuzaPAKNJTl+dtRKnBOnVLz3+6l5o1/5CqyWHSCWkoct1ilEWCJHJFmXeDESZke7xTnwDFshJjbwJYa5QdmcNNftmk2/94R7NImVNEyEjuCYoPkh4mh56AHxUfRD1M8IHd2iKvZ+aJ9MRcmvmkVxN8V72p13o+mJCE1B/UnhuxRpNN5IdcacxMNiEQSemox9ph9gX9EtsLeqwdba+oqtgeyyfRIVGtKq6DoIvFHUmtau5B4otGWFoQlKnVGxGVVLwImcV6UQ/YvYVsSiNpT8usry1kyGhE1KhH/d5Cvm8ygmHQo16AKMHQWxB42DdYfrSWbGCuZNTD5OmBBmTO9QwXRGPBEyZcWhPP777qy1ggzxMnv1KZfBA6a2MZrfXOCqEPISxDC7I6IL21s1SHJ32m0tYWD4Ql95GKBiSWO/WM5r3i7IEEK9Z+XzYgoRgiWrH2W1GdUTPYef4mlv+5IMmKNVvGAjEDtg15FMjJ/ZoCwbn0r8mAICe3nwpEz+P3Qb7MiZ/tr0mPIMtFyGQHrC0IcpJRIOEipKR5uwN2Ig1mCHy0N4QvOaaXIWE7pMZ3hiRv1G9V0NveCxC8DpcpGeKLerqWt3DI+ioj+/OAwIeyKsIKaZ0VnRCOyCY4IMKhDirici86xnke8kkgdm8UyDNED4hw0IWKtJW4S9ZAPQzngWwHRD0M9yqkMf6UlWcACVchn518NItKExK39vi7BZI8kPUqJF2FPDr1lC+S+Ecg21XIR6f/lzdQwrdDfhkHdKHIm1B3QtY7IAt467JEmx9PQp6jjEBm7Ti9AjkqBgTpnJChmJBTPjv4dt6ELLUAUB4d/E5oQWZYEgsk7542IcIhdWTqs5C6sXZAmq840nH5bJa524Ox/Z4kBVMqzvFDxJPu4D9NOwcBXxbKf7jhgTzNsoeYD5JESDeBcXAaAlT6k5DZhiw/CBLfkH8F0rj8hvx8SOCXJ170arDl14grkPxgw6WvQeJWZa3FL01KkAEpr0AwgyyTNCAr+FumMEurEOlFc7/UetkNpT3563cplwxI+SzWvluXrr2el6/r374L3RhWIJ/2i/e212lAPPLtkHY/7oRY7+63QBoLLFWs1+5bII1Vmpsh5hvzH4WsFiQ5Icu3Q6ITMluQ4IRYDPcwvgNiLwU4R6D9Ae4M2cZnL6v/jM0kFRpC6j9kBRcbEhW1cflsQ4KmNaS01mn003UA31odMf6riajQBUl6c4WytCBZa6nfyWcS5X0xi7M3Sso2orQZKANEbEK9himXThO/5S1vOSf/BwH6pfcOw/CxAAAAAElFTkSuQmCC",alt:"friends",className:"h-14 m-auto",class:"friend-hover"}),"Friends"]})]})}),(0,bN.jsx)("li",{children:(0,bN.jsxs)(Ge,{to:"/sesa-x-wdcc-hackathon",onClick:a,className:"text-white hover:text-black focus:outline-none",children:[" ",(0,bN.jsxs)("div",{class:"px-2",children:[(0,bN.jsx)("img",{src:kN,alt:"logout",className:"h-14 m-auto",class:"logout-hover"}),"Logout"]})]})})]}):null]})})})};var _N=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],u=l((0,r.useState)(null),2),s=u[0],c=u[1],f=we(),h=function(){var e=Ze(Xe().mark((function e(n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c(null),t.trim()&&a.trim()){e.next=5;break}return c("Please fill in all the fields."),e.abrupt("return");case 5:return e.prev=5,e.next=8,yN.signInWithEmailAndPassword(t,a);case 8:console.log("User logged in"),f("/feed"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),c("Invalid email or password. Please try again."),console.log("Login error:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,bN.jsx)("div",{className:"background-lightdark min-h-screen pt-12 md:pt-20 pb-6 px-2 md:px-0",children:(0,bN.jsxs)("main",{className:"max-w-sm mx-auto bg-white p-8 rounded-lg shadow-2xl",children:[(0,bN.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Login"}),(0,bN.jsxs)("form",{onSubmit:h,className:"flex flex-col",children:[s&&(0,bN.jsx)("p",{className:"text-red-500 mb-4",children:s}),(0,bN.jsxs)("div",{className:"mb-6 pt-3 rounded bg-gray-200",children:[(0,bN.jsx)("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2 ml-3",children:"Email"}),(0,bN.jsx)("input",{type:"email",id:"email",className:"bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 border-gray-300 focus:border-purple-600 transition duration-500 px-3 pb-3",value:t,onChange:function(e){return n(e.target.value)}})]}),(0,bN.jsxs)("div",{className:"mb-6 pt-3 rounded bg-gray-200",children:[(0,bN.jsx)("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2 ml-3",children:"Password"}),(0,bN.jsx)("input",{type:"password",id:"password",className:"bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 border-gray-300 focus:border-purple-600 transition duration-500 px-3 pb-3",value:a,onChange:function(e){return o(e.target.value)}})]}),(0,bN.jsx)("button",{type:"submit",className:"btn-style font-bold py-2 rounded shadow-lg hover:shadow-xl transition duration-200",children:"Log In"}),(0,bN.jsx)("p",{className:"mt-4 mx-auto",children:"Don't have an account yet?"}),(0,bN.jsx)(Ge,{to:"/signup",className:"mx-auto link-style font-bold",children:"Sign Up Here"})]})]})})};var xN=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],u=l((0,r.useState)(""),2),s=u[0],c=u[1],f=l((0,r.useState)(""),2),h=f[0],d=f[1],p=l((0,r.useState)(""),2),v=p[0],m=p[1],y=l((0,r.useState)(""),2),g=y[0],k=y[1],b=l((0,r.useState)(""),2),w=b[0],_=b[1],x=we(),I=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},E=function(e){return e.length>=6},T=function(){var e=Ze(Xe().mark((function e(n){var r,i,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),k(""),m(""),I(t)){e.next=6;break}return k("Invalid email format"),e.abrupt("return");case 6:if(E(a)){e.next=9;break}return m("Password must be at least 6 characters long"),e.abrupt("return");case 9:return e.prev=9,e.next=12,yN.createUserWithEmailAndPassword(t,a);case 12:return r=e.sent,i=r.user,console.log("User registered:",i),console.log(i.email),console.log(s),console.log(w),console.log(h),o=0,"royal"===w?o=100:"noble"===w?o=50:"peasant"===w&&(o=10),u=mN.collection("users").doc(i.uid),e.next=24,u.set({email:i.email,name:s,status:w,letters:o,userName:h});case 24:mN.collection("leaderboard").doc(i.uid).set({points:o}),x("/feed"),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(9),"auth/email-already-in-use"===e.t0.code?k("Email is already used"):console.log("Sign-up error:",e.t0);case 31:case"end":return e.stop()}}),e,null,[[9,28]])})));return function(t){return e.apply(this,arguments)}}();return(0,bN.jsx)("div",{className:"background-lightdark min-h-screen pt-12 md:pt-20 pb-6 px-2 md:px-0",children:(0,bN.jsxs)("main",{className:"max-w-sm mx-auto bg-white p-8 rounded-lg shadow-2xl",children:[(0,bN.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Sign Up"}),(0,bN.jsxs)("form",{onSubmit:T,className:"flex flex-col",children:[(0,bN.jsxs)("div",{className:"mb-6 pt-3 rounded bg-gray-200",children:[(0,bN.jsx)("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2 ml-3",children:"Email"}),(0,bN.jsx)("input",{type:"email",id:"email",className:"bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 ".concat(g?"border-red-500":"border-gray-300"," focus:border-purple-600 transition duration-500 px-3 pb-3"),value:t,onChange:function(e){n(e.target.value),k("")},required:!0}),g&&(0,bN.jsx)("p",{className:"text-red-500 text-xs mt-1 ml-3",children:g})]}),(0,bN.jsxs)("div",{className:"mb-6 pt-3 rounded bg-gray-200",children:[(0,bN.jsx)("label",{htmlFor:"name",className:"block text-gray-700 text-sm font-bold mb-2 ml-3",children:"Name"}),(0,bN.jsx)("input",{type:"text",id:"name",className:"bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 border-gray-300 focus:border-purple-600 transition duration-500 px-3 pb-3",value:s,onChange:function(e){return c(e.target.value)},required:!0})]}),(0,bN.jsxs)("div",{className:"mb-6 pt-3 rounded bg-gray-200",children:[(0,bN.jsx)("label",{htmlFor:"userName",className:"block text-gray-700 text-sm font-bold mb-2 ml-3",children:"Username"}),(0,bN.jsx)("input",{type:"text",id:"userName",className:"bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 border-gray-300 focus:border-purple-600 transition duration-500 px-3 pb-3",value:h,onChange:function(e){return d(e.target.value)},required:!0})]}),(0,bN.jsxs)("div",{className:"mb-6 pt-3 rounded bg-gray-200",children:[(0,bN.jsx)("label",{htmlFor:"dropdown",className:"block text-gray-700 text-sm font-bold mb-2 ml-3",children:"Select Class"}),(0,bN.jsxs)("select",{id:"dropdown",value:w,onChange:function(e){_(e.target.value)},className:"bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 border-gray-300 focus:border-indigo-500 transition duration-500 px-3 py-2 text-base",required:!0,children:[(0,bN.jsx)("option",{value:"",children:"Class"}),[{value:"royal",label:"Royal"},{value:"noble",label:"Noble"},{value:"peasant",label:"Peasant"}].map((function(e){return(0,bN.jsx)("option",{value:e.value,children:e.label},e.value)}))]})]}),(0,bN.jsxs)("div",{className:"mb-6 pt-3 rounded bg-gray-200",children:[(0,bN.jsx)("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2 ml-3",children:"Password"}),(0,bN.jsx)("input",{type:"password",id:"password",className:"bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 ".concat(v?"border-red-500":"border-gray-300"," focus:border-purple-600 transition duration-500 px-3 pb-3"),value:a,onChange:function(e){o(e.target.value),m("")},required:!0}),v&&(0,bN.jsx)("p",{className:"text-red-500 text-xs mt-1 ml-3",children:v})]}),(0,bN.jsx)("button",{type:"submit",className:"btn-style text-white font-bold py-2 rounded",children:"Sign Up"}),(0,bN.jsx)("p",{className:"mt-4 mx-auto",children:"Already have an account?"}),(0,bN.jsx)(Ge,{to:"/login",className:"link-style mx-auto font-bold",children:"Login Here"})]})]})})},IN=n.p+"static/media/circlel.fec191d3768f3ff72d20.png";var EN=function(){return(0,bN.jsxs)("div",{className:"min-h-screen pt-10 pb-6 px-2 md:px-0 background-lightdark",children:[(0,bN.jsxs)("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-2xl background-image",children:[(0,bN.jsx)("div",{className:"m-auto logo",children:(0,bN.jsx)("img",{src:IN,alt:"our logo"})}),(0,bN.jsxs)("div",{className:"py-10 font-white text-center text-white",children:[(0,bN.jsx)("div",{class:"font-allura",children:(0,bN.jsx)("h1",{children:"Yer Town Square"})}),(0,bN.jsx)("div",{className:"text-lg zw-2/5 m-auto mt-4",class:"font-raleway",children:"Amidst the Enchantment of Medieval Marvels: Happening Right Now"})]}),(0,bN.jsxs)("div",{className:"flex justify-center items-center mt-4",children:[(0,bN.jsx)(Ge,{to:"/signup",className:"btn m-auto btn-style",children:"Sign Up Here"}),(0,bN.jsx)(Ge,{to:"/login",className:"btn m-auto btn-style",children:"Login Here"})]})]}),(0,bN.jsxs)("div",{className:"min-w-screen mt-10 bg-white text-black p-20 pl-40",children:[(0,bN.jsx)("h1",{className:"text-2x1",class:"font-allura",children:"A Town full of Chatter"}),(0,bN.jsx)("div",{class:"font-raleway sized-landing",children:(0,bN.jsx)("p",{children:"In an era of jesters, jongleurs, and minstrels, we bring to you a town square, online. Where every noble, knight, and peasant can share their thoughts."})})]})]})};function TN(e){var t=e.id,n=e.name,i=(e.email,e.activeTab),a=e.status,o=e.letters,u=l((0,r.useState)("Add"),2),s=u[0],c=u[1],f=l((0,r.useState)(!1),2),h=f[0],d=f[1],p=l((0,r.useState)(!1),2),v=p[0],m=p[1];(0,r.useEffect)((function(){c("Requests"===i?"Accept Request":"Pending"===i?"Withdraw Request":"Add Friends"===i?"Add Friend":null);var e=function(){var e=Ze(Xe().mark((function e(){var n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=yN.currentUser){e.next=4;break}return e.abrupt("return");case 4:return r=n.uid,e.next=7,mN.collection("users").doc(t).collection("requests").doc(r).get();case 7:return i=e.sent,e.next=10,mN.collection("users").doc(r).collection("friends").doc(t).get();case 10:a=e.sent,m(a.exists),d(i.exists),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("Error checking friend request:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[i,s,t]);var y=function(){var e=Ze(Xe().mark((function e(){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=yN.currentUser){e.next=4;break}return e.abrupt("return");case 4:if(r=n.uid,"Requests"!==i||"Accept Request"!==s){e.next=16;break}return e.next=8,mN.collection("users").doc(r).collection("requests").doc(t).delete();case 8:return e.next=10,mN.collection("users").doc(r).collection("friends").doc(t).set({});case 10:return e.next=12,mN.collection("users").doc(t).collection("friends").doc(r).set({});case 12:m(!0),console.log(t+" accepted"),e.next=31;break;case 16:if("Pending"!==i||"Withdraw Request"!==s){e.next=24;break}return e.next=19,mN.collection("users").doc(r).collection("pending").doc(t).delete();case 19:return e.next=21,mN.collection("users").doc(t).collection("requests").doc(r).delete();case 21:console.log(t+" request withdrawn"),e.next=31;break;case 24:if("Add Friends"!==i){e.next=31;break}return e.next=27,mN.collection("users").doc(t).collection("requests").doc(r).set({});case 27:return e.next=29,mN.collection("users").doc(r).collection("pending").doc(t).set({});case 29:d(!0),console.log(t+" requested");case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(0),console.log("Error handling request:",e.t0);case 36:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(){return e.apply(this,arguments)}}();return(0,bN.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 bg-white hover:bg-gray-100",children:[(0,bN.jsxs)("div",{children:[(0,bN.jsxs)("p",{className:"text-lg font-medium text-gray-800",children:[n," (",a,")"]}),(0,bN.jsxs)("p",{className:"text-sm text-gray-500",children:["Character allowance: ",o]})]}),"Add Friends"===i&&(0,bN.jsx)("button",{className:"px-3 py-1 bg-blue-500 text-white rounded-full ".concat(h||v?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"),onClick:y,disabled:h||v,children:s}),"Requests"===i&&(0,bN.jsx)("button",{className:"px-3 py-1 bg-blue-500 text-white rounded-full hover:bg-blue-600'\n          }",onClick:y,children:s}),"Pending"===i&&(0,bN.jsx)("button",{className:"px-3 py-1 bg-blue-500 text-white rounded-full hover:bg-blue-600'\n          }",onClick:y,children:s})]})}function AN(e){var t=e.friends,n=e.activeTab,i=l((0,r.useState)([]),2),a=i[0],o=i[1];(0,r.useEffect)((function(){var e=function(){var e=Ze(Xe().mark((function e(){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return SN(e)})),r=mN.collection("users").onSnapshot((function(e){var r=n.map((function(n,r){var i=e.docs.find((function(e){return e.id===t[r]}));return i?Kt({id:i.id},i.data()):null}));o(r)})),e.abrupt("return",(function(){return r()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return(0,bN.jsx)("div",{className:"flex flex-col space-y-2",children:0===a.length?(0,bN.jsx)("p",{className:"text-center py-3",children:function(e){switch(e){case"Friends":return"Where are your friends? Oh right you have none...";case"Requests":return"No friend requests? The only friend you need is your KING!!!";case"Pending":return"No pending friend requests! BEFRIEND YOUR KING!!!";default:return}}(n)}):a.map((function(e){return(0,bN.jsx)(TN,{id:e.id,name:e.name,email:e.email,status:e.status,letters:e.letters,activeTab:n},e.id)}))})}function SN(e){return CN.apply(this,arguments)}function CN(){return(CN=Ze(Xe().mark((function e(t){var n,r,i,a,o,u,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=mN.collection("users").doc(t),e.next=4,n.get();case 4:if(!(r=e.sent).exists){e.next=11;break}return i=r.data(),a=i.name,o=i.email,u=i.status,s=i.letters,e.abrupt("return",{id:t,name:a,email:o,status:u,letters:s});case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log("Error fetching user info:",e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var NN=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)([]),2),a=i[0],o=i[1],u=l((0,r.useState)([]),2),s=u[0],c=u[1],f=l((0,r.useState)([]),2),h=f[0],d=f[1],p=l((0,r.useState)([]),2),v=p[0],m=p[1],y=l((0,r.useState)("Friends"),2),g=y[0],k=y[1];(0,r.useEffect)((function(){var e=function(){var e=Ze(Xe().mark((function e(){var t,n,r,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=yN.currentUser)){e.next=9;break}return n=t.uid,e.next=6,mN.collection("users").doc(n).collection("friends").get();case 6:r=e.sent,o=r.docs.map((function(e){return e.id})),c(o);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error fetching current user friends:",e.t0);case 14:i(),a(),u();case 17:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=yN.currentUser)){e.next=9;break}return n=t.uid,e.next=6,mN.collection("users").doc(n).collection("pending").get();case 6:r=e.sent,i=r.docs.map((function(e){return e.id})),d(i);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error fetching current user pending requests:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=yN.currentUser)){e.next=9;break}return n=t.uid,e.next=6,mN.collection("users").doc(n).collection("requests").get();case 6:r=e.sent,i=r.docs.map((function(e){return e.id})),m(i);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error fetching current user requests requests:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=yN.currentUser)){e.next=6;break}return n=t.uid,r=mN.collection("users").doc(n).collection("friends"),i=r.onSnapshot((function(e){var t=e.docs.map((function(e){return e.id}));c(t)})),e.abrupt("return",(function(){return i()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=yN.currentUser)){e.next=6;break}return n=t.uid,r=mN.collection("users").doc(n).collection("pending"),i=r.onSnapshot((function(e){var t=e.docs.map((function(e){return e.id}));d(t)})),e.abrupt("return",(function(){return i()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=yN.currentUser)){e.next=6;break}return n=t.uid,r=mN.collection("users").doc(n).collection("requests"),i=r.onSnapshot((function(e){var t=e.docs.map((function(e){return e.id}));m(t)})),e.abrupt("return",(function(){return i()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Ze(Xe().mark((function e(){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=mN.collection("users"),t&&(n=n.where("name",">=",t).where("name","<=",t+"\uf8ff")),e.next=5,n.get();case 5:r=e.sent,i=r.docs.map((function(e){return e.id})),o(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error fetching users:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e(),n(),r(),s()}),[]);var b=function(){switch(g){case"Friends":default:return s;case"Pending":return h;case"Requests":return v;case"Add Friends":return a}}();return(0,bN.jsx)("div",{className:"p-4 h-screen bg-gray-100 background-light",children:(0,bN.jsxs)("div",{className:"bg-white rounded-md shadow-md",children:[(0,bN.jsxs)("div",{className:"flex bg-gray-200",children:[(0,bN.jsx)("button",{className:"px-4 py-2 flex-1 text-center btn-style ".concat("Friends"===g&&"active"),onClick:function(){return k("Friends")},children:"All Friends"}),(0,bN.jsx)("button",{className:"px-4 py-2 flex-1 text-center btn-style ".concat("Pending"===g&&"active"),onClick:function(){return k("Pending")},children:"Pending"}),(0,bN.jsx)("button",{className:"px-4 py-2 flex-1 text-center btn-style ".concat("Requests"===g&&"active"),onClick:function(){return k("Requests")},children:"Requests"}),(0,bN.jsx)("button",{className:"px-4 py-2 flex-1 text-center btn-style ".concat("Add Friends"===g&&"active"),onClick:function(){return k("Add Friends")},children:"Add Friends"})]}),"Add Friends"===g&&(0,bN.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,bN.jsx)("input",{type:"text",placeholder:"Search friends...",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-blue-500",value:t,onChange:function(e){return n(e.target.value)}}),(0,bN.jsx)("button",{className:"px-4 py-2 ml-2 bg-blue-500 text-white rounded-lg",children:"Search"})]}),(0,bN.jsx)(AN,{friends:b,activeTab:g})]})})},RN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ON=r.createContext&&r.createContext(RN),DN=function(){return DN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},DN.apply(this,arguments)},PN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function LN(e){return e&&e.map((function(e,t){return r.createElement(e.tag,DN({key:t},e.attr),LN(e.child))}))}function MN(e){return function(t){return r.createElement(FN,DN({attr:DN({},e.attr)},t),LN(e.child))}}function FN(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,u=PN(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",DN({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:DN(DN({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==ON?r.createElement(ON.Consumer,null,(function(e){return t(e)})):t(RN)}function UN(e){return MN({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Z"}}]})(e)}function jN(e){return MN({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32Z"}}]})(e)}function BN(e){return MN({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"}}]})(e)}function zN(e){return MN({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"}}]})(e)}function VN(e){return MN({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 7h10v2H7zm0 4h7v2H7z"}},{tag:"path",attr:{d:"M20 2H4c-1.103 0-2 .897-2 2v18l5.333-4H20c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm0 14H6.667L4 18V4h16v12z"}}]})(e)}function qN(e){return MN({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H4c-1.103 0-2 .897-2 2v18l4-4h14c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM9 12a2 2 0 1 1 .001-4.001A2 2 0 0 1 9 12zm6 0a2 2 0 1 1 .001-4.001A2 2 0 0 1 15 12z"}}]})(e)}var KN=n.p+"static/media/parchmentpost.1959ec0252100677f987.png";function HN(e){if(isNaN(e))return NaN;for(var t=String(+e).split(""),n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],r="",i=3;i--;)r=(n[+t.pop()+10*i]||"")+r;return Array(+t.join("")+1).join("M")+r}var WN=function(e){var t=e.img,n=void 0===t?"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUWFRgWFhYZGRgaHB4eHRwcGhweHBwcHhwaGh4cHCEcIS4lIR4rIRocJjgmKy8xNTU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHzQkJCE0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ/ND8/NDQ0NDQxNDQ/PzQ0NDE/MTExMf/AABEIAKMBNgMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAADBAACBQEGB//EADcQAAEDAQYEBQMEAgICAwAAAAEAAhEhAwQSMUFRBWFxgSKRobHwwdHhEzJC8QYUUmIVoiNDgv/EABkBAAMBAQEAAAAAAAAAAAAAAAABAgMEBf/EACARAQEAAgMBAQEBAQEAAAAAAAABAhESITFBAxNRMiL/2gAMAwEAAhEDEQA/AD2Vs7Kse34R2vgCsdNkiGk1J57lMWFoCAAKzrKZWLG7ySQZ6lXa12mmv2XXl00Ar80VnOEVI67JgVhA/cQM4rXyVMfOfJCawTAJIO+vOglFa3IxrScusoKrgcq55aeypIxYTBDROla5UKpbkAEx2Pv0UsHmZIA1JPoAEiOPvf8AHCAXHfIfCqWjP3OdETE1NdgN+XJcY0VcQcR0GgAoD7rjHCa6enIIqno/8auuEE96xPotK93XFBa0k7zGeiW4FZRUGhAnXLotazcAf3S3Oqwy9bY2yMd7XNPiGHOpyPJWsbwDBxTn2hP3l7DIcN1i29iGEYSedIpop9Xyo1/ulna50dH8RJXnLe6OY47aTr2W3Y2zgTuecFX4jd8bQ85gVnbkrxy16WeEs3HlHmpn0r7ZLhgZnkAM/wABaj7JhmB6+6VtLs0GAIOtcvpKvlGPCknO5ZCeXzVDe+o05a135pm0u5M7mvIfRDFxaHAkkk5iY11KLlDn55Uo4kkjc1+FVI0oSev0Wgy6SSR4eX5XbndCHYnEQlzx0f8APJqcGugYC50F2wyaOZ3QL9eWvMDLQb9I0Rr7eAW4WxhGe6zHiaVjUhZW2910/njMWjcmCQDkBWEwQWNc4AQfC0TUxXT1VLgwHwl+EaTlOg6rj7BzsWOgbSdTsAOaDyyZ/GrX/wCJokRNa0J2G68+xwqfpl5rZ/yG1gtAphAAAj7UWIwOOsfRa4+OXP10k516KNbUSpuZ9M13DVs8qBUl6PgV3bFZMmoGo2JXp5azroG6GMvysPhbDhFIAGUGg1PVbt3c0CgrE/lc/wCl3WuKl4aMMu6xMnud0a6tiHO2yJmBz26LjGAjEKn/ANfnJOXd7YyEn/lEnnGg616JQ6pavgYQec6nkNl2zDiQSYAyjUoQZLpjFJ7dTv0TdrbNDQ0VjblogBB4xOBMEVMQTyBSt7d+5xFTQCtN1d78RDG+HaIHMmd+aQvFs97w3ICBSsJ/AetHkgYTG/0XFWwNSdMs4XVPSnzizzqSPL1V2sMUKBYvbKMy25ldjmphrzq09j8hOXd8j9vmPZINeN+wRGEEB0R7DzQRxr4zg81YvOpJpCW/WP8AJogZZ+a4+0EU19OZlCRLw97oAME8qACtSjWdkZEEmnYJRlqw0riyAdMEbnlRGL8yI3zIB6b6o8B5j6EmGxIipjmfmiHdLEOc6orMAmJyAz0+yAww2CYB0mvcc+qYupOMQAf+M6E60oouS8cXreB2bmNDXOkxlpHL5+Wr1Zlx8J65FYT7UwAHwR4YlMXW3DRiJOeU07Qsq0nVaVuwNaCaQNfss4NDyQaTP4n7Kt4ty4xSuVD51S77QtFNfPzCUWllYkGhyO5PmPorMvYlwIIpUmJ8tEub639uRA3rJ+dln29uRIBz6T5/VPVomUgN4eA4wYOpKqx5iYJnkKdskDWtdta/U81dwLYqRurs+M5l7VjatNCKnnr3Q7Y1o6eUfNVRnidlTLbnHJVt3wdaZAZd0tdr5XW17J8nY1qjtvDhU1EUpVJseDWKe6j7UTAcSpuM20lvEbGIxTP3Q2W+4HzdJWrwT/JRhMgAH6o1E8rHobpesiRAE5b7nX0R3W73imec6n6JG7Oaf3UG2/kjX23aGUkCNoqe8wo+6V5N157iTyS4kkkmmuVEu2afJ6LtoOfoYGwQ2TpNNYXRPHLb2u4bkD5smLnR4cdNTP0Szg6aH0Td3xg5im7R6SEU49NcrziIa4uAP/5aI1dGY2FfVaJeGiglxmaxA2pqsbhV4BIDyDsScugy9ltOtMsTGhgyiR3KwynbaXpy0D4kFwJy3TViMIkmSRrlO3ZAvV5GbWiMsOsCkk/RDu9sXGCwkaRt9Alobal2Y8CZaJGZB+SqOacRwgGnOfJNXG8ENw4csoPzLddfaBklrYOp9SiwuwixzQHQ0PO22wBSV3ZJLusV1OZRrxatc7EcQOUfx7pa8WZynNBwq+2BcQHFoGuU7qIVpLQAAetFEtKeHDRI8UGCQN+vNMR0M8ikLK00xYc+/l90yMWU+a63KaYw0NO32V4aaEfO6QZZga1Okpgvcc9PnJMqa/Wg0r50+koNqYBhtM6qhtSf5ea45zozB5mo6DklTkFuzgYBcZjSKdZK64igbJO80MbJm7hhqRBOkwB2oYUL21wHFFJEwI0EqbVSIGOnxVOdIjknbtLDIIkiu/YlINMQZkmo67nkE5YOcamHHfQdAorTGd6MWFqQfDOLXIivTVGe8k/uED5RAcS3b280O0eSYxZbOPsniWTSs7xWJMnOIpy1hL3m0dMSIGx+yRfIIAPWPuuC3G5pvNeaWimXS5YXa8zv35IdrYGmGSYqdOaIy0k0M131Qr40+mqnfemnH/yE95aYLa6fiiPfrWWyAJ5BJNEnqdJT1+u5DAWghu2k/VO3uFJ1SdytSTOGg7IF5tySYBj5VaNhZhjSXUjQ0miyLzakuMxGdES7yK+Rc2sRAmlc1T9SsBtZ6/0uEnDz7KrBEfJ/HVM+RmyDjSJRCKwKbxRXsrKSIIXLd+4pOmShrrUcY8tIjLeT7BHv78TWtkjUyQEm94nTvKHbkvkCfnQ0VSds8vC9qBGYHMmtVSg/kT3A8uXqqGwHYClc5PJUA8UZrVgYLhSTAzO/zkrB9Zk1NEIitQqBwJoPVKnHpeDurFZ35d9V6AWheImGzUkmY0Emh3ge0LynBC0GYl2QnIL0Qt2so7CZoCQ6BOcetfdZZTtcphzJEmABQTiMgagD7qxxB2GCAQOX0St4vYY9gBBYDMtJ9Fo3eXuw/wADXETUDRTpWzzLQhmJjcs61jczou3RzXBzpq3U5b0+6XvFoYgBrWHKSZdzKWsLwcJZAwis5TyCm05Fba2L3jDBE069tEO8PkwWAc8REk69EWxEHE3TT8JW/wBuHQGVcTBManJrUKBtnS6GtNBuPNRVF8Nk5zRUzUmldq1UT0HghSPDik65IjDuR7pKztHa76o5xbV+aLp25tHGXhrcqjkIXXXtp0J5GT9ks2zcaxTWAKdkVgiYKAM2dAdZoCisbWtZ29NYS5kwIiN3IhZEZKbV44mn2jMJBDp0iBnui2UAQDWKRIjtqkmvnnsEcA5Rnri9FNpyDBtZ239wNStC53htcXvHwdFktBAz+6MwGPEa7CJ76BF7h47la9pheBAIrmf7StphkxkNTr0S4Bwy4gD/AIiaqjDJifU/OymdKym1nl7pdFMoESdggPxtFQelZ9Mk9YuxEtaJwyZJAAjUzmU7d7q5wkumTkamMpP2T5UuMZNztfEIH1K2L/YSBhBLqeSvZcCIkh/i/iAJJ58vVal1uz2huIOLo/cRr+FOXd3Dxysmnljc3TXy+i2rNmOOQpQxOytebqQ/EQ4gmK6amiea1tKHPKB7qN3autM21ucl2JxdtFa8pyXn7zcTj3Ov5XvLK6Ng+LIGo35IDbswQYmuWU/dXKmvM2HDsbPBQ7HVWu/AYEEkHOSPResZdwJOGuvLrCRxkzpWOx+kI7TuWvOWtweJDNaHKv1hL2hwgTUjb1XpLZjsMtBOew+Bea4jZOafFAyzIUy7vbb4SL5OXqmBAkGapUviTPRda45l1StNM9g3iA6GilK/SUMPANIkDnCbvOhJB5V+FIvedh2Wk8Y1cOEadghtFaH7KFw+SqztKYbfDrzhgDPU+3Rehvtv+o5mFkNa0UofsvM8JubngvxAaVzXp7Gzc0ta1wmBM1jlVZ1RZliJxSJnIjJNXRhxUIxmY/E/2h/6oDzXx85gczK5aXjB/KI1+iiqMXx7w0Y55NnLnTMpWyvLj4Zpv9M0ra35zs308yeVdFHXxgFRHPM9gSp0qWNW88WcGw0FoiKaj6ddUhY3oNGKDiph5dOfNZj71jhuIgCcxkN+ZR7uwGs4mgxnU/VBw7drqDLnmp6HtlmoutvUNA02OiiXY0+ch9IinIz7IrLYD4fdLsFJ5/Mzmukjaev4XV0x0cF4Hc5ASUSwYTUSdwPwkWPrMfOUpxjzpPYmqm3R44mrLDIBA84HqjHCYB9Kg7f2k655fOlV1zjSSVCzow5GZnMmB1yVi7nTn9EswHPMHp8/pXc88h7eiRj2doMgD6RHknLNzGideghZn6gFZJnUx6bI7LbEZ0CKeBh94mKTtpVWIwtEDxE9q/IUY2gJ1MaHqusLQRqdOSjk0uItmwiAZ5xHkJXoeD2Yw1AM60k9tli3US7xZdlu3OwgTJrUVyCcyZ5RuMexh8RAIzEj+guXjiNmIhzsOmE595BXkr7auc/CyBiJwk6gankvPuvcB4ebR7wYDg4tDYzoIJnqqk2yt0+l2lsx2I+IGMq1HdJuDqEAnEeVBzheO4Vxa3HglzsdYeSSOlc16u63j9U4nuO0GkRp3U5Y6aY3Z4Wbg1zgfCdNxz+yqHk5gAATTKmg5rllbgNwlpcNBNBBIKQ4jeHFwBBaNpSh6M216gEEACKzX+lj/wDnLHFQgQaEiZ00p6rN4leQ8vBxQBDWgwMW7tSsQ3gFw8AAaKwBHTfqTVaYxll1XuWcTxwGFo5t9ll8au4jxDv9FlXOzAYxwMPJPhEl2Hzp+Ft8QeXMzApB39dNEslYV5u3sdZEeaBiaTvHMpi1tXOidNNB6JZ1Sl2uuX20kCpAHMHsFnBzqwT33Kdvoy1SDdSAAO/otcfGWXorWuzcZOwXS/eB81QW2hrNDGijHGdO4VFHrv8AHrRz2w6obRs+wW+WMZJcJJEzDS0dRqsr/HmsFnLB4v5OivQA6c07ebJpzBjOSNfcrLK6OLtcDPnSB3Sd9BOFx8IP7RSTzKteGtawRE88ykm+Iy4ychRTFaCMDOD1lLPOIGIKbtbpEgnKqQN40rA2Ar6I9IVkN8QiYzI1TdztA4AFwbFa5lZLHCuaJaXnWOQH9JWK20n23RRZlmAamVEht5OxtM602V8ZQRHwooI0y5wulC1k+DVOtJ1OfzJK3dsnSm0/VNPeOwWeV7XjOhGH5ouufBmQfuh2dodABzj3XXOBOu2lVGzMfqzmI9J7LjnjKkboJeJp0hUtK5nL5qmq+L2r/mq0OHMDhWJzzos2xImSKD1TlxtXSSABoKfUoy80WPrR/VIIBqBkr3WyL3SdeWStZWdASSTz/NU1YFrSFjem0sowaWHKdiR+U3/tPfBbA0qYHlKDebu18OxVNYBy5KF5ZTCesDJEymiuOzT7i5z8bHtDxH8jHlELPv8AwS2D8ctl1aAaawfdOXe+mBBLBObXV6mCtM8Ra4DpmTU11lazL/GNx+Vk3bhT2Ox4yXkCS5hgbRH4CfuvDzOJzqE+J2Q5CNE422P/AGyp4h6Arti5rjBeTWYJ2GwzSt2JNeNJoaxuUCIHnyXnuKWkvFaDrK3H3xjxEiBy+6x745jntgCgrFFMXrpn2HDmveTLmkmSR9JTFnwOzDyXNLmzFad6QmWspiEjlEql+e8gAE5z5CFXKo1v0lf7tZsIdZtDSRnrHdY9vbudAce2vfZbVpdiRifUAalYd+dXlyRLsakK22895KCwCc+dfaq49oEGazuAuNFRWVXwtlr62kkDuUk1+0xGhTvELQRFJPos11Monv8AULTHxnfXW2hbMmuo+aotkSTFSSlmAycpHRN3KzJIEiSQM61VB9D4M9jbANLvEYGQ71lHvF7AcQ08hQQNz12U4fYMs2BrQSGUrqdSdunml74DBc05H11hYZd1cJXm8l51hu/ogML8gTBMwN++qNY+N5aAK1y81q2diWlsinMQO+qm05N1lOEP8Q55AjLYarAvL/FTKVs329OxukyNI+iw7YElViVWNuAI0Cl3cSfhSxbpKLYuaNRATJosdShnfRcQ2W4iAcs6D6qI4xW3jnP5+X4V8QiqDFadgu4p7clohpXZpbmDUSJ2RWuJqchyWbYviYOnNNB1B9VGU1WuN3NCY/n9K1ia1p2VGsccojnARbEgA+Kafx3OimnI7aGBQa5JfGT2+dAU0XE0rFdB6pW2eRSe+iMaWUN2GHCZNc5NSUWxvQ0WUy0Op9FcWkfZPQ+PW8MtRh/b3Mp9lnjdDHZCeS81dLw50NFfQd16Ph93c2rPDOZLgB3kqMsTxy00mWcCM3anSPKPNPXezYQIAjb6lIMsw8+J0AVNRUconPfXyV/0XPcYIa3Oax01PJRMZF3KtG14ZZuIGGNW1oeoQ7C54XTh9x7IbLyXOwgh0kA/uyiIHL8p23tCwBrcRM7GCdgBQDmVXaOkvBiuEAkQOU7LJvAdZuJaMe8Z+q1CQc/EYBIaDHQmIA90E2kPdAGQpJjec04GVd+NkhxNk6WjI/TJMXO1daFpFm5oqSHUnzI9kzeC1oDiWiomImM9BmnLtbMHiLqegCrQ5XTlhdXAy2tKtBqe6VvLYdJpOYAyHzVWtLy0vOF3gNAIivI7pG+PaAAJGtXYp+gCkO3zxNhuuxH0KwLwyJy7pq8WpLpbAgakV6DZZt4tA4mQPL1VSJtAfAMx6IGKmue/uUVz+UJS2t2ioJP3Tk2V8K363l2XlX+0iXxUGpjP6qtraGSan5suMeIykzT5ktmdQdc9luf4zY47Vrd9dtysJjp1Xsv8WYGsLywmorJFNpG59tlNvQj11/tgwMs2NnFUmmggVO3usi0tWtaINQTnFUfib2OmA4H+TnYSSdBiGTRsvP3q80Ddtsli0P2NszHiBrtH10Ws29S2pjDqAPSi8/d2V8RimWZTlrevARESMh71yCKJSl5fSdT91mPtBUn3VOJX+DhaajOD6JFjyc1WM1E27FNpJooXk0IRmAAc/m648AiIPmnoOF0AQCTrWnaqiDaMrExyUR0emAADp5lWdG4QlBzlabLRiycJTLIO3np2Wf8AqeSPZvollOjxuqccB816ojHAZFKTy6IrG9Dzqs7GkozXzPtul7RwApQohc0AAZ5koVqwEjn6ImtizpVj5NT87I4cJEVPdFHDnRJ1FABJPMoxu5aRAnsAi5QpjdGbs7CQ475f0tqyvWIeIAToMwse7sMlxzOWw5J+zbJABr0Mqd7GtNzhVo15LXCdoJAG0x9FpWd6LWhjw4E1hsRGQoRn86YXD7wGmCRyNE9ePFFXO5b/AEhIztrfbMEYceKQAKRAzqFLvfHPd+7CROmI8g3EYSbMbiC/BTuANANI7Itk04xBBJpAAGepTT2NebeDE4jsDJ7n9o7LjH2hAa5waDo2DA3JirjpnC0GWABgQIFSfzQINvbNwuGMSBGlTtUItPZYcOsnGLS1fhBFMQbJ7DNMXrgt3w+G0fnA8cydYpMc1nm/YXQ4yPP7q7+KNc4jsDlHnVG6Wy1vwhjTV5B2JP1QTGjg1zRE6O75Lj7y1wOJ0kTGcJMunKBugWuWto5xlxOLKs/ISN4ZWY+0+yebBpIjn+Epesw0eIDy9U4WyL7UaHv9llXl5mKjutG9GBQV65BY1q+e3yq0xRbtUTKPdrk+1OFjST6DqUvZkkxnJhfTOB8NbZWTQCMR5SXPOieWWoJNvMXf/GCxw/UcDWrWyexK9Wy1hjW4WgTkBBjcictB0ql7zeLOzJE4nGuKf2kmpprtr01JbvGHE4DIQd4yBjPmsrltUgV+tpFX+Ef9Ynqsl7MRMDrTL7Jp8OaT98+SWYw1BJ+3bJI3HXkgAN80hfb8cpr6wj322awV+eSwC8lx/wCyqTfZUTASZJTNmK0qqiyECO4mqcubmRWnmnaNKYXE1oAuEECklGdeZyFJVrJwP7ojaVPI9FgCa+5URHWRFQaHkFEbGnk5MqYiNfJVLtslMBGa2sQsXI9k8xmPn1QWKzD7oohguPWdkRgKox1Ip9eyth38lnem0/11oJ1RrFhJj7fUptl1lrQAc/P7K9scPgArmY1jtkp5b6i9faG28lhHinr9FoWLWkt5j5VZ/wDqYzOLnAW/wHhwIdjMHJo+eyjKQ8bXWWJyAHOUy2zbEQCTmV218IhoBApVBfbtYJJz0p6AKFa2JebsxorR3Kkckp/vvZEkERXU8pSLr2YJFa0B9FW7MfaOgNIJ2iT9gtMdsso3LHjoIifRN2V6DRixMBOxEkLNZ/j+L9xFm6KguEAf9qkg8lR3AHZMtA/eCWtA3l+H0VSSou40/wDyb3H+OHfUnanz3TF2ts/Dpyj19hkvOP4dbMGKW9HOBppAG/NM2d4exoJAG+VRvXRPjE7rfdY42zAEZZA9Um/hwDgJBxAyZ26ZdV278dH7SGwNTU/0uXni7HDQRqM+xM+wS1T5TQg4eMpzPT53R7xw1jWD9oO1D/SxHcSJHhmO59wgk2lpQSelSlot7GvNoGyGwfmSUfaE1GufwCU4eEPbBdLeWqpacPc0SGuIiZMj3TORjXqcJ3+ZLFdQmfWV6R9kagxHWY6rEv8AYQQ7fNVjl8O4D8Is2m0a50EAzBArBmIXtLa9ScbSBnAaMpz6U6Lwtk/CPwnm8RLW0mSPdLLsSSPQXC7Y3ue+oE0rn21RuJWhMATtFYHmsa4cXLBBD46fyOZUvXF5eKUFMlNlPHTbtWBlnJIiIB1J5JK7WYLC465dAkL7xdzgGmXAZDYJR9/JZE4RrGZG2fsnjBlCvEr1idE05JQHoqPOI5qNZtKvcgmNFNu8ZSByMIjL69pmAR0zVGs1hWwdVPKNJ+Vp27cWAMlgIOk+ys7iLJkNPmEgWLosUrYc/GmLS/mcwO6iX/QCiNw/5ZMjFCjHAoQdrREDtlu5BBCjXAaef4Q3O5eX4UxFLQPWdo325J27PswJdBNAK+qxyTGkdFVpU3Ha5lY9my0a5siBlrWqTt7kXOoM8yeWQWDZF4HhkT86JixvtowUdA5gFZ/y15WnO5TuN1tkWZjvutSxvTGNmoJ8uywrtxhv/wBjO4gknvknHcQsbSjSWDZwFT1+ym436qXowOLAGKFp2z7yk+JW7XHw05ckz/oMc0YXDENdAlbC6+MsIDtiaDpEqevTl0Wu9g4kHCS2fU81624WNk0MIlkVklp9qpW53S0DgwGGmAJgBueZhO8U4PgYXCjvfrOSLS99blvbWWAkOBOZNK56AwZ5BZ93a158Bc0TJlxjnAC83eb0/wAMmCAMoyG8Zrd/x9zbSzxMcA8nDGZka1KNX0WGr7DTjxANAjxNa5x6AgwsMMZaSB+6czp0GnXktG/2DiCauPPfLRebfehZ2wDnGDUgZCKaInfh6hPi1ydZOILhzDTvz36rJbeDOZWtxu9tdkDGUkAT2WA0ErbC3XbLPGb6et4U39Ss0NIjIdN16t9iGMECAKgmkxXJfPuE3s2dDlvqFuW3HIzMjCQBrWmqzyl300xw6eru8lofSDJqDUnI1zWYb679V1m8A4hIMmMkrcuLMZYMZjBdhrJmCsa88RYbYPDiWtFKVkgflTpXA/xK8Bto1nhyMQCvP3y0BpNSfZXvN9c95fHiyGkDsk2tOZKvw7+eS6IwtnL0XMQAz8hqoHxoltf89nGvbGUT87qrmsmRpqfsl4J3kq8dYHLNFpz8VHEUj1I+QhvZOavhUwomSv5dh/phXYICsGrrW8krkufnI7iVoCrC4G81LSYr9vZSFxrFMPVPo+Cp7qIgauI2fF5c7qzVFF1vGcJqiNUUShLOyUaFFEUjZyHX6KzKtM1/oqKIrWBtRBsoopaQW6WrqiTqt3gd8e5zS5xMPAHIRkuqLPLwfXtAZDpg9hsUlZWzi0tLiRSklRRZ02XxayDWCBHiKxeDWrsppJUUVz/kvr0dlbOAIk5e68deHn9Vxn5CiiMRSN5MuE1VQootL4WIzKj5uiHRcUUOjFCrNUUU5NcVirNy7fVRRJouzIdVZgqoopMyBQ5+ZQQookvEQCgQ3LqiR31wZKyiiQqNCmqiiBi69DauKIUuFFFEzf/Z":t,i=l((0,r.useState)(""),2),a=(i[0],i[1]),o=l((0,r.useState)(""),2),u=(o[0],o[1]);return(0,r.useEffect)((function(){var e=function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=yN.currentUser,n=t.uid,console.log(n),e.prev=3,e.next=6,mN.collection("users").doc(n).get();case 6:(r=e.sent).exists&&(i=r.data(),u(i.image),a(i)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error fetching user data:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,bN.jsx)(bN.Fragment,{children:(0,bN.jsx)("div",{className:"overflow-hidden rounded-lg w-16",children:(0,bN.jsx)("img",{src:n,alt:"Your profile pic",className:"rounded-full w-full h-16 object-cover shadow-md"})})})},GN=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){var e=Ze(Xe().mark((function e(){var t,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=yN.currentUser,r=t.uid,e.prev=2,e.next=5,mN.collection("users").doc(r).get();case 5:(i=e.sent).exists&&(a=i.data(),n(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Error fetching user data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,bN.jsx)("div",{children:t?(0,bN.jsxs)(bN.Fragment,{children:[(0,bN.jsx)("h1",{className:"font-bold w-full ml-5",children:t.name}),(0,bN.jsxs)("h3",{className:"block ml-5",children:["@",t.userName]})]}):(0,bN.jsx)("p",{children:"Loading user data..."})})},QN=function(e){var t=e.name,n=void 0===t?"testingname":t,r=e.userName,i=void 0===r?"testusername":r;e.time;return(0,bN.jsx)("div",{children:(0,bN.jsxs)(bN.Fragment,{children:[(0,bN.jsx)("h1",{className:"font-bold w-full ml-5",children:n}),(0,bN.jsxs)("h3",{className:"block ml-5",children:["@",i]})]})})},JN=function(e){var t=e.text,n=void 0===t?"This is some placeholder text. May the King live for a long time and have lots of good things. Our Father in Heaven, Hallowed be thy name. thy Kingdom come, thy will be done in Earth as it is in Heaven. Give us today our daily bread.":t;return(0,bN.jsx)("p",{children:n})},XN=function(e){var t=e.dislikes,n=void 0===t?100:t,i=e.likes,a=void 0===i?273:i,o=e.comments,u=void 0===o?7:o,s=l((0,r.useState)(!1),2),c=s[0],f=s[1],h=l((0,r.useState)(a),2),d=h[0],p=h[1],v=l((0,r.useState)(!1),2),m=v[0],y=v[1],g=l((0,r.useState)(n),2),k=g[0],b=g[1],w=l((0,r.useState)(!1),2),_=w[0],x=w[1],I=l((0,r.useState)(u),2),E=I[0];I[1];return(0,bN.jsxs)("div",{className:" flex",children:[(0,bN.jsxs)("button",{className:"m-3 mt-8 ml-0 flex",onClick:function(){c&&!m?(f(!c),p(d-1)):c||m?!c&&m&&(y(!1),b(k-1),f(!0),p(d+1)):(f(!c),p(d+1))},children:[c?(0,bN.jsx)(jN,{size:"20"}):(0,bN.jsx)(zN,{size:"20"}),(0,bN.jsx)("p",{className:"ml-3 mr-3 mt-0",children:HN(d)})]}),(0,bN.jsxs)("button",{className:"m-3 mt-8 ml-0 flex",onClick:function(){m&&!c?(y(!1),b(k-1)):m||c?!m&&c&&(f(!1),p(d-1),y(!0),b(k+1)):(y(!0),b(k+1))},children:[m?(0,bN.jsx)(UN,{size:"20"}):(0,bN.jsx)(BN,{size:"20"}),(0,bN.jsx)("p",{className:"ml-3 mr-3 mt-0",children:HN(k)})]}),(0,bN.jsxs)("button",{className:"m-3 mt-8 ml-0 flex",onClick:function(){return x(!_)},children:[_?(0,bN.jsx)(qN,{size:"20"}):(0,bN.jsx)(VN,{size:"20"}),(0,bN.jsx)("p",{className:"ml-3 mr-3 mt-0",children:HN(E)})]})]})},YN=function(e){var t=e.name,n=e.userName,r=e.dislikes,i=(e.comments,e.status,e.likes),a=e.text,o=e.time,u=e.image;return(0,bN.jsxs)("div",{style:{backgroundImage:"url(".concat(KN,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"},className:"m-auto p-10 w-1/2 h-1/4 bg-cover",children:[(0,bN.jsxs)("div",{className:"flex ",children:[(0,bN.jsx)("div",{className:"mb-5 ",children:(0,bN.jsx)(WN,{})}),(0,bN.jsx)(QN,{name:t,userName:n,time:o})]}),(0,bN.jsx)(JN,{text:a}),(0,bN.jsx)("img",{src:u}),(0,bN.jsx)(XN,{likes:i,dislikes:r,comments:5})]})},ZN=n(366),$N=n.n(ZN),eR=n.p+"static/media/sendicon.82a318898255faba61ef.png",tR=($N()("0daeIg73TT6IvweTfhK6aM54rZLCbOLD"),function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=we(),a=l((0,r.useState)(0),2),o=a[0],u=a[1],s=l((0,r.useState)(""),2),c=s[0],f=s[1],h=20;(0,r.useEffect)((function(){var e=function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=yN.currentUser,n=t.uid,console.log(n),e.prev=3,e.next=6,mN.collection("users").doc(n).get();case 6:(r=e.sent).exists&&(i=r.data(),f(i)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error fetching user data:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),h="royal"===c.status?100:"noble"===c.status?50:"king"===c.status?1e18:10;var d=l((0,r.useState)(""),2),p=(d[0],d[1],l((0,r.useState)([]),2)),v=(p[0],p[1],l((0,r.useState)(!1),2)),m=(v[0],v[1]),y=l((0,r.useState)(!1),2),g=(y[0],y[1],l((0,r.useState)(null),2)),k=g[0],b=g[1],w=l((0,r.useState)(""),2),_=w[0],x=w[1],I=l((0,r.useState)(""),2),E=(I[0],I[1],l((0,r.useState)(!1),2)),T=E[0],A=E[1];(0,r.useEffect)((function(){T&&(console.log("Character Allowance Reached!!!"),alert("Character Allowance Reached!!!"))}),[T]);var S=function(e){mN.collection("posts").add({text:t,image:e,userID:yN.currentUser.uid,likes:0,dislikes:0,timestamp:new Date}).then((function(e){console.log("Post submitted successfully with ID:",e.id),mN.collection("posts").doc(e.id).collection("comments").add({text:"Sample comment",userID:yN.currentUser.uid,timestamp:new Date}).then((function(){console.log("Comment added successfully to the post!")})).then((function(){x(null),b(null),u(0),i("/feed")})).catch((function(e){console.error("Error adding comment to the post:",e)}))})).catch((function(e){console.error("Error submitting post:",e)}))};return(0,bN.jsxs)("div",{className:"m-auto p-10 shadow-md w-1/2 h-1/4",children:[(0,bN.jsxs)("div",{className:"flex",children:[(0,bN.jsx)("div",{className:"mb-5",children:(0,bN.jsx)(WN,{})}),(0,bN.jsx)(GN,{})]}),(0,bN.jsx)("div",{children:(0,bN.jsx)("textarea",{placeholder:"What's on your mind?",className:"w-full text-black-500 border rounded",value:t,onChange:function(e){var t=e.target.value;t.length<=h?(n(t),u(t.length),T&&A(!1)):A(!0)}})}),(0,bN.jsxs)("p",{id:"word-count",children:["Character allowance: ",o,"/",h]}),(0,bN.jsxs)("div",{className:" flex",children:[(0,bN.jsx)("input",{type:"file",onChange:function(e){console.log(e.target.files[0]),b(e.target.files[0]);var t=new FileReader;t.onloadend=function(){x(t.result),m(!0)},e.target.files[0]&&t.readAsDataURL(e.target.files[0])}}),_&&(0,bN.jsx)("img",{src:_,alt:"Uploaded"})]}),(0,bN.jsx)("div",{class:"container flex justify-end",children:(0,bN.jsx)("a",{href:"#",class:"image-button",onClick:function(){if(t){var e=gN.ref(),r=null;if(n(""),k)e.child(yN.currentUser.uid+"/"+new Date+"/"+k.name).put(k).then((function(e){return console.log("File uploaded successfully!",e),e.ref.getDownloadURL()})).then((function(e){console.log("Image URL:",e),S(r=e)})).catch((function(e){console.error("Error uploading file:",e),S(r)}));else S(r)}},children:(0,bN.jsx)("img",{className:"w-10",src:eR,alt:"send"})})})]})});var nR=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1];function i(e){return a.apply(this,arguments)}function a(){return(a=Ze(Xe().mark((function e(t){var n,r,i,a,o,u,s,c;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=mN.collection("users").doc(t),e.next=4,n.get();case 4:if(!(r=e.sent).exists){e.next=11;break}return i=r.data(),a=i.name,o=i.email,u=i.status,s=i.letters,c=i.userName,e.abrupt("return",{id:t,name:a,email:o,status:u,letters:s,userName:c});case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log("Error fetching user info:",e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return(0,r.useEffect)((function(){var e=function(){var e=Ze(Xe().mark((function e(){var t,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mN.collection("leaderboard").orderBy("points","desc").get();case 3:return t=e.sent,e.next=6,Promise.all(t.docs.map(function(){var e=Ze(Xe().mark((function e(t){var n,r,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.data().points,e.next=4,i(n);case 4:return a=e.sent,e.abrupt("return",Kt({id:n,points:r,statusEmoji:""},a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:r=e.sent,n(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error fetching leaderboard data:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,bN.jsx)("div",{className:"w-2/3 mx-auto",children:(0,bN.jsxs)("div",{className:"leaderboard bg-white rounded-lg shadow-md p-4 background-light",children:[(0,bN.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Hierarchy"}),(0,bN.jsx)("ul",{children:t.map((function(e){return(0,bN.jsxs)("li",{className:"flex items-center justify-between py-2 border-b border-gray-300 last:border-b-0",children:[(0,bN.jsxs)("span",{className:"text-lg font-serif italic text-gray-700",children:[e.name," (",e.status,") @",e.userName]}),(0,bN.jsxs)("span",{className:"text-lg font-bold text-yellow-800",children:["Letters: ",e.points]})]},e.id)}))})]})})},rR=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1];function i(e){return a.apply(this,arguments)}function a(){return(a=Ze(Xe().mark((function e(t){var n,r,i,a,o,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=mN.collection("users").doc(t),e.next=4,n.get();case 4:if(!(r=e.sent).exists){e.next=11;break}return i=r.data(),a=i.name,o=i.status,u=i.userName,e.abrupt("return",{id:t,name:a,status:o,userName:u});case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log("Error fetching user info:",e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return(0,r.useEffect)((function(){var e=function(){var e=Ze(Xe().mark((function e(){var t,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mN.collection("posts").orderBy("timestamp","desc").get();case 3:return t=e.sent,e.next=6,Promise.all(t.docs.map(function(){var e=Ze(Xe().mark((function e(t){var n,r,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.data(),a=r.userID,e.next=5,i(a);case 5:return o=e.sent,e.abrupt("return",Kt(Kt({id:n},r),o));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:r=e.sent,n(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error fetching post data:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e(),console.log(t)}),[t]),(0,bN.jsx)(bN.Fragment,{children:(0,bN.jsxs)("div",{children:[(0,bN.jsx)(tR,{}),t.map((function(e){return(0,bN.jsx)(YN,{name:e.name,userName:e.userName,dislikes:e.dislikes,comments:e.comments,likes:e.likes,text:e.text,status:e.status,image:e.image,time:"6 August 2023"},e.timestamp)}))]})})};var iR=function(){return(0,bN.jsxs)(Ke,{children:[(0,bN.jsx)(wN,{}),(0,bN.jsxs)(Fe,{children:[(0,bN.jsx)(Le,{path:"/sesa-x-wdcc-hackathon",element:(0,bN.jsx)(EN,{})}),(0,bN.jsx)(Le,{path:"/login",element:(0,bN.jsx)(_N,{})}),(0,bN.jsx)(Le,{path:"/signup",element:(0,bN.jsx)(xN,{})}),(0,bN.jsx)(Le,{path:"/friends",element:(0,bN.jsx)(NN,{})}),(0,bN.jsx)(Le,{path:"/postdraft",element:(0,bN.jsx)(tR,{})}),(0,bN.jsx)(Le,{path:"/hierarchy",element:(0,bN.jsx)(nR,{})}),(0,bN.jsx)(Le,{path:"/post",element:(0,bN.jsx)(YN,{})}),(0,bN.jsx)(Le,{path:"/feed",element:(0,bN.jsx)(rR,{})})]})]})};a.render((0,bN.jsx)(r.StrictMode,{children:(0,bN.jsx)(iR,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.8420ed65.js.map